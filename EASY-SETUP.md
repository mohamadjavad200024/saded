# ุฑุงูููุง ุณุงุฏู ุฑุงูโุงูุฏุงุฒ PostgreSQL

## ๐ฏ ูุดฺฉู ูุนู

PostgreSQL ูุตุจ ุงุณุช ู ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุชุ ุงูุง ุฑูุฒ ุฑุง ููโุฏุงูู.

## โ ุฑุงู ุญู ุณุงุฏู (3 ุฑูุด)

### ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ pgAdmin (ุณุงุฏูโุชุฑู) โญ

1. **pgAdmin ุฑุง ุจุงุฒ ฺฉูุฏ**
   - ุฏุฑ ููู Start ุฌุณุชุฌู ฺฉูุฏ: "pgAdmin"
   - ุง ุงุฒ ูุณุฑ: `C:\Program Files\pgAdmin 4\runtime\pgAdmin4.exe`

2. **ุฑูุฒ ุฑุง ุจุจูุฏ:**
   - ุฏุฑ ุณูุช ฺูพุ ุฑู Server ฺฉูฺฉ ฺฉูุฏ
   - ุฑุงุณุช ฺฉูฺฉ โ Properties
   - ุชุจ Connection ุฑุง ุจุงุฒ ฺฉูุฏ
   - ุฑูุฒ ุฑุง ุจุจูุฏ (ุง ุชุบุฑ ุฏูุฏ)

3. **ุฑูุฒ ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ** ู ุณูพุณ ุงู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
   ```bash
   DB_PASSWORD=ุฑูุฒ_ุดูุง node scripts/setup-with-existing-password.js
   ```

### ุฑูุด 2: ุจุฑุฑุณ ูุงูโูุง .env ูพุฑูฺูโูุง ุฏฺฏุฑ

ุงฺฏุฑ ุฏุฑ ูพุฑูฺูโูุง ุฏฺฏุฑ ุงุฒ PostgreSQL ุงุณุชูุงุฏู ฺฉุฑุฏูโุงุฏ:

1. ูุงู `.env` ูพุฑูฺูโูุง ุฏฺฏุฑ ุฑุง ุจุงุฒ ฺฉูุฏ
2. ุฑูุฒ `DB_PASSWORD` ุฑุง ูพุฏุง ฺฉูุฏ
3. ุงุฒ ููุงู ุฑูุฒ ุงุณุชูุงุฏู ฺฉูุฏ:
   ```bash
   DB_PASSWORD=ุฑูุฒ_ูพุฏุง_ุดุฏู node scripts/setup-with-existing-password.js
   ```

### ุฑูุด 3: Reset ฺฉุฑุฏู ุฑูุฒ

ุงฺฏุฑ ุฑูุฒ ุฑุง ูุฑุงููุด ฺฉุฑุฏูโุงุฏ:

1. **ูุงู `pg_hba.conf` ุฑุง ุจุงุฒ ฺฉูุฏ:**
   ```
   C:\Program Files\PostgreSQL\18\data\pg_hba.conf
   ```

2. **ุฎุท ุฒุฑ ุฑุง ูพุฏุง ฺฉูุฏ:**
   ```
   host    all    all    127.0.0.1/32    scram-sha-256
   ```

3. **ุจู ุงู ุชุบุฑ ุฏูุฏ (ูููุชุงู):**
   ```
   host    all    all    127.0.0.1/32    trust
   ```

4. **PostgreSQL ุฑุง restart ฺฉูุฏ:**
   - Services โ PostgreSQL โ Restart
   - ุง: `net stop postgresql-x64-18` ุณูพุณ `net start postgresql-x64-18`

5. **ุฑูุฒ ุฑุง ุชุบุฑ ุฏูุฏ:**
   ```bash
   psql -U postgres
   ```
   ุณูพุณ:
   ```sql
   ALTER USER postgres PASSWORD 'saded';
   \q
   ```

6. **ูุงู `pg_hba.conf` ุฑุง ุจู ุญุงูุช ูุจู ุจุฑฺฏุฑุฏุงูุฏ**

7. **PostgreSQL ุฑุง ุฏูุจุงุฑู restart ฺฉูุฏ**

8. **ุญุงูุง ูโุชูุงูุฏ ุงุฒ ุฑูุฒ `saded` ุงุณุชูุงุฏู ฺฉูุฏ:**
   ```bash
   pnpm setup-postgres
   ```

## ๐ ุจุนุฏ ุงุฒ ูพุฏุง ฺฉุฑุฏู ุฑูุฒ

ุจุนุฏ ุงุฒ ุงูฺฉู ุฑูุฒ ุฑุง ูพุฏุง ฺฉุฑุฏุฏุ ฺฉ ุงุฒ ุงู ุฏุณุชูุฑุงุช ุฑุง ุงุฌุฑุง ฺฉูุฏ:

### ุงฺฏุฑ ุฑูุฒ ุฑุง ูโุฏุงูุฏ:
```bash
DB_PASSWORD=ุฑูุฒ_ุดูุง node scripts/setup-with-existing-password.js
```

### ุงฺฏุฑ ุฑูุฒ ุฑุง `saded` ุชูุธู ฺฉุฑุฏุฏ:
```bash
pnpm setup-postgres
```

## ๐ ุงุฌุงุฏ ูุงู .env

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒุ ฺฉ ูุงู `.env` ุฏุฑ ุฑุดู ูพุฑูฺู ุงุฌุงุฏ ฺฉูุฏ:

```env
DB_HOST=localhost
DB_PORT=5432
DB_NAME=saded
DB_USER=postgres
DB_PASSWORD=ุฑูุฒ_ุดูุง
```

## โ ุจุฑุฑุณ

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒุ ุจุฑุฑุณ ฺฉูุฏ:

```bash
psql -U postgres -d saded -c "SELECT COUNT(*) FROM products;"
```

ุงฺฏุฑ ุนุฏุฏ ูุดุงู ุฏุงุฏุ ููู ฺุฒ ุฏุฑุณุช ุงุณุช! ๐

