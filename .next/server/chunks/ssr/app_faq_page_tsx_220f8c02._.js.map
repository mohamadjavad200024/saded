{"version":3,"sources":["../../../../app/faq/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Header } from \"@/components/layout/header\";\r\nimport { Footer } from \"@/components/layout/footer\";\r\n\r\ninterface FAQItem {\r\n  question: string;\r\n  answer: string;\r\n}\r\n\r\nconst defaultFAQs: FAQItem[] = [\r\n  {\r\n    question: \"چگونه می‌توانم سفارش بدهم؟\",\r\n    answer: \"شما می‌توانید با مراجعه به صفحه محصولات، محصول مورد نظر خود را انتخاب کرده و به سبد خرید اضافه کنید.\",\r\n  },\r\n  {\r\n    question: \"روش‌های پرداخت چیست؟\",\r\n    answer: \"پرداخت از طریق درگاه پرداخت آنلاین انجام می‌شود.\",\r\n  },\r\n  {\r\n    question: \"زمان تحویل چقدر است؟\",\r\n    answer: \"زمان تحویل بسته به روش ارسال انتخابی شما متفاوت است.\",\r\n  },\r\n];\r\n\r\nexport default function FAQPage() {\r\n  const [faqs, setFaqs] = useState<FAQItem[]>(defaultFAQs);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchContent = async () => {\r\n      try {\r\n        // اضافه کردن timestamp برای جلوگیری از cache\r\n        const response = await fetch(`/api/settings/page-content?page=faq&t=${Date.now()}`, {\r\n          cache: \"no-store\",\r\n        });\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          if (data.data?.content) {\r\n            const content = typeof data.data.content === \"string\" \r\n              ? JSON.parse(data.data.content) \r\n              : data.data.content;\r\n            // اگر array بود و محتوا داشت، استفاده کن، در غیر این صورت از default استفاده می‌شود\r\n            if (Array.isArray(content) && content.length > 0) {\r\n              setFaqs(content);\r\n            } else {\r\n              setFaqs(defaultFAQs);\r\n            }\r\n          } else {\r\n            // اگر محتوا موجود نبود، از default استفاده می‌شود\r\n            setFaqs(defaultFAQs);\r\n          }\r\n        } else {\r\n          // اگر خطا بود، از default استفاده می‌شود\r\n          setFaqs(defaultFAQs);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching FAQ content:\", error);\r\n        // در صورت خطا، از default استفاده می‌شود\r\n        setFaqs(defaultFAQs);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchContent();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col\">\r\n      <Header />\r\n      <main className=\"flex-1 container py-8\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <h1 className=\"text-3xl font-bold mb-6\">سوالات متداول</h1>\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center py-8\">\r\n              <div className=\"w-6 h-6 border-3 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {faqs.length === 0 ? (\r\n                <p className=\"text-muted-foreground\">در حال حاضر سوالی ثبت نشده است.</p>\r\n              ) : (\r\n                faqs.map((faq, index) => (\r\n                  <div key={index} className=\"border-b border-border pb-4\">\r\n                    <h3 className=\"font-semibold mb-2\">{faq.question}</h3>\r\n                    <p className=\"text-muted-foreground\">{faq.answer}</p>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOA,IAAM,EAAyB,CAC7B,CACE,SAAU,6BACV,OAAQ,sGACV,EACA,CACE,SAAU,uBACV,OAAQ,kDACV,EACA,CACE,SAAU,uBACV,OAAQ,sDACV,EACD,CAEc,SAAS,IACtB,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,GACtC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAwCvC,MAtCA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAmCR,CAlCqB,UACnB,GAAI,CAEF,IAAM,EAAW,MAAM,MAAM,CAAC,sCAAsC,EAAE,KAAK,GAAG,GAAA,CAAI,CAAE,CAClF,MAAO,UACT,GACA,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,GAAI,EAAK,IAAI,EAAE,QAAS,CACtB,IAAM,EAAuC,UAA7B,OAAO,EAAK,IAAI,CAAC,OAAO,CACpC,KAAK,KAAK,CAAC,EAAK,IAAI,CAAC,OAAO,EAC5B,EAAK,IAAI,CAAC,OAAO,CAEjB,MAAM,OAAO,CAAC,IAAY,EAAQ,MAAM,CAAG,EAC7C,CADgD,CACxC,GAER,EAAQ,EAEZ,MAEE,CAFK,CAEG,EAEZ,MAEE,CAFK,CAEG,EAEZ,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,8BAA+B,GAE7C,EAAQ,EACV,QAAU,CACR,GAAW,EACb,EACF,GAEF,EAAG,EAAE,EAGH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,kBACvC,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qFAGjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACI,IAAhB,EAAK,MAAM,CACV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,oCAErC,EAAK,GAAG,CAAC,CAAC,EAAK,IACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAgB,UAAU,wCACzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAsB,EAAI,QAAQ,GAChD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,EAAI,MAAM,KAFxC,WAUtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,KAGb"}