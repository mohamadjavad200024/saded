{"version":3,"sources":["../../../../components/admin/image-upload.tsx","../../../../components/admin/product-form.tsx","../../../../node_modules/lucide-react/src/icons/gift.ts","../../../../node_modules/lucide-react/src/icons/tag.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { X, Upload, Image as ImageIcon, Loader2 } from \"lucide-react\";\nimport { SafeImage } from \"@/components/ui/safe-image\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface ImageUploadProps {\n  images: string[];\n  onChange: (images: string[]) => void;\n  maxImages?: number;\n  className?: string;\n}\n\nexport function ImageUpload({\n  images,\n  onChange,\n  maxImages = 5,\n  className,\n}: ImageUploadProps) {\n  const [uploading, setUploading] = useState<number | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const { toast } = useToast();\n\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (!files || files.length === 0) return;\n\n    const remainingSlots = maxImages - images.length;\n    if (remainingSlots <= 0) {\n      toast({\n        title: \"خطا\",\n        description: `حداکثر ${maxImages} تصویر می‌توانید آپلود کنید`,\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const filesToUpload = Array.from(files).slice(0, remainingSlots);\n\n    for (let i = 0; i < filesToUpload.length; i++) {\n      const file = filesToUpload[i];\n      \n      // Validate file type\n      if (!file.type.startsWith(\"image/\")) {\n        toast({\n          title: \"خطا\",\n          description: \"فقط فایل‌های تصویری مجاز هستند\",\n          variant: \"destructive\",\n        });\n        continue;\n      }\n\n      // Validate file size (max 5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        toast({\n          title: \"خطا\",\n          description: \"حجم فایل باید کمتر از 5 مگابایت باشد\",\n          variant: \"destructive\",\n        });\n        continue;\n      }\n\n      setUploading(i);\n      \n      try {\n        // Convert to base64 for now (in production, upload to a server)\n        const base64 = await fileToBase64(file);\n        const newImages = [...images, base64];\n        onChange(newImages);\n        \n        toast({\n          title: \"موفق\",\n          description: \"تصویر با موفقیت آپلود شد\",\n        });\n      } catch (error) {\n        toast({\n          title: \"خطا\",\n          description: \"خطا در آپلود تصویر\",\n          variant: \"destructive\",\n        });\n      } finally {\n        setUploading(null);\n      }\n    }\n\n    // Reset input\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const compressImage = (file: File, maxWidth: number = 1920, quality: number = 0.9): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e) => {\n        const img = new Image();\n        img.onload = () => {\n          const canvas = document.createElement(\"canvas\");\n          let width = img.width;\n          let height = img.height;\n\n          // Calculate new dimensions while maintaining aspect ratio\n          if (width > maxWidth) {\n            height = (height * maxWidth) / width;\n            width = maxWidth;\n          }\n\n          canvas.width = width;\n          canvas.height = height;\n\n          const ctx = canvas.getContext(\"2d\");\n          if (!ctx) {\n            reject(new Error(\"Failed to get canvas context\"));\n            return;\n          }\n\n          // Use high-quality rendering\n          ctx.imageSmoothingEnabled = true;\n          ctx.imageSmoothingQuality = \"high\";\n          \n          // Draw image with high quality\n          ctx.drawImage(img, 0, 0, width, height);\n\n          // Convert to base64 with quality setting\n          const base64 = canvas.toDataURL(\"image/jpeg\", quality);\n          resolve(base64);\n        };\n        img.onerror = () => reject(new Error(\"Failed to load image\"));\n        img.src = e.target?.result as string;\n      };\n      reader.onerror = (error) => reject(error);\n    });\n  };\n\n  const fileToBase64 = async (file: File): Promise<string> => {\n    // For images, use compression to maintain quality while reducing size\n    if (file.type.startsWith(\"image/\")) {\n      try {\n        return await compressImage(file, 1920, 0.92);\n      } catch (error) {\n        // Fallback to original method if compression fails\n        console.warn(\"Image compression failed, using original:\", error);\n      }\n    }\n    \n    // Fallback for non-images or if compression fails\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result as string);\n      reader.onerror = (error) => reject(error);\n    });\n  };\n\n  const removeImage = (index: number) => {\n    const newImages = images.filter((_, i) => i !== index);\n    onChange(newImages);\n  };\n\n  const handleClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  return (\n    <div className={cn(\"space-y-4\", className)}>\n      {/* Single Upload Area */}\n      <div\n        onClick={handleClick}\n        className={cn(\n          \"relative border-2 border-dashed rounded-lg transition-all cursor-pointer\",\n          \"hover:border-primary/50 hover:bg-primary/5\",\n          uploading !== null \n            ? \"border-muted-foreground/30 bg-muted/30 cursor-not-allowed\" \n            : \"border-border/30 bg-muted/20\",\n          images.length > 0 && \"border-primary/30 bg-primary/5\"\n        )}\n      >\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          multiple\n          onChange={handleFileSelect}\n          className=\"hidden\"\n        />\n        \n        {images.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-12 px-4\">\n            {uploading !== null ? (\n              <>\n                <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n                <p className=\"text-sm font-medium text-foreground\">در حال آپلود...</p>\n              </>\n            ) : (\n              <>\n                <div className=\"relative mb-4\">\n                  <div className=\"absolute inset-0 bg-primary/10 rounded-full blur-xl\"></div>\n                  <div className=\"relative bg-primary/10 rounded-full p-4\">\n                    <Upload className=\"h-10 w-10 text-primary\" />\n                  </div>\n                </div>\n                <p className=\"text-base font-semibold text-foreground mb-1\">\n                  آپلود تصاویر محصول\n                </p>\n                <p className=\"text-sm text-muted-foreground text-center mb-4\">\n                  تصاویر را اینجا بکشید یا کلیک کنید\n                </p>\n                <Button type=\"button\" variant=\"default\" size=\"lg\" className=\"gap-2\">\n                  <ImageIcon className=\"h-4 w-4\" />\n                  انتخاب تصاویر\n                </Button>\n              </>\n            )}\n          </div>\n        ) : (\n          <div className=\"p-4\">\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 mb-4\">\n              {images.map((image, index) => (\n                <div\n                  key={index}\n                  className=\"relative group aspect-square rounded-lg border-2 border-border/30 overflow-hidden bg-muted shadow-sm hover:shadow-md transition-all\"\n                >\n                  <SafeImage\n                    src={image}\n                    alt={`تصویر ${index + 1}`}\n                    fill\n                    className=\"object-cover\"\n                    priority\n                    loading=\"eager\"\n                  />\n                  <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-colors flex items-center justify-center\">\n                    <Button\n                      type=\"button\"\n                      variant=\"destructive\"\n                      size=\"icon\"\n                      className=\"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        removeImage(index);\n                      }}\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                  {index === 0 && (\n                    <div className=\"absolute top-2 right-2\">\n                      <span className=\"px-2 py-0.5 text-[10px] font-bold rounded-md bg-primary text-primary-foreground shadow-sm\">\n                        اصلی\n                      </span>\n                    </div>\n                  )}\n                </div>\n              ))}\n              \n              {images.length < maxImages && (\n                <button\n                  type=\"button\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleClick();\n                  }}\n                  disabled={uploading !== null}\n                  className={cn(\n                    \"aspect-square rounded-lg border-2 border-dashed border-border/30 bg-muted/50 hover:bg-muted hover:border-primary/30 transition-all flex flex-col items-center justify-center gap-2 group\",\n                    uploading !== null && \"opacity-50 cursor-not-allowed\"\n                  )}\n                >\n                  {uploading !== null ? (\n                    <Loader2 className=\"h-5 w-5 animate-spin text-muted-foreground\" />\n                  ) : (\n                    <>\n                      <Upload className=\"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors\" />\n                      <span className=\"text-[10px] text-muted-foreground group-hover:text-primary transition-colors\">\n                        افزودن\n                      </span>\n                    </>\n                  )}\n                </button>\n              )}\n            </div>\n            \n            {images.length < maxImages && (\n              <div className=\"flex items-center justify-center pt-2 border-t border-border/20\">\n                <Button \n                  type=\"button\" \n                  variant=\"outline\" \n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleClick();\n                  }}\n                  disabled={uploading !== null}\n                  className=\"gap-2\"\n                >\n                  <Upload className=\"h-4 w-4\" />\n                  افزودن تصویر بیشتر ({images.length}/{maxImages})\n                </Button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex items-start gap-2 text-xs text-muted-foreground bg-muted/30 p-3 rounded-lg\">\n        <ImageIcon className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\n        <div className=\"flex-1\">\n          <p className=\"font-medium mb-1\">راهنمای آپلود:</p>\n          <ul className=\"list-disc list-inside space-y-0.5 text-[11px]\">\n            <li>می‌توانید تا {maxImages} تصویر آپلود کنید</li>\n            <li>فرمت‌های مجاز: JPG, PNG, WebP</li>\n            <li>حداکثر حجم هر فایل: 5 مگابایت</li>\n            <li>اولین تصویر به عنوان تصویر اصلی نمایش داده می‌شود</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n","\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { Product } from \"@/types/product\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useProductStore } from \"@/store/product-store\";\nimport { useCategoryStore } from \"@/store/category-store\";\nimport { useVehicleStore } from \"@/store/vehicle-store\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useRouter } from \"next/navigation\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport { X, Plus, Package, Settings, Image as ImageIcon, Tag, FileText, Loader2, Plane, Ship, Gift, DollarSign } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ImageUpload } from \"@/components/admin/image-upload\";\nimport { normalizeSpecifications } from \"@/lib/product-utils\";\n\nconst productSchema = z.object({\n  name: z.string().min(1, \"نام محصول الزامی است\"),\n  description: z.string().min(1, \"توضیحات الزامی است\"),\n  price: z.number().min(0, \"قیمت باید مثبت باشد\"),\n  originalPrice: z.number().optional().nullable(),\n  brand: z.string().min(1, \"برند الزامی است\"),\n  category: z.string().min(1, \"دسته‌بندی الزامی است\"),\n  vehicle: z.string().optional().nullable(),\n  model: z.string().optional().nullable(),\n  vin: z.string().optional(),\n  vinEnabled: z.boolean(),\n  airShippingEnabled: z.boolean(),\n  seaShippingEnabled: z.boolean(),\n  airShippingCost: z.preprocess(\n    (val) => {\n      // Handle all possible invalid values including boolean\n      if (val === \"\" || val === null || val === undefined || typeof val === \"boolean\") {\n        return null;\n      }\n      // Handle NaN\n      if (typeof val === \"number\" && isNaN(val)) {\n        return null;\n      }\n      // Convert string to number\n      if (typeof val === \"string\") {\n        const num = parseFloat(val);\n        return isNaN(num) ? null : num;\n      }\n      // If it's already a number, return it\n      if (typeof val === \"number\") {\n        return val;\n      }\n      // For any other type, return null\n      return null;\n    },\n    z.union([z.number().min(0, \"هزینه ارسال باید مثبت باشد\"), z.null()]).optional()\n  ),\n  seaShippingCost: z.preprocess(\n    (val) => {\n      // Handle all possible invalid values including boolean\n      if (val === \"\" || val === null || val === undefined || typeof val === \"boolean\") {\n        return null;\n      }\n      // Handle NaN\n      if (typeof val === \"number\" && isNaN(val)) {\n        return null;\n      }\n      // Convert string to number\n      if (typeof val === \"string\") {\n        const num = parseFloat(val);\n        return isNaN(num) ? null : num;\n      }\n      // If it's already a number, return it\n      if (typeof val === \"number\") {\n        return val;\n      }\n      // For any other type, return null\n      return null;\n    },\n    z.union([z.number().min(0, \"هزینه ارسال باید مثبت باشد\"), z.null()]).optional()\n  ),\n  stockCount: z.number().min(0, \"موجودی باید مثبت باشد\"),\n  inStock: z.boolean(),\n  enabled: z.boolean(),\n  images: z.array(z.string()).min(1, \"حداقل یک تصویر الزامی است\"),\n  tags: z.array(z.string()).optional(),\n  specifications: z.record(z.string()).optional(),\n}).refine((data) => {\n  if (data.vinEnabled) {\n    if (!data.vin || data.vin.length === 0) {\n      return false;\n    }\n    if (data.vin.length !== 17) {\n      return false;\n    }\n    if (!/^[A-HJ-NPR-Z0-9]{17}$/.test(data.vin)) {\n      return false;\n    }\n  }\n  return true;\n}, {\n  message: \"VIN باید دقیقاً 17 کاراکتر (حروف بزرگ انگلیسی و اعداد، بدون I, O, Q) باشد\",\n  path: [\"vin\"],\n});\n\ntype ProductFormData = z.infer<typeof productSchema>;\n\ninterface ProductFormProps {\n  product?: Product;\n  onSuccess?: () => void;\n}\n\nexport function ProductForm({ product, onSuccess }: ProductFormProps) {\n  const router = useRouter();\n  const { addProduct, updateProduct, loadProductsFromDB } = useProductStore();\n  const { getActiveCategories, loadCategoriesFromDB } = useCategoryStore();\n  const { getEnabledVehicles, loadVehiclesFromDB } = useVehicleStore();\n  const { toast } = useToast();\n  const categories = getActiveCategories();\n  const vehicles = getEnabledVehicles();\n  const [images, setImages] = useState<string[]>(\n    product?.images || []\n  );\n\n  // Load categories and vehicles from database when component mounts\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        // Load both in parallel for better performance\n        await Promise.all([\n          loadCategoriesFromDB(),\n          loadVehiclesFromDB(),\n        ]);\n      } catch (error) {\n        console.error(\"Error loading form data:\", error);\n      }\n    };\n    loadData();\n  }, [loadCategoriesFromDB, loadVehiclesFromDB]);\n  const [tags, setTags] = useState<string[]>(() => {\n    // Ensure tags is always an array\n    if (!product?.tags) return [];\n    if (Array.isArray(product.tags)) return product.tags;\n    // If tags is a string (JSON), try to parse it\n    if (typeof product.tags === 'string') {\n      try {\n        const parsed = JSON.parse(product.tags);\n        return Array.isArray(parsed) ? parsed : [];\n      } catch {\n        return [];\n      }\n    }\n    return [];\n  });\n  const [tagInput, setTagInput] = useState(\"\");\n  const [specifications, setSpecifications] = useState<\n    Record<string, string>\n  >(() => {\n    // Normalize specifications to ensure it's always an object\n    const normalizedSpecs = normalizeSpecifications(product?.specifications);\n    // Convert Record<string, unknown> to Record<string, string>\n    const result: Record<string, string> = {};\n    for (const [key, value] of Object.entries(normalizedSpecs)) {\n      result[key] = typeof value === 'string' ? value : String(value);\n    }\n    return result;\n  });\n  const [newSpecKey, setNewSpecKey] = useState(\"\");\n  const [newSpecValue, setNewSpecValue] = useState(\"\");\n  const [showSpecForm, setShowSpecForm] = useState(false);\n  const [vinEnabled, setVinEnabled] = useState(product?.vinEnabled ?? false);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n    setValue,\n    watch,\n  } = useForm<ProductFormData>({\n    resolver: zodResolver(productSchema),\n    mode: \"onChange\",\n    shouldUnregister: false,\n    defaultValues: (() => {\n      if (!product) return {\n        name: \"\",\n        description: \"\",\n        price: 0,\n        originalPrice: undefined,\n        brand: \"\",\n        category: \"\",\n        vehicle: \"\",\n        model: \"\",\n        vin: \"\",\n        vinEnabled: false,\n        airShippingEnabled: true,\n        seaShippingEnabled: true,\n        airShippingCost: null,\n        seaShippingCost: null,\n        stockCount: 0,\n        inStock: true,\n        enabled: true,\n        images: [],\n        tags: [],\n        specifications: {},\n      };\n      \n      // #region agent log\n      const convertedAirShipping = product.airShippingEnabled !== undefined ? Boolean(product.airShippingEnabled) : true;\n      const convertedSeaShipping = product.seaShippingEnabled !== undefined ? Boolean(product.seaShippingEnabled) : true;\n      const convertedInStock = product.inStock !== undefined ? Boolean(product.inStock) : true;\n      const convertedEnabled = product.enabled !== undefined ? Boolean(product.enabled) : true;\n      fetch('http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'product-form.tsx:193',message:'Setting defaultValues from product',data:{airShippingEnabledRaw:product.airShippingEnabled,airShippingEnabledType:typeof product.airShippingEnabled,airShippingEnabledConverted:convertedAirShipping,airShippingEnabledConvertedType:typeof convertedAirShipping,seaShippingEnabledRaw:product.seaShippingEnabled,seaShippingEnabledType:typeof product.seaShippingEnabled,seaShippingEnabledConverted:convertedSeaShipping,seaShippingEnabledConvertedType:typeof convertedSeaShipping,inStockRaw:product.inStock,inStockType:typeof product.inStock,inStockConverted:convertedInStock,inStockConvertedType:typeof convertedInStock,enabledRaw:product.enabled,enabledType:typeof product.enabled,enabledConverted:convertedEnabled,enabledConvertedType:typeof convertedEnabled},timestamp:Date.now(),sessionId:'debug-session',runId:'post-fix',hypothesisId:'C'})}).catch(()=>{});\n      // #endregion\n      \n      return {\n          name: product.name,\n          description: product.description ?? \"\",\n          price: product.price,\n          originalPrice: product.originalPrice ?? undefined,\n          brand: product.brand ?? \"\",\n          category: product.category ?? \"\",\n          vehicle: product.vehicle ?? \"\",\n          model: product.model ?? \"\",\n          vin: product.vin ?? \"\",\n          vinEnabled: product.vinEnabled !== undefined ? Boolean(product.vinEnabled) : false,\n          airShippingEnabled: convertedAirShipping,\n          seaShippingEnabled: convertedSeaShipping,\n          airShippingCost: product.airShippingCost ?? null,\n          seaShippingCost: product.seaShippingCost ?? null,\n          stockCount: product.stockCount,\n          inStock: convertedInStock,\n          enabled: convertedEnabled,\n          images: product.images || [],\n          tags: (() => {\n            // Ensure tags is always an array\n            if (!product.tags) return [];\n            if (Array.isArray(product.tags)) return product.tags;\n            // If tags is a string (JSON), try to parse it\n            if (typeof product.tags === 'string') {\n              try {\n                const parsed = JSON.parse(product.tags);\n                return Array.isArray(parsed) ? parsed : [];\n              } catch {\n                return [];\n              }\n            }\n            return [];\n          })(),\n          specifications: (() => {\n            // Normalize specifications to ensure it's always an object\n            const normalizedSpecs = normalizeSpecifications(product.specifications);\n            const result: Record<string, string> = {};\n            for (const [key, value] of Object.entries(normalizedSpecs)) {\n              result[key] = typeof value === 'string' ? value : String(value);\n            }\n            return result;\n          })(),\n        };\n    })(),\n  });\n\n  const inStock = watch(\"inStock\");\n  const enabled = watch(\"enabled\");\n  const airShippingEnabled = watch(\"airShippingEnabled\");\n  const seaShippingEnabled = watch(\"seaShippingEnabled\");\n  const airShippingCost = watch(\"airShippingCost\");\n  const seaShippingCost = watch(\"seaShippingCost\");\n  \n  // Get selected vehicle data - use useMemo to prevent re-renders\n  const selectedVehicle = watch(\"vehicle\");\n  const selectedVehicleData = useMemo(() => {\n    if (!selectedVehicle || !vehicles || vehicles.length === 0) {\n      return undefined;\n    }\n    return vehicles.find(v => v.id === selectedVehicle);\n  }, [selectedVehicle, vehicles]);\n\n  const handleImagesChange = (newImages: string[]) => {\n    setImages(newImages);\n    setValue(\"images\", newImages);\n  };\n\n  const addTag = () => {\n    if (tagInput.trim() && !tags.includes(tagInput.trim())) {\n      const newTags = [...tags, tagInput.trim()];\n      setTags(newTags);\n      setValue(\"tags\", newTags);\n      setTagInput(\"\");\n    }\n  };\n\n  const removeTag = (tag: string) => {\n    const newTags = tags.filter((t) => t !== tag);\n    setTags(newTags);\n    setValue(\"tags\", newTags);\n  };\n\n  const addSpecification = () => {\n    if (newSpecKey.trim() && newSpecValue.trim()) {\n      setSpecifications({ ...specifications, [newSpecKey.trim()]: newSpecValue.trim() });\n      setNewSpecKey(\"\");\n      setNewSpecValue(\"\");\n      setShowSpecForm(false);\n    }\n  };\n\n  const removeSpecification = (key: string) => {\n    const newSpecs = { ...specifications };\n    delete newSpecs[key];\n    setSpecifications(newSpecs);\n  };\n\n  const onSubmit = async (data: ProductFormData) => {\n    // #region agent log\n    fetch('http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'product-form.tsx:313',message:'onSubmit entry',data:{hasProduct:!!product,productId:product?.id,formDataKeys:Object.keys(data),imagesCount:images.length,tagsCount:tags.length,specsCount:Object.keys(specifications).length,vinEnabled},timestamp:Date.now(),sessionId:'debug-session',runId:'run1',hypothesisId:'A'})}).catch(()=>{});\n    // #endregion\n    try {\n      if (images.length === 0) {\n        toast({\n          title: \"خطا\",\n          description: \"حداقل یک تصویر الزامی است\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      // Normalize shipping costs - convert NaN, empty strings, and invalid values to null\n      const normalizedAirShippingCost = \n        data.airShippingCost === null || \n        data.airShippingCost === undefined || \n        (typeof data.airShippingCost === \"number\" && isNaN(data.airShippingCost)) ||\n        data.airShippingCost === 0\n          ? null \n          : Number(data.airShippingCost);\n      \n      const normalizedSeaShippingCost = \n        data.seaShippingCost === null || \n        data.seaShippingCost === undefined || \n        (typeof data.seaShippingCost === \"number\" && isNaN(data.seaShippingCost)) ||\n        data.seaShippingCost === 0\n          ? null \n          : Number(data.seaShippingCost);\n\n      const productData = {\n        ...data,\n        images,\n        tags,\n        specifications,\n        vin: vinEnabled ? data.vin : undefined,\n        vinEnabled,\n        airShippingCost: normalizedAirShippingCost,\n        seaShippingCost: normalizedSeaShippingCost,\n      };\n\n      // #region agent log\n      fetch('http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'product-form.tsx:350',message:'Before API call',data:{productId:product?.id,productDataKeys:Object.keys(productData),airShippingCost:productData.airShippingCost,seaShippingCost:productData.seaShippingCost,airShippingCostType:typeof productData.airShippingCost,seaShippingCostType:typeof productData.seaShippingCost,specsType:typeof productData.specifications,tagsType:typeof productData.tags},timestamp:Date.now(),sessionId:'debug-session',runId:'run1',hypothesisId:'B'})}).catch(()=>{});\n      // #endregion\n\n      if (product) {\n        // Update existing product via API\n        const response = await fetch(`/api/products/${product.id}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(productData),\n        });\n\n        // #region agent log\n        fetch('http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'product-form.tsx:362',message:'API response received',data:{status:response.status,statusText:response.statusText,ok:response.ok},timestamp:Date.now(),sessionId:'debug-session',runId:'run1',hypothesisId:'B'})}).catch(()=>{});\n        // #endregion\n\n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({}));\n          // #region agent log\n          fetch('http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'product-form.tsx:363',message:'API error response',data:{errorData,status:response.status},timestamp:Date.now(),sessionId:'debug-session',runId:'run1',hypothesisId:'B'})}).catch(()=>{});\n          // #endregion\n          throw new Error(errorData.message || \"خطا در به‌روزرسانی محصول\");\n        }\n\n        const updatedProduct = await response.json();\n        updateProduct(updatedProduct.data);\n        \n        // Reload products from database to ensure the list is up to date\n        await loadProductsFromDB(true);\n        \n        // Notify other tabs/pages that a product was updated\n        if (typeof window !== 'undefined') {\n          localStorage.setItem('product-updated', Date.now().toString());\n          // Trigger a custom event for same-tab updates\n          window.dispatchEvent(new Event('product-updated'));\n        }\n        \n        toast({\n          title: \"موفق\",\n          description: \"محصول با موفقیت به‌روزرسانی شد\",\n        });\n      } else {\n        // Create new product via API\n        const response = await fetch(\"/api/products\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(productData),\n        });\n\n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({}));\n          const errorMessage = errorData.error || errorData.message || \"خطا در ایجاد محصول\";\n          console.error(\"Error creating product:\", errorData);\n          throw new Error(errorMessage);\n        }\n\n        const result = await response.json();\n        console.log(\"Product created successfully:\", result);\n        \n        // Check if result has data property\n        const newProduct = result.data || result;\n        if (newProduct) {\n          addProduct(newProduct);\n        }\n        \n        // Reload products from database to ensure the list is up to date (include inactive for admin)\n        await loadProductsFromDB(true);\n        \n        // Notify other tabs/pages that a product was created\n        if (typeof window !== 'undefined') {\n          localStorage.setItem('product-created', Date.now().toString());\n          // Trigger a custom event for same-tab updates\n          window.dispatchEvent(new Event('product-created'));\n        }\n        \n        toast({\n          title: \"موفق\",\n          description: \"محصول با موفقیت اضافه شد\",\n        });\n      }\n\n      onSuccess?.();\n      router.push(\"/admin/products\");\n    } catch (error) {\n      toast({\n        title: \"خطا\",\n        description: error instanceof Error ? error.message : \"خطایی رخ داد. لطفاً دوباره تلاش کنید.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        {/* Basic Information */}\n        <Card className=\"shadow-sm\">\n          <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Package className=\"h-5 w-5 text-primary\" />\n              اطلاعات پایه\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">نام محصول *</Label>\n              <Input\n                id=\"name\"\n                {...register(\"name\")}\n                placeholder=\"نام محصول\"\n              />\n              {errors.name && (\n                <p className=\"text-sm text-destructive\">{errors.name.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">توضیحات *</Label>\n              <Textarea\n                id=\"description\"\n                {...register(\"description\")}\n                placeholder=\"توضیحات محصول\"\n                rows={4}\n              />\n              {errors.description && (\n                <p className=\"text-sm text-destructive\">\n                  {errors.description.message}\n                </p>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"price\">قیمت (تومان) *</Label>\n                <Input\n                  id=\"price\"\n                  type=\"number\"\n                  {...register(\"price\", { valueAsNumber: true })}\n                  placeholder=\"0\"\n                />\n                {errors.price && (\n                  <p className=\"text-sm text-destructive\">\n                    {errors.price.message}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"originalPrice\">قیمت اصلی (تومان)</Label>\n                <Input\n                  id=\"originalPrice\"\n                  type=\"number\"\n                  {...register(\"originalPrice\", { valueAsNumber: true })}\n                  placeholder=\"0\"\n                />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Category & Brand */}\n        <Card className=\"shadow-sm\">\n          <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Settings className=\"h-5 w-5 text-primary\" />\n              دسته‌بندی و برند\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"category\">دسته‌بندی *</Label>\n              <Select\n                value={watch(\"category\")}\n                onValueChange={(value) => setValue(\"category\", value)}\n              >\n                <SelectTrigger>\n                  <SelectValue placeholder=\"انتخاب دسته‌بندی\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {categories.map((cat) => (\n                    <SelectItem key={cat.id} value={cat.name}>\n                      {cat.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              {errors.category && (\n                <p className=\"text-sm text-destructive\">\n                  {errors.category.message}\n                </p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"brand\">برند *</Label>\n              <Input\n                id=\"brand\"\n                {...register(\"brand\")}\n                placeholder=\"نام برند\"\n              />\n              {errors.brand && (\n                <p className=\"text-sm text-destructive\">{errors.brand.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"vehicle\">خودرو</Label>\n              <Select\n                value={watch(\"vehicle\") || undefined}\n                onValueChange={(value) => {\n                  setValue(\"vehicle\", value || null);\n                  setValue(\"model\", null); // Reset model when vehicle changes\n                }}\n              >\n                <SelectTrigger>\n                  <SelectValue placeholder=\"انتخاب خودرو (اختیاری)\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {vehicles.map((v) => (\n                    <SelectItem key={v.id} value={v.id}>\n                      <div className=\"flex items-center gap-2\">\n                        {v.logo && (\n                          <img src={v.logo} alt={v.name} className=\"h-4 w-4 object-contain\" />\n                        )}\n                        <span>{v.name}</span>\n                      </div>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              {watch(\"vehicle\") && (\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-7 text-xs\"\n                  onClick={() => {\n                    setValue(\"vehicle\", null);\n                    setValue(\"model\", null);\n                  }}\n                >\n                  حذف انتخاب\n                </Button>\n              )}\n            </div>\n\n            {selectedVehicleData && selectedVehicleData.models && selectedVehicleData.models.length > 0 && (\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"model\">مدل</Label>\n                <Select\n                  value={watch(\"model\") || undefined}\n                  onValueChange={(value) => setValue(\"model\", value || null)}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"انتخاب مدل (اختیاری)\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {selectedVehicleData.models.map((model) => (\n                      <SelectItem key={model} value={model}>\n                        {model}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n                {watch(\"model\") && (\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-7 text-xs\"\n                    onClick={() => setValue(\"model\", null)}\n                  >\n                    حذف انتخاب\n                  </Button>\n                )}\n              </div>\n            )}\n\n            <div className=\"space-y-2 sm:space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"vinEnabled\">فعال‌سازی VIN</Label>\n                  <p className=\"text-sm text-muted-foreground\">\n                    نمایش VIN برای این محصول\n                  </p>\n                </div>\n                <Switch\n                  id=\"vinEnabled\"\n                  checked={vinEnabled}\n                  onCheckedChange={(checked) => {\n                    setVinEnabled(checked);\n                    setValue(\"vinEnabled\", checked);\n                    if (!checked) {\n                      setValue(\"vin\", \"\");\n                    }\n                  }}\n                />\n              </div>\n              <div className=\"space-y-1.5 sm:space-y-2\">\n                <Label htmlFor=\"vin\" className=\"text-[10px] sm:text-xs md:text-sm\">\n                  VIN {vinEnabled && \"*\"}\n                </Label>\n                <Input\n                  id=\"vin\"\n                  {...register(\"vin\", {\n                    onChange: (e) => {\n                      // Convert to uppercase automatically\n                      const upperValue = e.target.value.toUpperCase();\n                      e.target.value = upperValue;\n                      setValue(\"vin\", upperValue);\n                    },\n                  })}\n                  placeholder=\"17 کاراکتر (مثال: 1HGBH41JXMN109186)\"\n                  maxLength={17}\n                  className=\"font-mono text-[10px] sm:text-xs md:text-sm h-8 sm:h-9 md:h-10 px-2 sm:px-3\"\n                />\n                {errors.vin && (\n                  <p className=\"text-[9px] sm:text-[10px] md:text-xs text-destructive leading-tight\">{errors.vin.message}</p>\n                )}\n                {!vinEnabled && (\n                  <p className=\"text-[9px] sm:text-[10px] md:text-xs text-muted-foreground leading-tight\">\n                    برای اعتبارسنجی VIN، ابتدا \"فعال‌سازی VIN\" را فعال کنید\n                  </p>\n                )}\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"stockCount\">موجودی *</Label>\n              <Input\n                id=\"stockCount\"\n                type=\"number\"\n                {...register(\"stockCount\", { valueAsNumber: true })}\n                placeholder=\"0\"\n              />\n              {errors.stockCount && (\n                <p className=\"text-sm text-destructive\">\n                  {errors.stockCount.message}\n                </p>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Images */}\n      <Card className=\"shadow-sm\">\n        <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <ImageIcon className=\"h-5 w-5 text-primary\" />\n            تصاویر محصول\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ImageUpload\n            images={images}\n            onChange={handleImagesChange}\n            maxImages={5}\n          />\n          {errors.images && (\n            <p className=\"text-sm text-destructive mt-2\">{errors.images.message}</p>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Tags */}\n      <Card className=\"shadow-sm\">\n        <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <Tag className=\"h-5 w-5 text-primary\" />\n            تگ‌ها\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex gap-2\">\n            <Input\n              value={tagInput}\n              onChange={(e) => setTagInput(e.target.value)}\n              onKeyPress={(e) => {\n                if (e.key === \"Enter\") {\n                  e.preventDefault();\n                  addTag();\n                }\n              }}\n              placeholder=\"افزودن تگ\"\n            />\n            <Button type=\"button\" onClick={addTag}>\n              افزودن\n            </Button>\n          </div>\n          {tags.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 w-full\">\n              {tags.map((tag) => (\n                <Badge \n                  key={tag} \n                  variant=\"secondary\" \n                  className=\"inline-flex items-center gap-1 max-w-full px-2 py-1\"\n                >\n                  <span className=\"truncate max-w-[200px]\">{tag}</span>\n                  <button\n                    type=\"button\"\n                    onClick={() => removeTag(tag)}\n                    className=\"hover:text-destructive flex-shrink-0 ml-1\"\n                    aria-label=\"حذف تگ\"\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </Badge>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Specifications */}\n      <Card className=\"shadow-sm\">\n        <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <FileText className=\"h-5 w-5 text-primary\" />\n              مشخصات\n            </CardTitle>\n            <Button \n              type=\"button\" \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={() => setShowSpecForm(!showSpecForm)}\n            >\n              <Plus className=\"ml-2 h-4 w-4\" />\n              {showSpecForm ? \"انصراف\" : \"افزودن مشخصه\"}\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {showSpecForm && (\n            <div className=\"p-4 border border-border/30 rounded-lg bg-muted/30 space-y-3\">\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"specKey\">کلید مشخصه</Label>\n                  <Input\n                    id=\"specKey\"\n                    value={newSpecKey}\n                    onChange={(e) => setNewSpecKey(e.target.value)}\n                    placeholder=\"مثال: گارانتی\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"specValue\">مقدار</Label>\n                  <Input\n                    id=\"specValue\"\n                    value={newSpecValue}\n                    onChange={(e) => setNewSpecValue(e.target.value)}\n                    placeholder=\"مثال: 12 ماه\"\n                  />\n                </div>\n              </div>\n              <div className=\"flex gap-2\">\n                <Button type=\"button\" onClick={addSpecification} size=\"sm\">\n                  افزودن\n                </Button>\n                <Button \n                  type=\"button\" \n                  variant=\"outline\" \n                  size=\"sm\"\n                  onClick={() => {\n                    setShowSpecForm(false);\n                    setNewSpecKey(\"\");\n                    setNewSpecValue(\"\");\n                  }}\n                >\n                  انصراف\n                </Button>\n              </div>\n            </div>\n          )}\n          \n          {Object.keys(specifications).length > 0 ? (\n            <div className=\"space-y-2 w-full\">\n              {Object.entries(specifications).map(([key, value]) => (\n                <div\n                  key={key}\n                  className=\"flex items-start justify-between gap-3 p-3 border border-border/30 rounded-lg hover:bg-muted/50 transition-colors group w-full\"\n                >\n                  <div className=\"flex-1 min-w-0 flex flex-col gap-1\">\n                    <span className=\"text-sm font-medium text-foreground break-words\">{key}:</span>\n                    <span className=\"text-sm text-muted-foreground break-words\">{value}</span>\n                  </div>\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 h-8 w-8\"\n                    onClick={() => removeSpecification(key)}\n                    aria-label=\"حذف مشخصه\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              ))}\n            </div>\n          ) : (\n            !showSpecForm && (\n              <div className=\"text-center py-8 text-muted-foreground\">\n                <FileText className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\n                <p className=\"text-sm\">هیچ مشخصه‌ای اضافه نشده است</p>\n              </div>\n            )\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Status */}\n      <Card className=\"shadow-sm\">\n        <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <Settings className=\"h-5 w-5 text-primary\" />\n            وضعیت\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label>موجود در انبار</Label>\n              <p className=\"text-sm text-muted-foreground\">\n                محصول در انبار موجود است\n              </p>\n            </div>\n            <Switch\n              id=\"inStock\"\n              checked={inStock}\n              onCheckedChange={(checked) => setValue(\"inStock\", checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label>فعال</Label>\n              <p className=\"text-sm text-muted-foreground\">\n                محصول در سایت نمایش داده می‌شود\n              </p>\n            </div>\n            <Switch\n              id=\"enabled\"\n              checked={enabled}\n              onCheckedChange={(checked) => setValue(\"enabled\", checked)}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Shipping Methods */}\n      <Card className=\"shadow-sm\">\n        <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <Settings className=\"h-5 w-5 text-primary\" />\n            روش‌های ارسال\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-3 sm:space-y-4\">\n          <div className=\"space-y-3 sm:space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <Label htmlFor=\"airShippingEnabled\" className=\"flex items-center gap-1.5\">\n                  <Plane className=\"h-3 w-3 sm:h-3.5 sm:w-3.5\" />\n                  ارسال هوایی\n                </Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  امکان ارسال هوایی برای این محصول\n                </p>\n              </div>\n              <Switch\n                id=\"airShippingEnabled\"\n                checked={airShippingEnabled}\n                onCheckedChange={(checked) => {\n                  setValue(\"airShippingEnabled\", checked);\n                  if (!checked) {\n                    setValue(\"airShippingCost\", null);\n                  }\n                }}\n              />\n            </div>\n            {airShippingEnabled && (\n              <div className=\"space-y-3 pr-4 sm:pr-6 pt-3 border-t border-border/30\">\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n                  <Label htmlFor=\"airShippingCost\" className=\"text-[10px] sm:text-xs md:text-sm font-medium flex items-center gap-1.5\">\n                    <DollarSign className=\"h-3.5 w-3.5 text-muted-foreground\" />\n                    هزینه ارسال هوایی\n                  </Label>\n                  <div className=\"flex items-center gap-3\">\n                    <Badge \n                      variant={airShippingCost === null || airShippingCost === 0 ? \"success\" : \"default\"}\n                      className=\"flex items-center gap-1.5 px-3 py-1.5 text-[10px] sm:text-xs font-semibold shadow-sm\"\n                    >\n                      {airShippingCost === null || airShippingCost === 0 ? (\n                        <>\n                          <Gift className=\"h-3.5 w-3.5\" />\n                          <span>رایگان</span>\n                        </>\n                      ) : (\n                        <>\n                          <DollarSign className=\"h-3.5 w-3.5\" />\n                          <span>پولی</span>\n                        </>\n                      )}\n                    </Badge>\n                    <Switch\n                      id=\"airShippingCostToggle\"\n                      checked={airShippingCost !== null && airShippingCost !== 0}\n                      onCheckedChange={(checked) => {\n                        if (checked) {\n                          // If switching to paid, set a default value if current is null or 0\n                          setValue(\"airShippingCost\", airShippingCost && airShippingCost > 0 ? airShippingCost : 50000);\n                        } else {\n                          // If switching to free, set to null\n                          setValue(\"airShippingCost\", null);\n                        }\n                      }}\n                    />\n                  </div>\n                </div>\n                {(airShippingCost !== null && airShippingCost !== 0) && (\n                  <div className=\"space-y-2 bg-muted/30 p-3 rounded-lg border border-border/20\">\n                    <Input\n                      id=\"airShippingCost\"\n                      type=\"number\"\n                      {...register(\"airShippingCost\", {\n                        valueAsNumber: true,\n                        setValueAs: (value) => {\n                          if (value === \"\" || value === null || value === undefined) {\n                            return null;\n                          }\n                          const num = typeof value === \"string\" ? parseFloat(value) : Number(value);\n                          return isNaN(num) ? null : num;\n                        },\n                      })}\n                      placeholder=\"مثال: 50000\"\n                      min={1}\n                      className=\"text-[11px] sm:text-xs md:text-sm bg-background\"\n                    />\n                    <p className=\"text-[9px] sm:text-[10px] md:text-xs text-muted-foreground flex items-center gap-1\">\n                      <DollarSign className=\"h-3 w-3\" />\n                      هزینه ارسال به تومان\n                    </p>\n                  </div>\n                )}\n                {errors.airShippingCost && (\n                  <p className=\"text-[9px] sm:text-[10px] md:text-xs text-destructive flex items-center gap-1\">\n                    {errors.airShippingCost.message}\n                  </p>\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className=\"space-y-3 sm:space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <Label htmlFor=\"seaShippingEnabled\" className=\"flex items-center gap-1.5\">\n                  <Ship className=\"h-3 w-3 sm:h-3.5 sm:w-3.5\" />\n                  ارسال دریایی\n                </Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  امکان ارسال دریایی برای این محصول\n                </p>\n              </div>\n              <Switch\n                id=\"seaShippingEnabled\"\n                checked={seaShippingEnabled}\n                onCheckedChange={(checked) => {\n                  setValue(\"seaShippingEnabled\", checked);\n                  if (!checked) {\n                    setValue(\"seaShippingCost\", null);\n                  }\n                }}\n              />\n            </div>\n            {seaShippingEnabled && (\n              <div className=\"space-y-3 pr-4 sm:pr-6 pt-3 border-t border-border/30\">\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n                  <Label htmlFor=\"seaShippingCost\" className=\"text-[10px] sm:text-xs md:text-sm font-medium flex items-center gap-1.5\">\n                    <DollarSign className=\"h-3.5 w-3.5 text-muted-foreground\" />\n                    هزینه ارسال دریایی\n                  </Label>\n                  <div className=\"flex items-center gap-3\">\n                    <Badge \n                      variant={seaShippingCost === null || seaShippingCost === 0 ? \"success\" : \"default\"}\n                      className=\"flex items-center gap-1.5 px-3 py-1.5 text-[10px] sm:text-xs font-semibold shadow-sm\"\n                    >\n                      {seaShippingCost === null || seaShippingCost === 0 ? (\n                        <>\n                          <Gift className=\"h-3.5 w-3.5\" />\n                          <span>رایگان</span>\n                        </>\n                      ) : (\n                        <>\n                          <DollarSign className=\"h-3.5 w-3.5\" />\n                          <span>پولی</span>\n                        </>\n                      )}\n                    </Badge>\n                    <Switch\n                      id=\"seaShippingCostToggle\"\n                      checked={seaShippingCost !== null && seaShippingCost !== 0}\n                      onCheckedChange={(checked) => {\n                        if (checked) {\n                          // If switching to paid, set a default value if current is null or 0\n                          setValue(\"seaShippingCost\", seaShippingCost && seaShippingCost > 0 ? seaShippingCost : 50000);\n                        } else {\n                          // If switching to free, set to null\n                          setValue(\"seaShippingCost\", null);\n                        }\n                      }}\n                    />\n                  </div>\n                </div>\n                {(seaShippingCost !== null && seaShippingCost !== 0) && (\n                  <div className=\"space-y-2 bg-muted/30 p-3 rounded-lg border border-border/20\">\n                    <Input\n                      id=\"seaShippingCost\"\n                      type=\"number\"\n                      {...register(\"seaShippingCost\", {\n                        valueAsNumber: true,\n                        setValueAs: (value) => {\n                          if (value === \"\" || value === null || value === undefined) {\n                            return null;\n                          }\n                          const num = typeof value === \"string\" ? parseFloat(value) : Number(value);\n                          return isNaN(num) ? null : num;\n                        },\n                      })}\n                      placeholder=\"مثال: 50000\"\n                      min={1}\n                      className=\"text-[11px] sm:text-xs md:text-sm bg-background\"\n                    />\n                    <p className=\"text-[9px] sm:text-[10px] md:text-xs text-muted-foreground flex items-center gap-1\">\n                      <DollarSign className=\"h-3 w-3\" />\n                      هزینه ارسال به تومان\n                    </p>\n                  </div>\n                )}\n                {errors.seaShippingCost && (\n                  <p className=\"text-[9px] sm:text-[10px] md:text-xs text-destructive flex items-center gap-1\">\n                    {errors.seaShippingCost.message}\n                  </p>\n                )}\n              </div>\n            )}\n          </div>\n          {errors.airShippingEnabled && (\n            <p className=\"text-[9px] sm:text-[10px] md:text-xs text-destructive leading-tight\">\n              {errors.airShippingEnabled.message}\n            </p>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Actions */}\n      <div className=\"flex justify-end gap-4 pt-4 border-t border-border/30\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={() => router.back()}\n          size=\"lg\"\n        >\n          انصراف\n        </Button>\n        <Button \n          type=\"submit\" \n          disabled={isSubmitting}\n          size=\"lg\"\n          className=\"min-w-[140px]\"\n        >\n          {isSubmitting ? (\n            <>\n              <Loader2 className=\"ml-2 h-4 w-4 animate-spin\" />\n              در حال ذخیره...\n            </>\n          ) : product ? (\n            \"ذخیره تغییرات\"\n          ) : (\n            \"افزودن محصول\"\n          )}\n        </Button>\n      </div>\n    </form>\n  );\n}\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Gift\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB4PSIzIiB5PSI4IiB3aWR0aD0iMTgiIGhlaWdodD0iNCIgcng9IjEiIC8+CiAgPHBhdGggZD0iTTEyIDh2MTMiIC8+CiAgPHBhdGggZD0iTTE5IDEydjdhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJ2LTciIC8+CiAgPHBhdGggZD0iTTcuNSA4YTIuNSAyLjUgMCAwIDEgMC01QTQuOCA4IDAgMCAxIDEyIDhhNC44IDggMCAwIDEgNC41LTUgMi41IDIuNSAwIDAgMSAwIDUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/gift\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Gift = createLucideIcon('Gift', [\n  ['rect', { x: '3', y: '8', width: '18', height: '4', rx: '1', key: 'bkv52' }],\n  ['path', { d: 'M12 8v13', key: '1c76mn' }],\n  ['path', { d: 'M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7', key: '6wjy6b' }],\n  [\n    'path',\n    {\n      d: 'M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5',\n      key: '1ihvrl',\n    },\n  ],\n]);\n\nexport default Gift;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Tag\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuNTg2IDIuNTg2QTIgMiAwIDAgMCAxMS4xNzIgMkg0YTIgMiAwIDAgMC0yIDJ2Ny4xNzJhMiAyIDAgMCAwIC41ODYgMS40MTRsOC43MDQgOC43MDRhMi40MjYgMi40MjYgMCAwIDAgMy40MiAwbDYuNTgtNi41OGEyLjQyNiAyLjQyNiAwIDAgMCAwLTMuNDJ6IiAvPgogIDxjaXJjbGUgY3g9IjcuNSIgY3k9IjcuNSIgcj0iLjUiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/tag\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Tag = createLucideIcon('Tag', [\n  [\n    'path',\n    {\n      d: 'M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z',\n      key: 'vktsd0',\n    },\n  ],\n  ['circle', { cx: '7.5', cy: '7.5', r: '.5', fill: 'currentColor', key: 'kqv944' }],\n]);\n\nexport default Tag;\n"],"names":[],"mappings":"wDCEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,6BEZY,EAAA,OAAA,EAAA,MAAwB,CAAA,ADAE,SCIhC,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,gBAIN,CAAA,ADAG,CAAA,ACAH,WAAgB,CAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAI,CAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAG,CAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAgB,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,GFInF,IAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,WCZM,CAAA,ACAA,CAAA,ADAA,AAAO,CAAP,ACAA,ADAO,CCAP,ADAA,CAAA,ACAA,ADAO,EAAA,OAAA,EAAiB,ICAM,CAAA,EDAE,CAAA,AACpC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,AAAE,CAAA,CAAA,AAAG,IAAK,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,CAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,OAAQ,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAI,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,OAAA,CAAS,CAAA,CAC5E,AAD4E,QACnE,CAAA,AAAE,EAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AACzC,CAAC,OAAQ,CAAA,AAAE,EAAG,CAA6C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AAC1E,CCAI,ADAJ,CCAI,CAAA,KDEF,CAAA,ACAA,ADCE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,0EACH,CCAH,ADAG,GAAK,CCAR,ADAQ,OACP,CAAA,CACF,CACD,EDCD,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,ODtBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAUO,SAAS,EAAY,QAC1B,CAAM,UACN,CAAQ,WACR,EAAY,CAAC,WACb,CAAS,CACQ,EACjB,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACpD,EAAe,CAAA,EAAA,EAAA,MAAA,AAAM,EAAmB,MACxC,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAEpB,EAAmB,MAAO,IAC9B,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAC5B,GAAI,CAAC,GAA0B,IAAjB,EAAM,MAAM,CAAQ,OAElC,IAAM,EAAiB,EAAY,EAAO,MAAM,CAChD,GAAI,GAAkB,EAAG,YACvB,EAAM,CACJ,MAAO,MACP,YAAa,CAAC,OAAO,EAAE,EAAU,2BAA2B,CAAC,CAC7D,QAAS,aACX,GAIF,IAAM,EAAgB,MAAM,IAAI,CAAC,GAAO,KAAK,CAAC,EAAG,GAEjD,IAAK,IAAI,EAAI,EAAG,EAAI,EAAc,MAAM,CAAE,IAAK,CAC7C,IAAM,EAAO,CAAa,CAAC,EAAE,CAG7B,GAAI,CAAC,EAAK,IAAI,CAAC,UAAU,CAAC,UAAW,CACnC,EAAM,CACJ,MAAO,MACP,YAAa,iCACb,QAAS,aACX,GACA,QACF,CAGA,GAAI,EAAK,IAAI,CAAG,IAAI,IAAa,CAC/B,EADyB,AACnB,CACJ,MAAO,MACP,YAAa,uCACb,QAAS,aACX,GACA,QACF,CAEA,EAAa,GAEb,GAAI,CAEF,IAAM,EAAS,MAAM,EAAa,GAC5B,EAAY,IAAI,EAAQ,EAAO,CACrC,EAAS,GAET,EAAM,CACJ,MAAO,OACP,YAAa,0BACf,EACF,CAAE,MAAO,EAAO,CACd,EAAM,CACJ,MAAO,MACP,YAAa,qBACb,QAAS,aACX,EACF,QAAU,CACR,EAAa,KACf,CACF,CAGI,EAAa,OAAO,EAAE,CACxB,EAAa,OAAO,CAAC,KAAK,CAAG,EAAA,CAEjC,EA8CM,EAAe,MAAO,IAE1B,GAAI,EAAK,IAAI,CAAC,UAAU,CAAC,UACvB,CADkC,EAC9B,CACF,OAAO,MAAM,CAhDG,CAAC,EAAY,EAAmB,IAAI,CAAE,EAAkB,EAAG,GACxE,IAAI,QAAQ,CAAC,EAAS,KAC3B,IAAM,EAAS,IAAI,WACnB,EAAO,aAAa,CAAC,GACrB,EAAO,MAAM,CAAG,AAAC,IACf,IAAM,EAAM,IAAI,MAChB,EAAI,MAAM,CAAG,KACX,IAAM,EAAS,SAAS,aAAa,CAAC,UAClC,EAAQ,EAAI,KAAK,CACjB,EAAS,EAAI,MAAM,CAGnB,EAAQ,IACV,EAAU,EAAS,EADC,AACW,EAC/B,EAAQ,GAGV,EAAO,KAAK,CAAG,EACf,EAAO,MAAM,CAAG,EAEhB,IAAM,EAAM,EAAO,UAAU,CAAC,KAC9B,CAAK,GAAD,AAMJ,EANU,AAMN,qBAAqB,CAAG,GAC5B,EAAI,qBAAqB,CAAG,OAG5B,EAAI,SAAS,CAAC,EAAK,EAAG,EAAG,EAAO,GAIhC,EADe,EAAO,IACd,KADuB,CAAC,aAAc,KAZ5C,EAAW,AAAJ,MAAU,gCAcrB,EACA,EAAI,OAAO,CAAG,IAAM,EAAO,AAAI,MAAM,yBACrC,EAAI,GAAG,CAAG,EAAE,MAAM,EAAE,MACtB,EACA,EAAO,OAAO,CAAG,AAAC,GAAU,EAAO,EACrC,EACF,EAMiC,EAAM,KAAM,IACzC,CAAE,MAAO,EAAO,CAEd,QAAQ,IAAI,CAAC,4CAA6C,EAC5D,CAIF,OAAO,IAAI,QAAQ,CAAC,EAAS,KAC3B,IAAM,EAAS,IAAI,WACnB,EAAO,aAAa,CAAC,GACrB,EAAO,MAAM,CAAG,IAAM,EAAQ,EAAO,MAAM,EAC3C,EAAO,OAAO,CAAG,AAAC,GAAU,EAAO,EACrC,EACF,EAOM,EAAc,KAClB,EAAa,OAAO,EAAE,OACxB,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,YAAa,aAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,QAAS,EACT,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,2EACA,6CACc,OAAd,EACI,4DACA,+BACJ,EAAO,MAAM,CAAG,GAAK,4CAGvB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,EACL,KAAK,OACL,OAAO,UACP,QAAQ,CAAA,CAAA,EACR,SAAU,EACV,UAAU,WAGO,IAAlB,EAAO,MAAM,CACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACE,OAAd,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,uBAGrD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,gCAGtB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wDAA+C,uBAG5D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0DAAiD,uCAG9D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,QAAQ,UAAU,KAAK,KAAK,UAAU,kBAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAS,CAAA,CAAC,UAAU,YAAY,wBAOzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qFACZ,EAAO,GAAG,CAAC,CAAC,EAAO,IAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,gJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,IAAK,EACL,IAAK,CAAC,MAAM,EAAE,EAAQ,EAAA,CAAG,CACzB,IAAI,CAAA,CAAA,EACJ,UAAU,eACV,QAAQ,CAAA,CAAA,EACR,QAAQ,UAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kHACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,cACR,KAAK,OACL,UAAU,+DACV,QAAS,AAAC,IACR,EAAE,eAAe,GAjFrC,EADkB,EAAO,KAChB,CADsB,CAAC,CAAC,EAAG,IAAM,IAmFV,EAnFgB,CAoF9B,WAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,gBAGN,IAAV,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qGAA4F,aA3B3G,IAmCR,EAAO,MAAM,CAAG,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,AAAC,IACR,EAAE,eAAe,GACjB,GACF,EACA,SAAU,AAAc,SACxB,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,2LACc,OAAd,GAAsB,0CAGT,OAAd,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,+CAEnB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,6EAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wFAA+E,mBASxG,EAAO,MAAM,CAAG,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,AAAC,IACR,EAAE,eAAe,GACjB,GACF,EACA,SAAU,AAAc,SACxB,UAAU,kBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,uBACT,EAAO,MAAM,CAAC,IAAE,EAAU,eAQ3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4FACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAS,CAAA,CAAC,UAAU,iCACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4BAAmB,mBAChC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,0DACZ,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WAAG,gBAAc,EAAU,uBAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,kCACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,kCACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,iEAMhB,CCpSA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAgB,EAAA,MAAQ,CAAC,CAC7B,KAAM,EAAA,MAAQ,GAAG,GAAG,CAAC,EAAG,wBACxB,YAAa,EAAA,MAAQ,GAAG,GAAG,CAAC,EAAG,sBAC/B,MAAO,EAAA,MAAQ,GAAG,GAAG,CAAC,EAAG,uBACzB,cAAe,EAAA,MAAQ,GAAG,QAAQ,GAAG,QAAQ,GAC7C,MAAO,EAAA,MAAQ,GAAG,GAAG,CAAC,EAAG,mBACzB,SAAU,EAAA,MAAQ,GAAG,GAAG,CAAC,EAAG,wBAC5B,QAAS,EAAA,MAAQ,GAAG,QAAQ,GAAG,QAAQ,GACvC,MAAO,EAAA,MAAQ,GAAG,QAAQ,GAAG,QAAQ,GACrC,IAAK,EAAA,MAAQ,GAAG,QAAQ,GACxB,WAAY,EAAA,OAAS,GACrB,mBAAoB,EAAA,OAAS,GAC7B,mBAAoB,EAAA,OAAS,GAC7B,gBAAiB,EAAA,UAAY,CAC1B,AAAD,IAEE,GAAY,KAAR,GAA8B,MAAhB,EAAwB,CAA4B,KAA5C,MAA6B,AAA0B,OAAnB,GAI3C,UAAf,OAAO,GAAoB,MAAM,GAHnC,GAGyC,IAHlC,KAOT,GAAmB,UAAf,OAAO,EAAkB,CAC3B,IAAM,EAAM,WAAW,GACvB,OAAO,MAAM,GAAO,KAAO,CAC7B,OAEA,AAAmB,UAAf,AAAyB,OAAlB,EACF,EAGF,IACT,EACA,EAAA,KAAO,CAAC,CAAC,EAAA,MAAQ,GAAG,GAAG,CAAC,EAAG,8BAA+B,EAAA,IAAM,GAAG,EAAE,QAAQ,IAE/E,gBAAiB,EAAA,UAAY,CAC3B,AAAC,IAEC,GAAY,KAAR,GAA8B,MAAhB,EAAwB,CAA4B,KAA5C,MAAuD,AAA1B,OAAO,GAI3C,UAAf,OAAO,GAAoB,MAAM,GAHnC,GAGyC,IAHlC,KAOT,GAAI,AAAe,iBAAR,EAAkB,CAC3B,IAAM,EAAM,WAAW,GACvB,OAAO,MAAM,GAAO,KAAO,CAC7B,OAEA,AAAmB,UAAU,AAAzB,OAAO,EACF,EAGF,IACT,EACA,EAAA,KAAO,CAAC,CAAC,EAAA,MAAQ,GAAG,GAAG,CAAC,EAAG,8BAA+B,EAAA,IAAM,GAAG,EAAE,QAAQ,IAE/E,WAAY,EAAA,MAAQ,GAAG,GAAG,CAAC,EAAG,yBAC9B,QAAS,EAAA,OAAS,GAClB,QAAS,EAAA,OAAS,GAClB,OAAQ,EAAA,KAAO,CAAC,EAAA,MAAQ,IAAI,GAAG,CAAC,EAAG,6BACnC,KAAM,EAAA,KAAO,CAAC,EAAA,MAAQ,IAAI,QAAQ,GAClC,eAAgB,EAAA,MAAQ,CAAC,EAAA,MAAQ,IAAI,QAAQ,EAC/C,GAAG,MAAM,CAAC,AAAC,GACT,EAAI,EAAK,UAAU,EAAE,CACf,CAAC,EAAK,GAAG,EAAwB,GAAG,CAAvB,EAAK,GAAG,CAAC,MAAM,EAGR,IAAI,CAAxB,EAAK,GAAG,CAAC,MAAM,GAGf,CAAC,wBAAwB,IAAI,CAAC,EAAK,GAAG,CAPnC,EAOsC,EAIxC,EACN,CACD,QAAS,4EACT,KAAM,CAAC,MAAM,AACf,GASO,SAAS,EAAY,SAAE,CAAO,WAAE,CAAS,CAAoB,EAClE,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,YAAE,CAAU,eAAE,CAAa,oBAAE,CAAkB,CAAE,CAAG,CAAA,EAAA,EAAA,eAAA,AAAe,IACnE,qBAAE,CAAmB,sBAAE,CAAoB,CAAE,CAAG,CAAA,EAAA,EAAA,gBAAA,AAAgB,IAChE,oBAAE,CAAkB,oBAAE,CAAkB,CAAE,CAAG,CAAA,EAAA,EAAA,eAAA,AAAe,IAC5D,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IACpB,EAAa,IACb,EAAW,IACX,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAClC,GAAS,QAAU,EAAE,EAIvB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAYR,CAXiB,UACf,GAAI,CAEF,MAAM,QAAQ,GAAG,CAAC,CAChB,IACA,IACD,CACH,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,EAC5C,EACF,GAEF,EAAG,CAAC,EAAsB,EAAmB,EAC7C,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,KAEzC,GAAI,CAAC,GAAS,KAAM,MAAO,EAAE,CAC7B,GAAI,MAAM,OAAO,CAAC,EAAQ,IAAI,EAAG,OAAO,EAAQ,IAAI,CAEpD,GAA4B,UAAU,AAAlC,OAAO,EAAQ,IAAI,CACrB,GAAI,CACF,IAAM,EAAS,KAAK,KAAK,CAAC,EAAQ,IAAI,EACtC,OAAO,MAAM,OAAO,CAAC,GAAU,EAAS,EAAE,AAC5C,CAAE,KAAM,CAER,CAEF,MAAO,EAAE,AACX,GACM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAElD,KAEA,IAAM,EAAkB,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAAC,GAAS,gBAEnD,EAAiC,CAAC,EACxC,IAAK,GAAM,CAAC,EAAK,EAAM,GAAI,OAAO,OAAO,CAAC,GACxC,CAAM,CAAC,EAAI,CAAoB,SAD2B,CAC5C,OAAO,EAAqB,EAAQ,OAAO,GAE3D,OAAO,CACT,GACM,CAAC,EAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACvC,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAC3C,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,GAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAAS,aAAc,GAE9D,UACJ,EAAQ,CACR,eAAY,CACZ,UAAW,QAAE,EAAM,cAAE,EAAY,CAAE,UACnC,EAAQ,OACR,EAAK,CACN,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,EAAkB,CAC3B,SAAU,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,GACtB,KAAM,WACN,kBAAkB,EAClB,cAAe,CAAC,KACd,GAAI,CAAC,EAAS,MAAO,CACnB,KAAM,GACN,YAAa,GACb,MAAO,EACP,mBAAe,EACf,MAAO,GACP,SAAU,GACV,QAAS,GACT,MAAO,GACP,IAAK,GACL,YAAY,EACZ,oBAAoB,EACpB,oBAAoB,EACpB,gBAAiB,KACjB,gBAAiB,KACjB,WAAY,EACZ,SAAS,EACT,SAAS,EACT,OAAQ,EAAE,CACV,KAAM,EAAE,CACR,eAAgB,CAAC,CACnB,EAGA,IAAM,EAAuB,KAA+B,MAAvB,kBAAkB,GAAiB,CAAQ,EAAQ,kBAAkB,CACpG,GADwG,IAClD,IAA/B,EAAQ,kBAAkB,GAAiB,CAAQ,EAAQ,kBAAkB,CACpG,GADwG,IACjE,IAApB,EAAQ,OAAO,GAAiB,CAAQ,EAAQ,OAAO,CAC1E,EAAmB,CAD2D,IACvC,MAAZ,OAAO,GAAiB,CAAQ,EAAQ,OAAO,CAIhF,GAJoF,IACpF,MAAM,oEAAoE,CAAC,OAAO,OAAO,QAAQ,CAAC,eAAe,kBAAkB,EAAE,KAAK,KAAK,SAAS,CAAC,CAAC,SAAS,uBAAuB,QAAQ,qCAAqC,KAAK,CAAC,sBAAsB,EAAQ,kBAAkB,CAAC,uBAAuB,OAAO,EAAQ,kBAAkB,CAAC,4BAA4B,EAAqB,gCAAgC,OAAO,EAAqB,sBAAsB,EAAQ,kBAAkB,CAAC,uBAAuB,OAAO,EAAQ,kBAAkB,CAAC,4BAA4B,EAAqB,gCAAgC,OAAO,EAAqB,WAAW,EAAQ,OAAO,CAAC,YAAY,OAAO,EAAQ,OAAO,CAAC,iBAAiB,EAAiB,qBAAqB,OAAO,EAAiB,WAAW,EAAQ,OAAO,CAAC,YAAY,OAAO,EAAQ,OAAO,CAAC,iBAAiB,EAAiB,qBAAqB,OAAO,CAAgB,EAAE,UAAU,KAAK,GAAG,GAAG,UAAU,gBAAgB,MAAM,WAAW,aAAa,GAAG,EAAE,GAAG,KAAK,CAAC,KAAK,GAG/gC,CACH,KAAM,EAAQ,IAAI,CAClB,YAAa,EAAQ,WAAW,EAAI,GACpC,MAAO,EAAQ,KAAK,CACpB,cAAe,EAAQ,aAAa,OAAI,EACxC,MAAO,EAAQ,KAAK,EAAI,GACxB,SAAU,EAAQ,QAAQ,EAAI,GAC9B,QAAS,EAAQ,OAAO,EAAI,GAC5B,MAAO,EAAQ,KAAK,EAAI,GACxB,IAAK,EAAQ,GAAG,EAAI,GACpB,WAAY,KAAuB,MAAf,UAAU,GAAiB,CAAQ,EAAQ,UAAU,CACzE,GAD6E,gBACzD,EACpB,mBAAoB,EACpB,gBAAiB,EAAQ,eAAe,EAAI,KAC5C,gBAAiB,EAAQ,eAAe,EAAI,KAC5C,WAAY,EAAQ,UAAU,CAC9B,QAAS,EACT,QAAS,EACT,OAAQ,EAAQ,MAAM,EAAI,EAAE,CAC5B,KAAM,CAAC,KAEL,GAAI,CAAC,EAAQ,IAAI,CAAE,MAAO,EAAE,CAC5B,GAAI,MAAM,OAAO,CAAC,EAAQ,IAAI,EAAG,OAAO,EAAQ,IAAI,CAEpD,GAA4B,UAAxB,AAAkC,OAA3B,EAAQ,IAAI,CACrB,GAAI,CACF,IAAM,EAAS,KAAK,KAAK,CAAC,EAAQ,IAAI,EACtC,OAAO,MAAM,OAAO,CAAC,GAAU,EAAS,EAC1C,AAD4C,CAC1C,KAAM,CAER,CAEF,MAAO,EAAE,AACX,CAAC,IACD,eAAgB,AAAC,MAEf,IAAM,EAAkB,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAAC,EAAQ,cAAc,EAChE,EAAiC,CAAC,EACxC,IAAK,GAAM,CAAC,EAAK,EAAM,GAAI,OAAO,OAAO,CAAC,GACxC,CAAM,CAAC,EAAI,CAAoB,SAD2B,CAC5C,OAAO,EAAqB,EAAQ,OAAO,GAE3D,OAAO,EACT,CAAC,EACH,EACJ,CAAC,EACH,GAEM,GAAU,GAAM,WAChB,GAAU,GAAM,WAChB,GAAqB,GAAM,sBAC3B,GAAqB,GAAM,sBAC3B,GAAkB,GAAM,mBACxB,GAAkB,GAAM,mBAGxB,GAAkB,GAAM,WACxB,GAAsB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAClC,GAAI,AAAC,IAAoB,GAAgC,GAAG,CAAvB,EAAS,MAAtB,AAA4B,CAGpD,OAAO,EAAS,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,GACrC,EAAG,CAAC,GAAiB,EAAS,EAOxB,GAAS,KACb,GAAI,EAAS,IAAI,IAAM,CAAC,EAAK,QAAQ,CAAC,EAAS,IAAI,IAAK,CACtD,IAAM,EAAU,IAAI,EAAM,EAAS,IAAI,GAAG,CAC1C,EAAQ,GACR,GAAS,OAAQ,GACjB,EAAY,GACd,CACF,EAuBM,GAAW,MAAO,IAEtB,MAAM,oEAAoE,CAAC,OAAO,OAAO,QAAQ,CAAC,eAAe,kBAAkB,EAAE,KAAK,KAAK,SAAS,CAAC,CAAC,SAAS,uBAAuB,QAAQ,iBAAiB,KAAK,CAAC,WAAW,CAAC,CAAC,EAAQ,UAAU,GAAS,GAAG,aAAa,OAAO,IAAI,CAAC,GAAM,YAAY,EAAO,MAAM,CAAC,UAAU,EAAK,MAAM,CAAC,WAAW,OAAO,IAAI,CAAC,GAAgB,MAAM,YAAC,EAAU,EAAE,UAAU,KAAK,GAAG,GAAG,UAAU,gBAAgB,MAAM,OAAO,aAAa,GAAG,EAAE,GAAG,KAAK,CAAC,KAAK,GAEze,GAAI,CACF,GAAsB,IAAlB,EAAO,MAAM,CAAQ,YACvB,EAAM,CACJ,MAAO,MACP,YAAa,4BACb,QAAS,aACX,GAKF,IAAM,EACJ,AAAyB,SAApB,eAAe,OACK,IAAzB,EAAK,eAAe,EACa,UAAhC,OAAO,EAAK,eAAe,EAAiB,MAAM,EAAK,eAAe,GAC9C,IAAzB,EAAK,eAAe,CAChB,KACA,OAAO,EAAK,eAAe,EAE3B,EACqB,OAAzB,EAAK,eAAe,EACK,SAAzB,EAAK,eAAe,EACa,UAAhC,OAAO,EAAK,eAAe,EAAiB,MAAM,EAAK,eAAe,GAC9C,IAAzB,EAAK,eAAe,CAChB,KACA,OAAO,EAAK,eAAe,EAE3B,EAAc,CAClB,GAAG,CAAI,QACP,OACA,iBACA,EACA,IAAK,GAAa,EAAK,GAAG,MAAG,aAC7B,GACA,gBAAiB,EACjB,gBAAiB,CACnB,EAMA,GAHA,MAAM,oEAAoE,CAAC,OAAO,OAAO,QAAQ,CAAC,eAAe,kBAAkB,EAAE,KAAK,KAAK,SAAS,CAAC,CAAC,SAAS,uBAAuB,QAAQ,kBAAkB,KAAK,CAAC,UAAU,GAAS,GAAG,gBAAgB,OAAO,IAAI,CAAC,GAAa,gBAAgB,EAAY,eAAe,CAAC,gBAAgB,EAAY,eAAe,CAAC,oBAAoB,OAAO,EAAY,eAAe,CAAC,oBAAoB,OAAO,EAAY,eAAe,CAAC,UAAU,OAAO,EAAY,cAAc,CAAC,SAAS,OAAO,EAAY,IAAI,EAAE,UAAU,KAAK,GAAG,GAAG,UAAU,gBAAgB,MAAM,OAAO,aAAa,GAAG,EAAE,GAAG,KAAK,CAAC,KAAK,GAGroB,EAAS,CAEX,IAAM,EAAW,MAAM,MAAM,CAAC,cAAc,EAAE,EAAQ,EAAE,CAAA,CAAE,CAAE,CAC1D,OAAQ,MACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,EACvB,GAMA,GAHA,MAAM,oEAAoE,CAAC,OAAO,OAAO,QAAQ,CAAC,eAAe,kBAAkB,EAAE,KAAK,KAAK,SAAS,CAAC,CAAC,SAAS,uBAAuB,QAAQ,wBAAwB,KAAK,CAAC,OAAO,EAAS,MAAM,CAAC,WAAW,EAAS,UAAU,CAAC,GAAG,EAAS,EAAE,EAAE,UAAU,KAAK,GAAG,GAAG,UAAU,gBAAgB,MAAM,OAAO,aAAa,GAAG,EAAE,GAAG,KAAK,CAAC,KAAK,GAG9X,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,EAAC,CAAC,CAIvD,OAFA,MAAM,oEAAoE,CAAC,OAAO,OAAO,QAAQ,CAAC,eAAe,kBAAkB,EAAE,KAAK,KAAK,SAAS,CAAC,CAAC,SAAS,uBAAuB,QAAQ,qBAAqB,KAAK,WAAC,EAAU,OAAO,EAAS,MAAM,EAAE,UAAU,KAAK,GAAG,GAAG,UAAU,gBAAgB,MAAM,OAAO,aAAa,GAAG,EAAE,GAAG,KAAK,CAAC,KAAK,GAErV,AAAI,MAAM,EAAU,OAAO,EAAI,2BACvC,CAEA,IAAM,EAAiB,MAAM,EAAS,IAAI,GAC1C,EAAc,EAAe,IAAI,EAGjC,MAAM,GAAmB,GASzB,EAAM,CACJ,MAAO,OACP,YAAa,gCACf,EACF,KAAO,CAEL,IAAM,EAAW,MAAM,MAAM,gBAAiB,CAC5C,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,EACvB,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,EAAC,CAAC,EACjD,EAAe,EAAU,KAAK,EAAI,EAAU,OAAO,EAAI,oBAE7D,OADA,QAAQ,KAAK,CAAC,0BAA2B,GACnC,AAAI,MAAM,EAClB,CAEA,IAAM,EAAS,MAAM,EAAS,IAAI,GAClC,QAAQ,GAAG,CAAC,gCAAiC,GAG7C,IAAM,EAAa,EAAO,IAAI,EAAI,CAC9B,IACF,EAAW,GAIb,GALgB,GAKV,GAAmB,GASzB,EAAM,CACJ,MAAO,OACP,YAAa,0BACf,EACF,CAEA,MACA,EAAO,IAAI,CAAC,kBACd,CAAE,MAAO,EAAO,CACd,EAAM,CACJ,MAAO,MACP,YAAa,aAAiB,MAAQ,EAAM,OAAO,CAAG,wCACtD,QAAS,aACX,EACF,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,GAAa,IAAW,UAAU,sBAChD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,yBAAyB,oBAIhD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,gBAAO,gBACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,OACF,GAAG,GAAS,OAAO,CACpB,YAAY,cAEb,GAAO,IAAI,EACV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCAA4B,GAAO,IAAI,CAAC,OAAO,MAIhE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,uBAAc,cAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,GAAG,cACF,GAAG,GAAS,cAAc,CAC3B,YAAY,gBACZ,KAAM,IAEP,GAAO,WAAW,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCACV,GAAO,WAAW,CAAC,OAAO,MAKjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,mBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,KAAK,SACJ,GAAG,GAAS,QAAS,CAAE,eAAe,CAAK,EAAE,CAC9C,YAAY,MAEb,GAAO,KAAK,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCACV,GAAO,KAAK,CAAC,OAAO,MAK3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,yBAAgB,sBAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,gBACH,KAAK,SACJ,GAAG,GAAS,gBAAiB,CAAE,eAAe,CAAK,EAAE,CACtD,YAAY,kBAQtB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBAAyB,wBAIjD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,gBAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,GAAM,YACb,cAAe,AAAC,GAAU,GAAS,WAAY,aAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,uBAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAW,GAAG,CAAC,AAAC,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAc,MAAO,EAAI,IAAI,UACrC,EAAI,IAAI,EADM,EAAI,EAAE,QAM5B,GAAO,QAAQ,EACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCACV,GAAO,QAAQ,CAAC,OAAO,MAK9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACF,GAAG,GAAS,QAAQ,CACrB,YAAY,aAEb,GAAO,KAAK,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCAA4B,GAAO,KAAK,CAAC,OAAO,MAIjE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAU,UACzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,GAAM,iBAAc,EAC3B,cAAe,AAAC,IACd,GAAS,UAAW,GAAS,MAC7B,GAAS,QAAS,KACpB,EAD2B,UAG3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,AAHgD,CAGhD,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,6BAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAS,GAAG,CAAC,AAAC,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAY,MAAO,EAAE,EAAE,UAChC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EAAE,IAAI,EACL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,EAAE,IAAI,CAAE,IAAK,EAAE,IAAI,CAAE,UAAU,2BAE3C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAE,IAAI,OALA,EAAE,EAAE,QAW1B,GAAM,YACL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,KACL,UAAU,cACV,QAAS,KACP,GAAS,UAAW,MACpB,GAAS,QAAS,KACpB,WACD,kBAMJ,IAAuB,GAAoB,MAAM,EAAI,GAAoB,MAAM,CAAC,MAAM,CAAG,GACxF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,QACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,GAAM,eAAY,EACzB,cAAgB,AAAD,GAAW,GAAS,QAAS,GAAS,gBAErD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,2BAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,GAAoB,MAAM,CAAC,GAAG,CAAC,AAAC,GAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAa,MAAO,WAC5B,GADc,SAMtB,GAAM,UACL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,KACL,UAAU,cACV,QAAS,IAAM,GAAS,QAAS,eAClC,kBAOP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,sBAAa,kBAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,gCAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,aACH,QAAS,GACT,gBAAiB,AAAC,IAChB,GAAc,GACd,GAAS,aAAc,GACnB,AAAC,GACH,GAAS,GADG,GACI,GAEpB,OAGJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,MAAM,UAAU,8CAAoC,OAC5D,IAAc,OAErB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,MACF,GAAG,GAAS,MAAO,CAClB,SAAU,AAAC,IAET,IAAM,EAAa,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW,GAC7C,EAAE,MAAM,CAAC,KAAK,CAAG,EACjB,GAAS,MAAO,EAClB,CACF,EAAE,CACF,YAAY,uCACZ,UAAW,GACX,UAAU,gFAEX,GAAO,GAAG,EACT,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+EAAuE,GAAO,GAAG,CAAC,OAAO,GAEvG,CAAC,IACA,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oFAA2E,kEAO9F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,sBAAa,aAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,aACH,KAAK,SACJ,GAAG,GAAS,aAAc,CAAE,eAAe,CAAK,EAAE,CACnD,YAAY,MAEb,GAAO,UAAU,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCACV,GAAO,UAAU,CAAC,OAAO,eAStC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAS,CAAA,CAAC,UAAU,yBAAyB,oBAIlD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,OAAQ,EACR,SArbiB,AAAC,CAqbR,GApblB,EAAU,GACV,GAAS,SAAU,EACrB,EAmbU,UAAW,IAEZ,GAAO,MAAM,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,GAAO,MAAM,CAAC,OAAO,SAMzE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAI,UAAU,yBAAyB,aAI5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,WAAY,AAAC,IACG,SAAS,CAAnB,EAAE,GAAG,GACP,EAAE,cAAc,GAChB,KAEJ,EACA,YAAY,cAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,QAAS,YAAQ,cAIxC,EAAK,MAAM,CAAG,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCACZ,EAAK,GAAG,CAAC,AAAC,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAEJ,QAAQ,YACR,UAAU,gEAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kCAA0B,IAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,OAld/B,EADM,EAAU,EAAK,EACb,IADmB,CAAC,AAAC,GAAM,IAmdM,EAndA,EAEzC,GAAS,OAAQ,IAkdD,UAAU,4CACV,aAAW,kBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,gBAXV,YAqBjB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBAAyB,YAG/C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,GAAgB,CAAC,cAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBACf,GAAe,SAAW,uBAIjC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACpB,IACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAU,eACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,UACH,MAAO,EACP,SAAU,AAAC,GAAM,GAAc,EAAE,MAAM,CAAC,KAAK,EAC7C,YAAY,qBAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAY,UAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,YACH,MAAO,GACP,SAAU,AAAC,GAAM,GAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,YAAY,uBAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,QAtgBX,CAsgBoB,IArgBvC,EAAW,IAAI,IAAM,GAAa,IAAI,IAAI,CAC5C,EAAkB,CAAE,GAAG,CAAc,CAAE,CAAC,EAAW,IAAI,GAAG,CAAE,GAAa,IAAI,EAAG,GAChF,GAAc,IACd,GAAgB,IAChB,IAAgB,GAEpB,EA+f+D,KAAK,cAAK,WAG3D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,KAAK,KACL,QAAS,KACP,IAAgB,GAChB,GAAc,IACd,GAAgB,GAClB,WACD,iBAON,OAAO,IAAI,CAAC,GAAgB,MAAM,CAAG,EACpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACZ,OAAO,OAAO,CAAC,GAAgB,GAAG,CAAC,CAAC,CAAC,EAAK,EAAM,GAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,2IAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+CACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,4DAAmD,EAAI,OACvE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qDAA6C,OAE/D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,QACR,KAAK,OACL,UAAU,6EACV,QAAS,IAAM,cA/hBzB,EAAW,CAAE,GAAG,CAAe,AAAD,OACpC,OAAO,CAAQ,CAAC,AA8hBmC,EA9hB/B,CACpB,EAAkB,KA8hBF,aAAW,qBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,gBAfV,MAqBX,CAAC,IACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,sCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAU,yCAQjC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBAAyB,aAIjD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,mBACP,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,gCAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,UACH,QAAS,GACT,gBAAiB,AAAC,GAAY,GAAS,UAAW,QAItD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,SACP,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,uCAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,UACH,QAAS,GACT,gBAAiB,AAAC,GAAY,GAAS,UAAW,cAO1D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBAAyB,qBAIjD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,mCACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAqB,UAAU,sCAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,8BAA8B,iBAGjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,wCAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,qBACH,QAAS,GACT,gBAAiB,AAAC,IAChB,GAAS,qBAAsB,GAC3B,AAAC,GACH,GAAS,GADG,eACgB,KAEhC,OAGH,IACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,kBAAkB,UAAU,oFACzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,sCAAsC,uBAG9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAA6B,OAApB,IAAgD,IAApB,GAAwB,UAAY,UACzE,UAAU,gGAEW,OAApB,IAAgD,IAApB,GAC3B,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,gBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,cAGR,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACtB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,cAIZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,wBACH,QAA6B,OAApB,IAAgD,IAApB,GACrC,gBAAiB,AAAC,IACZ,EAEF,GAAS,IAFE,cAEiB,IAAmB,GAAkB,EAAI,GAAkB,KAGvF,GAAS,kBAAmB,KAEhC,UAIgB,OAApB,IAAgD,IAApB,IAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,kBACH,KAAK,SACJ,GAAG,GAAS,kBAAmB,CAC9B,eAAe,EACf,WAAY,AAAC,IACX,GAAc,KAAV,GAAkC,MAAlB,EAClB,EAD8C,KACvC,CADqB,IAG9B,CAH2D,GAGrD,EAAuB,UAAjB,OAAO,EAAqB,WAAW,GAAS,OAAO,GACnE,OAAO,MAAM,GAAO,KAAO,CAC7B,CACF,EAAE,CACF,YAAY,cACZ,IAAK,EACL,UAAU,oDAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+FACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,YAAY,6BAKvC,GAAO,eAAe,EACrB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yFACV,GAAO,eAAe,CAAC,OAAO,SAOzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAqB,UAAU,sCAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8BAA8B,kBAGhD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,yCAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,qBACH,QAAS,GACT,gBAAiB,AAAC,IAChB,GAAS,qBAAsB,GAC3B,AAAC,GACH,GAAS,GADG,eACgB,KAEhC,OAGH,IACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,kBAAkB,UAAU,oFACzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,sCAAsC,wBAG9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAA6B,OAApB,IAAgD,IAApB,GAAwB,UAAY,UACzE,UAAU,gGAEW,OAApB,IAAgD,IAApB,GAC3B,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,gBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,cAGR,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACtB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,cAIZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,wBACH,QAA6B,OAApB,IAAgD,IAApB,GACrC,gBAAiB,AAAC,IACZ,EAEF,GAAS,IAFE,cAEiB,IAAmB,GAAkB,EAAI,GAAkB,KAGvF,GAAS,kBAAmB,KAEhC,UAIJ,AAAoB,WAA4B,IAApB,IAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,kBACH,KAAK,SACJ,GAAG,GAAS,kBAAmB,CAC9B,eAAe,EACf,WAAY,AAAC,IACX,GAAc,KAAV,GAAkC,MAAlB,EAClB,EAD8C,KACvC,CADqB,IAG9B,CAH2D,GAGrD,EAAuB,UAAjB,OAAO,EAAqB,WAAW,GAAS,OAAO,GACnE,OAAO,MAAM,GAAO,KAAO,CAC7B,CACF,EAAE,CACF,YAAY,cACZ,IAAK,EACL,UAAU,oDAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+FACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,YAAY,6BAKvC,GAAO,eAAe,EACrB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yFACV,GAAO,eAAe,CAAC,OAAO,SAMxC,GAAO,kBAAkB,EACxB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+EACV,GAAO,kBAAkB,CAAC,OAAO,SAO1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,IAAM,EAAO,IAAI,GAC1B,KAAK,cACN,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,SAAU,GACV,KAAK,KACL,UAAU,yBAET,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,8BAA8B,qBAGjD,EACF,gBAEA,sBAMZ","ignoreList":[2,3]}