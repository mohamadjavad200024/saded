{"version":3,"sources":["../../../../components/admin/supplier-form.tsx","../../../../components/admin/supplier-products-manager.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { Supplier } from \"@/types/supplier\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { useSupplierStore } from \"@/store/supplier-store\";\r\nimport { useCategoryStore } from \"@/store/category-store\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { X, Plus, Loader2, Phone, Mail, Package } from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { SupplierProductsManager } from \"@/components/admin/supplier-products-manager\";\r\n\r\nconst supplierSchema = z.object({\r\n  name: z.string().min(1, \"نام تامین‌کننده الزامی است\"),\r\n  phone: z.string().min(1, \"شماره تماس الزامی است\"),\r\n  email: z.string().email(\"ایمیل معتبر نیست\").optional().or(z.literal(\"\")),\r\n  categories: z.array(z.string()).min(1, \"حداقل یک دسته‌بندی الزامی است\"),\r\n  notes: z.string().optional(),\r\n  isActive: z.boolean(),\r\n  lowStockThreshold: z.number().min(0).optional(),\r\n});\r\n\r\ntype SupplierFormData = z.infer<typeof supplierSchema>;\r\n\r\ninterface SupplierFormProps {\r\n  supplier?: Supplier;\r\n  onSuccess?: () => void;\r\n}\r\n\r\nexport function SupplierForm({ supplier, onSuccess }: SupplierFormProps) {\r\n  const router = useRouter();\r\n  const { addSupplier, updateSupplier } = useSupplierStore();\r\n  const { getActiveCategories, loadCategoriesFromDB } = useCategoryStore();\r\n  const { toast } = useToast();\r\n  const categories = getActiveCategories();\r\n  const [selectedCategories, setSelectedCategories] = useState<string[]>(\r\n    supplier?.categories || []\r\n  );\r\n\r\n  // Load categories from database when component mounts\r\n  useEffect(() => {\r\n    const loadCategories = async () => {\r\n      try {\r\n        await loadCategoriesFromDB();\r\n      } catch (error) {\r\n        console.error(\"Error loading categories:\", error);\r\n      }\r\n    };\r\n    loadCategories();\r\n  }, [loadCategoriesFromDB]);\r\n  const [supplierProducts, setSupplierProducts] = useState(\r\n    supplier?.products || []\r\n  );\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isSubmitting },\r\n    setValue,\r\n    watch,\r\n  } = useForm<SupplierFormData>({\r\n    resolver: zodResolver(supplierSchema),\r\n    defaultValues: supplier\r\n      ? {\r\n          name: supplier.name,\r\n          phone: supplier.phone,\r\n          email: supplier.email || \"\",\r\n          categories: supplier.categories,\r\n          notes: supplier.notes || \"\",\r\n          isActive: supplier.isActive,\r\n          lowStockThreshold: supplier.lowStockThreshold || 10,\r\n        }\r\n      : {\r\n          name: \"\",\r\n          phone: \"\",\r\n          email: \"\",\r\n          categories: [],\r\n          notes: \"\",\r\n          isActive: true,\r\n          lowStockThreshold: 10,\r\n        },\r\n  });\r\n\r\n  const isActive = watch(\"isActive\");\r\n\r\n  const toggleCategory = (category: string) => {\r\n    const newCategories = selectedCategories.includes(category)\r\n      ? selectedCategories.filter((c) => c !== category)\r\n      : [...selectedCategories, category];\r\n    setSelectedCategories(newCategories);\r\n    setValue(\"categories\", newCategories);\r\n  };\r\n\r\n  const onSubmit = async (data: SupplierFormData) => {\r\n    try {\r\n      if (selectedCategories.length === 0) {\r\n        toast({\r\n          title: \"خطا\",\r\n          description: \"حداقل یک دسته‌بندی باید انتخاب شود\",\r\n          variant: \"destructive\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      const supplierData = {\r\n        ...data,\r\n        categories: selectedCategories,\r\n        products: supplierProducts,\r\n        email: data.email || undefined,\r\n        notes: data.notes || undefined,\r\n      };\r\n\r\n      if (supplier) {\r\n        updateSupplier(supplier.id, supplierData);\r\n        toast({\r\n          title: \"موفق\",\r\n          description: \"تامین‌کننده با موفقیت به‌روزرسانی شد\",\r\n        });\r\n      } else {\r\n        addSupplier(supplierData);\r\n        toast({\r\n          title: \"موفق\",\r\n          description: \"تامین‌کننده با موفقیت اضافه شد\",\r\n        });\r\n      }\r\n\r\n      onSuccess?.();\r\n      router.push(\"/admin/suppliers\");\r\n    } catch (error) {\r\n      toast({\r\n        title: \"خطا\",\r\n        description: \"خطایی رخ داد. لطفاً دوباره تلاش کنید.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n      <div className=\"grid gap-6 md:grid-cols-2\">\r\n        {/* Basic Information */}\r\n        <Card className=\"shadow-sm\">\r\n          <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Phone className=\"h-5 w-5 text-primary\" />\r\n              اطلاعات تماس\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4 pt-6\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"name\">نام تامین‌کننده *</Label>\r\n              <Input\r\n                id=\"name\"\r\n                {...register(\"name\")}\r\n                placeholder=\"نام تامین‌کننده\"\r\n              />\r\n              {errors.name && (\r\n                <p className=\"text-sm text-destructive\">{errors.name.message}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"phone\">شماره تماس *</Label>\r\n              <Input\r\n                id=\"phone\"\r\n                {...register(\"phone\")}\r\n                placeholder=\"09123456789\"\r\n                type=\"tel\"\r\n              />\r\n              {errors.phone && (\r\n                <p className=\"text-sm text-destructive\">{errors.phone.message}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"email\">ایمیل</Label>\r\n              <Input\r\n                id=\"email\"\r\n                {...register(\"email\")}\r\n                placeholder=\"example@email.com\"\r\n                type=\"email\"\r\n              />\r\n              {errors.email && (\r\n                <p className=\"text-sm text-destructive\">{errors.email.message}</p>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Categories & Settings */}\r\n        <Card className=\"shadow-sm\">\r\n          <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Package className=\"h-5 w-5 text-primary\" />\r\n              دسته‌بندی‌ها و تنظیمات\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4 pt-6\">\r\n            <div className=\"space-y-2\">\r\n              <Label>دسته‌بندی محصولات *</Label>\r\n              <div className=\"grid grid-cols-2 gap-2 p-3 border border-border/30 rounded-lg min-h-[120px]\">\r\n                {categories.map((cat) => (\r\n                  <button\r\n                    key={cat.id}\r\n                    type=\"button\"\r\n                    onClick={() => toggleCategory(cat.name)}\r\n                    className={`\r\n                      p-2 rounded text-sm text-right transition-colors\r\n                      ${\r\n                        selectedCategories.includes(cat.name)\r\n                          ? \"bg-primary text-primary-foreground\"\r\n                          : \"bg-muted hover:bg-muted/80\"\r\n                      }\r\n                    `}\r\n                  >\r\n                    {cat.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              {selectedCategories.length > 0 && (\r\n                <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                  {selectedCategories.map((cat) => (\r\n                    <Badge key={cat} variant=\"default\" className=\"gap-1\">\r\n                      {cat}\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => toggleCategory(cat)}\r\n                        className=\"ml-1 hover:opacity-70\"\r\n                      >\r\n                        <X className=\"h-3 w-3\" />\r\n                      </button>\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              {errors.categories && (\r\n                <p className=\"text-sm text-destructive\">\r\n                  {errors.categories.message}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"lowStockThreshold\">\r\n                حد آستانه موجودی کم (عدد)\r\n              </Label>\r\n              <Input\r\n                id=\"lowStockThreshold\"\r\n                type=\"number\"\r\n                {...register(\"lowStockThreshold\", { valueAsNumber: true })}\r\n                placeholder=\"10\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                وقتی موجودی محصولات به این عدد یا کمتر برسد، هشدار نمایش داده می‌شود\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Notes */}\r\n      <Card className=\"shadow-sm\">\r\n        <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\r\n          <CardTitle>یادداشت‌ها</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-6\">\r\n          <Textarea\r\n            {...register(\"notes\")}\r\n            placeholder=\"یادداشت‌های اضافی درباره این تامین‌کننده...\"\r\n            rows={4}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Products Management */}\r\n      <Card className=\"shadow-sm\">\r\n        <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Package className=\"h-5 w-5 text-primary\" />\r\n            مدیریت محصولات\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-6\">\r\n          <SupplierProductsManager\r\n            supplier={{\r\n              ...supplier,\r\n              categories: selectedCategories,\r\n              products: supplierProducts,\r\n            } as any}\r\n            onUpdate={setSupplierProducts}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Status */}\r\n      <Card className=\"shadow-sm\">\r\n        <CardHeader className=\"bg-gradient-to-r from-primary/5 to-transparent border-b\">\r\n          <CardTitle>وضعیت</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"space-y-0.5\">\r\n              <Label>فعال</Label>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                تامین‌کننده فعال است و می‌تواند محصولات را تامین کند\r\n              </p>\r\n            </div>\r\n            <Switch\r\n              checked={isActive}\r\n              onCheckedChange={(checked) => setValue(\"isActive\", checked)}\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Actions */}\r\n      <div className=\"flex justify-end gap-4 pt-4 border-t border-border/30\">\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"outline\"\r\n          onClick={() => router.back()}\r\n          size=\"lg\"\r\n        >\r\n          انصراف\r\n        </Button>\r\n        <Button type=\"submit\" disabled={isSubmitting} size=\"lg\" className=\"min-w-[140px]\">\r\n          {isSubmitting ? (\r\n            <>\r\n              <Loader2 className=\"ml-2 h-4 w-4 animate-spin\" />\r\n              در حال ذخیره...\r\n            </>\r\n          ) : supplier ? (\r\n            \"ذخیره تغییرات\"\r\n          ) : (\r\n            \"افزودن تامین‌کننده\"\r\n          )}\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n","\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport { Supplier, SupplierProduct } from \"@/types/supplier\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { useProductStore } from \"@/store/product-store\";\r\nimport { useCategoryStore } from \"@/store/category-store\";\r\nimport { Plus, Trash2, Edit, X } from \"lucide-react\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\ninterface SupplierProductsManagerProps {\r\n  supplier: Supplier;\r\n  onUpdate: (products: SupplierProduct[]) => void;\r\n}\r\n\r\nexport function SupplierProductsManager({\r\n  supplier,\r\n  onUpdate,\r\n}: SupplierProductsManagerProps) {\r\n  const { products } = useProductStore();\r\n  const { getActiveCategories } = useCategoryStore();\r\n  const { toast } = useToast();\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState<SupplierProduct | null>(null);\r\n  const [selectedProductId, setSelectedProductId] = useState<string>(\"\");\r\n  const [quantity, setQuantity] = useState<number>(0);\r\n  const [unitPrice, setUnitPrice] = useState<number | undefined>(undefined);\r\n  const [categoryFilter, setCategoryFilter] = useState<string>(\"all\");\r\n\r\n  const categories = getActiveCategories();\r\n  const supplierProducts = supplier.products || [];\r\n\r\n  // Filter products by supplier categories\r\n  const availableProducts = useMemo(() => {\r\n    let filtered = products.filter((p) =>\r\n      p.category && supplier.categories.includes(p.category)\r\n    );\r\n\r\n    if (categoryFilter !== \"all\") {\r\n      filtered = filtered.filter((p) => p.category === categoryFilter);\r\n    }\r\n\r\n    // Exclude already added products (unless editing)\r\n    if (!editingProduct) {\r\n      const addedProductIds = supplierProducts.map((p) => p.productId);\r\n      filtered = filtered.filter((p) => !addedProductIds.includes(p.id));\r\n    }\r\n\r\n    return filtered;\r\n  }, [products, supplier.categories, categoryFilter, supplierProducts, editingProduct]);\r\n\r\n  const handleAddProduct = () => {\r\n    if (!selectedProductId || quantity <= 0) {\r\n      toast({\r\n        title: \"خطا\",\r\n        description: \"لطفاً محصول و تعداد را وارد کنید\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const product = products.find((p) => p.id === selectedProductId);\r\n    if (!product) return;\r\n\r\n    const newProduct: SupplierProduct = {\r\n      productId: product.id,\r\n      productName: product.name,\r\n      category: product.category || \"\",\r\n      quantity,\r\n      unitPrice: unitPrice || undefined,\r\n    };\r\n\r\n    if (editingProduct) {\r\n      // Update existing product\r\n      const updated = supplierProducts.map((p) =>\r\n        p.productId === editingProduct.productId ? newProduct : p\r\n      );\r\n      onUpdate(updated);\r\n      toast({\r\n        title: \"موفق\",\r\n        description: \"محصول به‌روزرسانی شد\",\r\n      });\r\n    } else {\r\n      // Add new product\r\n      onUpdate([...supplierProducts, newProduct]);\r\n      toast({\r\n        title: \"موفق\",\r\n        description: \"محصول اضافه شد\",\r\n      });\r\n    }\r\n\r\n    // Reset form\r\n    setSelectedProductId(\"\");\r\n    setQuantity(0);\r\n    setUnitPrice(undefined);\r\n    setEditingProduct(null);\r\n    setIsDialogOpen(false);\r\n  };\r\n\r\n  const handleEdit = (product: SupplierProduct) => {\r\n    setEditingProduct(product);\r\n    setSelectedProductId(product.productId);\r\n    setQuantity(product.quantity);\r\n    setUnitPrice(product.unitPrice);\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const handleDelete = (productId: string) => {\r\n    const updated = supplierProducts.filter((p) => p.productId !== productId);\r\n    onUpdate(updated);\r\n    toast({\r\n      title: \"موفق\",\r\n      description: \"محصول حذف شد\",\r\n    });\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setSelectedProductId(\"\");\r\n    setQuantity(0);\r\n    setUnitPrice(undefined);\r\n    setEditingProduct(null);\r\n    setIsDialogOpen(false);\r\n  };\r\n\r\n  // Group products by category\r\n  const productsByCategory = useMemo(() => {\r\n    const grouped: Record<string, SupplierProduct[]> = {};\r\n    supplierProducts.forEach((p) => {\r\n      if (!grouped[p.category]) {\r\n        grouped[p.category] = [];\r\n      }\r\n      grouped[p.category].push(p);\r\n    });\r\n    return grouped;\r\n  }, [supplierProducts]);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold\">مدیریت محصولات</h3>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            محصولات و تعداد موجودی که این تامین‌کننده می‌تواند تامین کند\r\n          </p>\r\n        </div>\r\n        <Button onClick={() => setIsDialogOpen(true)} size=\"sm\">\r\n          <Plus className=\"ml-2 h-4 w-4\" />\r\n          افزودن محصول\r\n        </Button>\r\n      </div>\r\n\r\n      {supplierProducts.length === 0 ? (\r\n        <div className=\"text-center py-8 border border-dashed rounded-lg\">\r\n          <p className=\"text-muted-foreground\">هیچ محصولی اضافه نشده است</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {Object.entries(productsByCategory).map(([category, categoryProducts]) => (\r\n            <div key={category} className=\"border rounded-lg overflow-hidden\">\r\n              <div className=\"bg-muted/50 px-4 py-2 border-b\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Badge variant=\"secondary\">{category}</Badge>\r\n                  <span className=\"text-sm text-muted-foreground\">\r\n                    {categoryProducts.length} محصول - مجموع:{\" \"}\r\n                    {new Intl.NumberFormat(\"fa-IR\").format(\r\n                      categoryProducts.reduce((sum, p) => sum + p.quantity, 0)\r\n                    )}{\" \"}\r\n                    عدد\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead>محصول</TableHead>\r\n                    <TableHead>تعداد</TableHead>\r\n                    <TableHead>قیمت واحد</TableHead>\r\n                    <TableHead className=\"text-left\">عملیات</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {categoryProducts.map((product) => (\r\n                    <TableRow key={product.productId}>\r\n                      <TableCell className=\"font-medium\">\r\n                        {product.productName}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {new Intl.NumberFormat(\"fa-IR\").format(product.quantity)} عدد\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {product.unitPrice\r\n                          ? `${new Intl.NumberFormat(\"fa-IR\").format(product.unitPrice)} تومان`\r\n                          : \"-\"}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            onClick={() => handleEdit(product)}\r\n                          >\r\n                            <Edit className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            onClick={() => handleDelete(product.productId)}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n                          </Button>\r\n                        </div>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {editingProduct ? \"ویرایش محصول\" : \"افزودن محصول\"}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              محصول و تعداد موجودی را انتخاب کنید\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>فیلتر دسته‌بندی</Label>\r\n              <Select value={categoryFilter} onValueChange={setCategoryFilter}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"همه دسته‌بندی‌ها\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">همه دسته‌بندی‌ها</SelectItem>\r\n                  {categories.map((cat) => (\r\n                    <SelectItem key={cat.id} value={cat.name}>\r\n                      {cat.name}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>محصول *</Label>\r\n              <Select\r\n                value={selectedProductId}\r\n                onValueChange={setSelectedProductId}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"انتخاب محصول\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {availableProducts.map((product) => (\r\n                    <SelectItem key={product.id} value={product.id}>\r\n                      {product.name} ({product.category})\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>تعداد *</Label>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                value={quantity || \"\"}\r\n                onChange={(e) => setQuantity(parseInt(e.target.value) || 0)}\r\n                placeholder=\"تعداد موجودی\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>قیمت واحد (اختیاری)</Label>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                value={unitPrice || \"\"}\r\n                onChange={(e) =>\r\n                  setUnitPrice(e.target.value ? parseFloat(e.target.value) : undefined)\r\n                }\r\n                placeholder=\"قیمت واحد از تامین‌کننده\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={handleCancel}>\r\n              انصراف\r\n            </Button>\r\n            <Button onClick={handleAddProduct}>\r\n              {editingProduct ? \"ذخیره تغییرات\" : \"افزودن\"}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}