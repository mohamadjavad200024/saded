module.exports=[32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return h}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773);function h({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}return 0===c.length?null:(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},88367,a=>{"use strict";var b=a.i(87924),c=a.i(19721),d=a.i(3130),e=a.i(40695),f=a.i(60421),g=a.i(410),h=a.i(69520),i=a.i(15618),j=a.i(83497),k=a.i(38784),l=a.i(210),m=a.i(77156),n=a.i(92e3),o=a.i(16201),p=a.i(38246),q=a.i(89078),r=a.i(72131),s=a.i(88237),t=a.i(54161),u=a.i(72228),v=a.i(80666);let w=(0,c.default)(async()=>{},{loadableGenerated:{modules:[72952]},loading:()=>(0,b.jsx)("div",{className:"animate-pulse h-48 bg-muted rounded-lg"}),ssr:!1});function x(){let{refreshStats:a}=(0,q.useAdminStore)(),c=(0,f.useProductStore)(a=>a.products),x=(0,g.useOrderStore)(a=>a.orders);(0,f.useProductStore)(a=>a.getEnabledProducts()),(0,r.useEffect)(()=>{a()},[a]);let y=(0,r.useMemo)(()=>c.map(a=>({...a,createdAt:a.createdAt instanceof Date?a.createdAt:new Date(a.createdAt)})).sort((a,b)=>{let c=a.createdAt instanceof Date?a.createdAt.getTime():new Date(a.createdAt).getTime();return(b.createdAt instanceof Date?b.createdAt.getTime():new Date(b.createdAt).getTime())-c}).slice(0,5),[c]),z=(0,r.useMemo)(()=>c.filter(a=>a.stockCount<10).slice(0,5),[c]),A=(0,r.useMemo)(()=>x.map(a=>({...a,createdAt:a.createdAt instanceof Date?a.createdAt:new Date(a.createdAt)})).sort((a,b)=>{let c=a.createdAt instanceof Date?a.createdAt.getTime():new Date(a.createdAt).getTime();return(b.createdAt instanceof Date?b.createdAt.getTime():new Date(b.createdAt).getTime())-c}).slice(0,5),[x]);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"داشبورد"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"خوش آمدید به پنل مدیریت فروشگاه"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:a,children:[(0,b.jsx)(h.RefreshCw,{className:"ml-2 h-4 w-4"}),"بروزرسانی"]}),(0,b.jsx)(e.Button,{size:"sm",asChild:!0,children:(0,b.jsxs)(p.default,{href:"/admin/products/new",children:[(0,b.jsx)(i.Plus,{className:"ml-2 h-4 w-4"}),"محصول جدید"]})})]})]}),(0,b.jsx)(w,{}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsxs)(d.Card,{className:"lg:col-span-2",children:[(0,b.jsx)(d.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.ShoppingCart,{className:"h-5 w-5 text-primary"}),"آخرین سفارشات"]}),(0,b.jsx)(d.CardDescription,{children:"سفارشات اخیراً ثبت شده"})]}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,b.jsxs)(p.default,{href:"/admin/orders",children:[(0,b.jsx)(l.ArrowLeft,{className:"ml-2 h-4 w-4"}),"مشاهده همه"]})})]})}),(0,b.jsx)(d.CardContent,{className:"pt-6",children:A.length>0?(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)(s.Table,{children:[(0,b.jsx)(s.TableHeader,{children:(0,b.jsxs)(s.TableRow,{children:[(0,b.jsx)(s.TableHead,{children:"شماره سفارش"}),(0,b.jsx)(s.TableHead,{children:"مشتری"}),(0,b.jsx)(s.TableHead,{children:"مبلغ"}),(0,b.jsx)(s.TableHead,{children:"وضعیت"}),(0,b.jsx)(s.TableHead,{children:"تاریخ"})]})}),(0,b.jsx)(s.TableBody,{children:A.map(a=>(0,b.jsxs)(s.TableRow,{children:[(0,b.jsx)(s.TableCell,{className:"font-medium",children:a.orderNumber}),(0,b.jsx)(s.TableCell,{children:a.customerName}),(0,b.jsxs)(s.TableCell,{children:[new Intl.NumberFormat("fa-IR").format(a.total+a.shippingCost)," تومان"]}),(0,b.jsx)(s.TableCell,{children:(0,b.jsxs)(t.Badge,{variant:"delivered"===a.status?"success":"pending"===a.status?"warning":"default",children:["pending"===a.status&&"در انتظار","processing"===a.status&&"در حال پردازش","shipped"===a.status&&"ارسال شده","delivered"===a.status&&"تحویل شده","cancelled"===a.status&&"لغو شده"]})}),(0,b.jsx)(s.TableCell,{className:"text-sm text-muted-foreground",children:(0,u.format)(a.createdAt,"yyyy/MM/dd",{locale:v.faIR})})]},a.id))})]})}):(0,b.jsxs)("div",{className:"text-center py-12 border border-dashed border-border/30 rounded-lg",children:[(0,b.jsx)(k.ShoppingCart,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"هیچ سفارشی وجود ندارد"})]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"bg-gradient-to-r from-red-500/5 to-transparent border-b",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.AlertCircle,{className:"h-5 w-5 text-red-600"}),"هشدار موجودی"]}),(0,b.jsx)(d.CardDescription,{children:"محصولات با موجودی کم"})]}),(0,b.jsx)(t.Badge,{variant:"warning",className:"h-6",children:c.filter(a=>a.stockCount<10).length})]})}),(0,b.jsx)(d.CardContent,{className:"pt-6",children:z.length>0?(0,b.jsxs)("div",{className:"space-y-3",children:[z.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border/50 hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["موجودی: ",a.stockCount]})]}),(0,b.jsx)(t.Badge,{variant:"warning",className:"ml-2",children:a.stockCount})]},a.id)),c.filter(a=>a.stockCount<10).length>5&&(0,b.jsx)(e.Button,{variant:"outline",className:"w-full mt-4",asChild:!0,children:(0,b.jsxs)(p.default,{href:"/admin/products",children:["مشاهده همه (",c.filter(a=>a.stockCount<10).length,")"]})})]}):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(o.CheckCircle,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"همه محصولات موجودی کافی دارند"})]})})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Package,{className:"h-5 w-5 text-primary"}),"آخرین محصولات"]}),(0,b.jsx)(d.CardDescription,{children:"محصولات اخیراً اضافه شده"})]}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,b.jsxs)(p.default,{href:"/admin/products",children:[(0,b.jsx)(l.ArrowLeft,{className:"ml-2 h-4 w-4"}),"مشاهده همه"]})})]})}),(0,b.jsx)(d.CardContent,{className:"pt-6",children:y.length>0?(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)(s.Table,{children:[(0,b.jsx)(s.TableHeader,{children:(0,b.jsxs)(s.TableRow,{children:[(0,b.jsx)(s.TableHead,{children:"نام"}),(0,b.jsx)(s.TableHead,{children:"قیمت"}),(0,b.jsx)(s.TableHead,{children:"وضعیت"}),(0,b.jsx)(s.TableHead,{children:"موجودی"}),(0,b.jsx)(s.TableHead,{children:"عملیات"})]})}),(0,b.jsx)(s.TableBody,{children:y.map(a=>(0,b.jsxs)(s.TableRow,{children:[(0,b.jsx)(s.TableCell,{className:"font-medium",children:a.name}),(0,b.jsxs)(s.TableCell,{children:[new Intl.NumberFormat("fa-IR").format(a.price||0)," تومان"]}),(0,b.jsx)(s.TableCell,{children:(0,b.jsx)(t.Badge,{variant:a.enabled?"success":"secondary",children:a.enabled?"فعال":"غیرفعال"})}),(0,b.jsx)(s.TableCell,{children:(0,b.jsx)(t.Badge,{variant:a.stockCount<10?"warning":"default",children:a.stockCount})}),(0,b.jsx)(s.TableCell,{children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,b.jsxs)(p.default,{href:`/admin/products/${a.id}`,children:[(0,b.jsx)(m.Eye,{className:"h-4 w-4 ml-1"}),"مشاهده"]})})})]},a.id))})]})}):(0,b.jsxs)("div",{className:"text-center py-12 border border-dashed border-border/30 rounded-lg",children:[(0,b.jsx)(j.Package,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"محصولی وجود ندارد"})]})})]})]})}a.s(["default",()=>x])}];

//# sourceMappingURL=_a16a53a0._.js.map