module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},49814,a=>{"use strict";var b=a.i(33915),c=a.i(54917);let d=(0,b.create)((a,b)=>({categories:[],setCategories:b=>a({categories:b}),addCategory:b=>a(a=>{let c=a.categories.findIndex(a=>a.id===b.id);if(c>=0){let d=[...a.categories];return d[c]=b,{categories:d}}return{categories:[...a.categories,b]}}),updateCategory:b=>a(a=>{let c=a.categories.findIndex(a=>a.id===b.id);if(c>=0){let d=[...a.categories];return d[c]=b,{categories:d}}return a}),deleteCategory:b=>a(a=>({categories:a.categories.filter(a=>a.id!==b)})),toggleCategory:b=>a(a=>({categories:a.categories.map(a=>a.id===b?{...a,isActive:!a.isActive}:a)})),getCategory:a=>b().categories.find(b=>b.id===a),getActiveCategories:()=>b().categories.filter(a=>a.isActive&&a.enabled),getEnabledCategories:()=>b().categories.filter(a=>a.enabled),loadCategoriesFromDB:async(a=!1)=>{try{let c=await fetch(a?"/api/categories?all=true":"/api/categories");if(!c.ok)throw Error("خطا در بارگذاری دسته‌بندی‌ها");let d=(await c.json()).data||[];b().setCategories(d)}catch(a){c.logger.error("Error loading categories from DB:",a)}}}));a.s(["useCategoryStore",0,d])},13902,a=>{"use strict";var b=a.i(72131),c=(a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}},d=["light","dark"],e="(prefers-color-scheme: dark)",f=b.createContext(void 0),g={setTheme:a=>{},themes:[]},h=()=>{var a;return null!=(a=b.useContext(f))?a:g},i=a=>b.useContext(f)?b.createElement(b.Fragment,null,a.children):b.createElement(k,{...a}),j=["light","dark"],k=({forcedTheme:a,disableTransitionOnChange:c=!1,enableSystem:g=!0,enableColorScheme:h=!0,storageKey:i="theme",themes:k=j,defaultTheme:p=g?"system":"light",attribute:q="data-theme",value:r,children:s,nonce:t,scriptProps:u})=>{let[v,w]=b.useState(()=>m(i,p)),[x,y]=b.useState(()=>"system"===v?o():v),z=r?Object.values(r):k,A=b.useCallback(a=>{let b=a;if(!b)return;"system"===a&&g&&(b=o());let e=r?r[b]:b,f=c?n(t):null,i=document.documentElement,j=a=>{"class"===a?(i.classList.remove(...z),e&&i.classList.add(e)):a.startsWith("data-")&&(e?i.setAttribute(a,e):i.removeAttribute(a))};if(Array.isArray(q)?q.forEach(j):j(q),h){let a=d.includes(p)?p:null,c=d.includes(b)?b:a;i.style.colorScheme=c}null==f||f()},[t]),B=b.useCallback(a=>{let b="function"==typeof a?a(v):a;w(b);try{localStorage.setItem(i,b)}catch(a){}},[v]),C=b.useCallback(b=>{y(o(b)),"system"===v&&g&&!a&&A("system")},[v,a]);b.useEffect(()=>{let a=window.matchMedia(e);return a.addListener(C),C(a),()=>a.removeListener(C)},[C]),b.useEffect(()=>{let a=a=>{a.key===i&&(a.newValue?w(a.newValue):B(p))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[B]),b.useEffect(()=>{A(null!=a?a:v)},[a,v]);let D=b.useMemo(()=>({theme:v,setTheme:B,forcedTheme:a,resolvedTheme:"system"===v?x:v,themes:g?[...k,"system"]:k,systemTheme:g?x:void 0}),[v,B,a,x,g,k]);return b.createElement(f.Provider,{value:D},b.createElement(l,{forcedTheme:a,storageKey:i,attribute:q,enableSystem:g,enableColorScheme:h,defaultTheme:p,value:r,themes:k,nonce:t,scriptProps:u}),s)},l=b.memo(({forcedTheme:a,storageKey:d,attribute:e,enableSystem:f,enableColorScheme:g,defaultTheme:h,value:i,themes:j,nonce:k,scriptProps:l})=>{let m=JSON.stringify([e,d,h,a,j,i,f,g]).slice(1,-1);return b.createElement("script",{...l,suppressHydrationWarning:!0,nonce:k,dangerouslySetInnerHTML:{__html:`(${c.toString()})(${m})`}})}),m=(a,b)=>{},n=a=>{let b=document.createElement("style");return a&&b.setAttribute("nonce",a),b.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(b),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(b)},1)}},o=a=>(a||(a=window.matchMedia(e)),a.matches?"dark":"light");a.s(["ThemeProvider",()=>i,"useTheme",()=>h])},82329,a=>{"use strict";var b=a.i(33915),c=a.i(62435),d=a.i(54917);let e=(0,c.createJSONStorage)(()=>({getItem:a=>null,setItem:(a,b)=>{},removeItem:a=>{}})),f=(0,b.create)()((0,c.persist)((a,b)=>({items:[],shippingMethod:null,sessionId:null,initializeSession:()=>{},syncToDatabase:async()=>{try{let a=b(),c=a.sessionId||"";if(!c)return void d.logger.warn("No session ID, skipping database sync");let e=a.items.map(a=>(d.logger.debug("Syncing item to DB:",{id:a.id,name:a.name,hasImage:!!a.image,imageLength:a.image?.length||0,imageType:a.image?.startsWith("data:")?"base64":"url"}),{...a})),f=await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e,shippingMethod:a.shippingMethod,sessionId:c})});if(f.ok)try{let a=await f.json();a&&a.success}catch(a){}else{let a=`HTTP ${f.status}: ${f.statusText}`,b=null;try{(b=await f.json())&&"object"==typeof b&&(a=b.error||b.message||a)}catch(b){try{let b=await f.text();b&&(a=`${a} - ${b.substring(0,100)}`)}catch(a){d.logger.warn("Could not parse error response",{status:f.status})}}if(f.status>=400){let g={status:f.status,statusText:f.statusText,error:a,sessionId:c||"unknown",itemCount:e.length};b&&(g.errorData=b),d.logger.error("Failed to sync cart to database:",g)}}}catch(a){if(a instanceof Error)a.message.includes("fetch")||a.message.includes("network")||d.logger.error("Error syncing cart to database:",{message:a.message,name:a.name,sessionId:b().sessionId||""});else{let c={sessionId:b().sessionId||"unknown",itemCount:b().items.length};a&&"object"==typeof a?(c.error=a,c.message=a.message||a.toString()||"Unknown error",a.code&&(c.code=a.code),a.status&&(c.status=a.status)):c.message=String(a)||"Unknown error",d.logger.error("Failed to sync cart to database:",c)}}},loadFromDatabase:async()=>{try{return}catch(a){a instanceof Error?a.message.includes("fetch")||a.message.includes("network")||d.logger.error("Error loading cart from database:",{message:a.message,name:a.name,sessionId:""}):d.logger.error("Error loading cart from database:",a)}},addItem:c=>{try{a(a=>{if(a.items.length>=100)return d.logger.warn("Cart limit reached (100 items). Please remove some items."),a;if(a.items.find(a=>a.id===c.id))return{items:a.items.map(a=>a.id===c.id?{...a,quantity:a.quantity+(c.quantity||1)}:a)};let e={items:[...a.items,{...c,image:c.image||"",quantity:c.quantity||1}]};return setTimeout(()=>{b().syncToDatabase()},100),e})}catch(a){throw a?.name==="QuotaExceededError"&&d.logger.error("Storage quota exceeded. Please clear your cart."),a}},updateQuantity:(c,e)=>{try{a(a=>{if(e<=0)return{items:a.items.filter(a=>a.id!==c)};let d={items:a.items.map(a=>a.id===c?{...a,quantity:e}:a)};return setTimeout(()=>{b().syncToDatabase()},100),d})}catch(a){throw a?.name==="QuotaExceededError"&&d.logger.error("Storage quota exceeded. Please clear your cart."),a}},removeItem:c=>{a(a=>{let d={items:a.items.filter(a=>a.id!==c)};return setTimeout(()=>{b().syncToDatabase()},100),d})},clearCart:()=>{a({items:[],shippingMethod:null}),setTimeout(()=>{b().syncToDatabase()},100)},getTotal:()=>b().items.reduce((a,b)=>a+b.price*b.quantity,0),getItemCount:()=>b().items.reduce((a,b)=>a+b.quantity,0),setShippingMethod:c=>{a({shippingMethod:c}),setTimeout(()=>{b().syncToDatabase()},100)}}),{name:"cart-storage",storage:e,partialize:a=>({items:a.items.slice(0,100).map(a=>{var b;return{...a,image:(b=a.image)&&"string"==typeof b?b.startsWith("data:image")?b.length<5e4?b:"":b.length>2e3?(d.logger.warn("Very long image URL detected, truncating:",b.substring(0,100)),b.substring(0,2e3)):b:""}}),shippingMethod:a.shippingMethod,sessionId:a.sessionId})}));a.s(["useCartStore",0,f])},50522,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},38784,a=>{"use strict";let b=(0,a.i(70106).default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);a.s(["ShoppingCart",()=>b],38784)},54161,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(97895);let e=(0,c.cva)("inline-flex items-center rounded-full border-[0.25px] px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border/30",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border-[0.25px] border-border/3 bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},83497,a=>{"use strict";let b=(0,a.i(70106).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],83497)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},37927,a=>{"use strict";var b=a.i(72131),c=a.i(87924),d=b.createContext(void 0),e=a=>{let c=b.useContext(d);if(a)return a;if(!c)throw Error("No QueryClient set, use QueryClientProvider to set one");return c},f=({client:a,children:e})=>(b.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),(0,c.jsx)(d.Provider,{value:a,children:e}));a.s(["QueryClientProvider",()=>f,"useQueryClient",()=>e])},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},78987,a=>{"use strict";let b=(0,a.i(70106).default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);a.s(["ShoppingBag",()=>b],78987)},99209,a=>{"use strict";var b=a.i(72131),c=a.i(33915),d=a.i(62435),e=a.i(54917);let f=(0,c.create)()((0,d.persist)((a,b)=>({notifications:[],addNotification:c=>{let d=c.metadata?.notificationId||`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,f=b().notifications.find(a=>a.id===d);if(f&&!f.dismissed)return e.logger.debug(`[Notification Store] Updating existing notification ${d}`),a(a=>({notifications:a.notifications.map(a=>a.id===d?{...a,...c,timestamp:Date.now(),read:!1,dismissed:!1}:a)})),d;let g={...c,id:d,timestamp:Date.now(),read:!1,dismissed:!1};return e.logger.debug(`[Notification Store] Adding new notification ${d}`,{type:g.type,title:g.title,chatId:g.metadata?.chatId,isAdmin:g.metadata?.isAdmin}),a(a=>({notifications:[g,...a.notifications.filter(a=>a.id!==d)].slice(0,50)})),d},removeNotification:b=>{a(a=>({notifications:a.notifications.filter(a=>a.id!==b)}))},markAsRead:b=>{a(a=>({notifications:a.notifications.map(a=>a.id===b?{...a,read:!0}:a)}))},markAllAsRead:()=>{a(a=>({notifications:a.notifications.map(a=>({...a,read:!0}))}))},dismissNotification:c=>{let d=b().notifications.find(a=>a.id===c);d?.onDismiss&&d.onDismiss(),a(a=>({notifications:a.notifications.filter(a=>a.id!==c)}))},dismissAll:()=>{a(a=>({notifications:a.notifications.filter(a=>a.persistent)}))},getUnreadCount:()=>b().notifications.filter(a=>!a.read&&!a.dismissed).length,getUnreadCountExcludingChat:a=>a?b().notifications.filter(b=>!b.read&&!b.dismissed&&!(b.metadata?.chatId===a&&b.metadata?.isAdmin)).length:b().getUnreadCount(),getNotificationsExcludingChat:a=>a?b().notifications.filter(b=>!(b.metadata?.chatId===a&&b.metadata?.isAdmin)):b().notifications,clearAll:()=>{a({notifications:[]})}}),{name:"notification-storage",partialize:a=>({notifications:a.notifications.filter(a=>a.read).slice(0,20)})}));var g=a.i(80794);function h(){let{notifications:a,addNotification:c,removeNotification:d,markAsRead:h,markAllAsRead:i,dismissNotification:j,getUnreadCount:k}=f(),{showNotification:l}=(0,g.useNotifications)(),m=(0,b.useCallback)((a,b)=>{try{let a=new(window.AudioContext||window.webkitAudioContext),c=a.createOscillator(),d=a.createGain();c.connect(d),d.connect(a.destination),"urgent"===b||"high"===b?(c.frequency.setValueAtTime(1e3,a.currentTime),c.frequency.setValueAtTime(800,a.currentTime+.1),c.frequency.setValueAtTime(1e3,a.currentTime+.2),c.frequency.setValueAtTime(800,a.currentTime+.3),c.frequency.setValueAtTime(1e3,a.currentTime+.4),d.gain.setValueAtTime(.3,a.currentTime),d.gain.exponentialRampToValueAtTime(.01,a.currentTime+.5),c.start(a.currentTime),c.stop(a.currentTime+.5)):(c.frequency.setValueAtTime(800,a.currentTime),c.frequency.setValueAtTime(600,a.currentTime+.1),c.frequency.setValueAtTime(800,a.currentTime+.2),d.gain.setValueAtTime(.3,a.currentTime),d.gain.exponentialRampToValueAtTime(.01,a.currentTime+.3),c.start(a.currentTime),c.stop(a.currentTime+.3))}catch(a){e.logger.error("Error playing notification sound:",a)}},[]),n=(0,b.useCallback)(a=>{if("vibrate"in navigator)try{navigator.vibrate(a)}catch(a){e.logger.error("Error vibrating device:",a)}},[]),o=(0,b.useCallback)(a=>{let{type:b="message",priority:d="medium",title:e,message:f,sender:g,avatar:h,actions:i,onConfirm:j,onDismiss:k,metadata:o,persistent:p=!0,sound:q=!0,vibration:r=!1}=a;return q&&m(b,d),r&&"urgent"===d&&n([200,100,200]),l({title:e,body:f,tag:`persistent-${Date.now()}`,requireInteraction:p,sound:!1}).catch(()=>{}),c({type:b,priority:d,title:e,message:f,sender:g,avatar:h,actions:i,onConfirm:j,onDismiss:k,metadata:o,persistent:p,sound:q,vibration:r})},[c,m,n,l]),p=(0,b.useCallback)((a,b,c)=>{let{avatar:d,onOpen:e,chatId:f,metadata:g}=c||{},i=f?`msg-${f}`:void 0;return o({type:"message",priority:"high",title:`پیام جدید از ${a}`,message:b,sender:a,avatar:d,persistent:!0,sound:!0,actions:f?[{label:"مشاهده",action:()=>{let a=new CustomEvent("openChat",{detail:{chatId:f,isAdmin:g?.isAdmin!==!1}});window.dispatchEvent(a),e&&e(),i&&(h(i),j(i))},variant:"default"}]:e?[{label:"مشاهده",action:()=>{e&&e()},variant:"default"}]:void 0,onConfirm:e,metadata:{chatId:f,notificationId:i,...g}})},[o,h,j]);return{notifications:a.filter(a=>!a.dismissed),showNotification:o,showMessageNotification:p,removeNotification:d,markAsRead:h,markAllAsRead:i,dismissNotification:j,unreadCount:k()}}a.s(["usePersistentNotifications",()=>h],99209)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},62036,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(86723),e=a.i(74290),f=a.i(14800),g=c,h=a.i(65802);class i extends g.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=this.props.sizeRef.current;a.height=b.offsetHeight||0,a.width=b.offsetWidth||0,a.top=b.offsetTop,a.left=b.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j({children:a,isPresent:c}){let d=(0,g.useId)(),e=(0,g.useRef)(null),f=(0,g.useRef)({width:0,height:0,top:0,left:0}),{nonce:j}=(0,g.useContext)(h.MotionConfigContext);return(0,g.useInsertionEffect)(()=>{let{width:a,height:b,top:g,left:h}=f.current;if(c||!e.current||!a||!b)return;e.current.dataset.motionPopId=d;let i=document.createElement("style");return j&&(i.nonce=j),document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            top: ${g}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[c]),(0,b.jsx)(i,{isPresent:c,childRef:e,sizeRef:f,children:g.cloneElement(a,{ref:e})})}let k=({children:a,initial:d,isPresent:g,onExitComplete:h,custom:i,presenceAffectsLayout:k,mode:m})=>{let n=(0,e.useConstant)(l),o=(0,c.useId)(),p=(0,c.useCallback)(a=>{for(let b of(n.set(a,!0),n.values()))if(!b)return;h&&h()},[n,h]),q=(0,c.useMemo)(()=>({id:o,initial:d,isPresent:g,custom:i,onExitComplete:p,register:a=>(n.set(a,!1),()=>n.delete(a))}),k?[Math.random(),p]:[g,p]);return(0,c.useMemo)(()=>{n.forEach((a,b)=>n.set(b,!1))},[g]),c.useEffect(()=>{g||n.size||!h||h()},[g]),"popLayout"===m&&(a=(0,b.jsx)(j,{isPresent:g,children:a})),(0,b.jsx)(f.PresenceContext.Provider,{value:q,children:a})};function l(){return new Map}var m=a.i(20410);let n=a=>a.key||"";function o(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}var p=a.i(1703);let q=({children:a,custom:f,initial:g=!0,onExitComplete:h,presenceAffectsLayout:i=!0,mode:j="sync",propagate:l=!1})=>{let[q,r]=(0,m.usePresence)(l),s=(0,c.useMemo)(()=>o(a),[a]),t=l&&!q?[]:s.map(n),u=(0,c.useRef)(!0),v=(0,c.useRef)(s),w=(0,e.useConstant)(()=>new Map),[x,y]=(0,c.useState)(s),[z,A]=(0,c.useState)(s);(0,p.useIsomorphicLayoutEffect)(()=>{u.current=!1,v.current=s;for(let a=0;a<z.length;a++){let b=n(z[a]);t.includes(b)?w.delete(b):!0!==w.get(b)&&w.set(b,!1)}},[z,t.length,t.join("-")]);let B=[];if(s!==x){let a=[...s];for(let b=0;b<z.length;b++){let c=z[b],d=n(c);t.includes(d)||(a.splice(b,0,c),B.push(c))}"wait"===j&&B.length&&(a=B),A(o(a)),y(s);return}let{forceRender:C}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:z.map(a=>{let c=n(a),d=(!l||!!q)&&(s===z||t.includes(c));return(0,b.jsx)(k,{isPresent:d,initial:(!u.current||!!g)&&void 0,custom:d?void 0:f,presenceAffectsLayout:i,mode:j,onExitComplete:d?void 0:()=>{if(!w.has(c))return;w.set(c,!0);let a=!0;w.forEach(b=>{b||(a=!1)}),a&&(null==C||C(),A(v.current),l&&(null==r||r()),h&&h())},children:a},c)})})};a.s(["AnimatePresence",()=>q],62036)},80794,a=>{"use strict";var b=a.i(72131);function c(){let[a,c]=(0,b.useState)("default");return(0,b.useRef)(null),(0,b.useEffect)(()=>{},[]),{permission:a,requestPermission:async()=>!1,showNotification:async(a,b=!0)=>{},isSupported:!1}}a.i(54917),a.s(["useNotifications",()=>c])},54210,a=>{"use strict";var b=a.i(87924),c=a.i(96221),d=a.i(3130);function e({message:a="در حال بارگذاری...",fullScreen:e=!0}){let f=(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,b.jsx)(c.Loader2,{className:"h-8 w-8 sm:h-12 sm:w-12 animate-spin text-primary"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:a})]});return e?(0,b.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center p-4",children:f}):(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:f})})}a.s(["PageLoader",()=>e])},17056,a=>{a.v(b=>Promise.all(["server/chunks/ssr/lib_api_fetch-with-auth_ts_216bac7a._.js"].map(b=>a.l(b))).then(()=>b(77756)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4d394d68._.js.map