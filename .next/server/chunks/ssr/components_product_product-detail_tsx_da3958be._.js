module.exports=[48315,a=>{"use strict";var b=a.i(17163),c=a.i(84280),d=a.i(3130),e=a.i(40695),f=a.i(21958),g=a.i(86947),h=a.i(60600);let i=(0,h.default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),j=(0,h.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var k=a.i(53713),l=a.i(53532),m=a.i(34895),n=a.i(72644),o=a.i(77575),p=a.i(34284),q=a.i(96822),r=a.i(34396),s=a.i(29065),t=a.i(82329),u=a.i(60421),v=a.i(98687);function w({productId:a}){let[h,w]=(0,c.useState)(0),[x,y]=(0,c.useState)(1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)(!1),H=(0,t.useCartStore)(a=>a.addItem),I=(0,u.useProductStore)(a=>a.getProduct),J=(0,u.useProductStore)(a=>a.addProduct);(0,c.useEffect)(()=>{G(!0);let b=I(a);if(b){C(b),E(!1);return}(async()=>{try{E(!0);let b=await fetch(`/api/products/${a}`);if(b.ok){let a=await b.json();if(a.success&&a.data){let b=a.data;J(b),C(b)}else C(null)}else C(null)}catch(a){console.error("Error fetching product:",a),C(null)}finally{E(!1)}})()},[a,I,J]);let K=(0,t.useCartStore)(a=>a.setShippingMethod);if(!F||D)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20 px-4",suppressHydrationWarning:!0,children:[(0,b.jsx)("div",{className:"h-12 w-12 sm:h-16 sm:w-16 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),(0,b.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"در حال بارگذاری..."})]});if(!B)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20 px-4",children:[(0,b.jsx)(q.AlertCircle,{className:"h-12 w-12 sm:h-16 sm:w-16 text-muted-foreground mb-4"}),(0,b.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"محصول یافت نشد"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground text-center mb-6",children:"متأسفانه محصول مورد نظر شما یافت نشد"}),(0,b.jsx)(s.default,{href:"/products",children:(0,b.jsx)(e.Button,{variant:"default",children:"بازگشت به لیست محصولات"})})]});let L=process.env.NEXT_PUBLIC_URL||"https://saded.ir",M=`${L}/products/${B.id}`,N=B.images?.[0]||(0,v.getPlaceholderImage)(600,600);B.price;let O=B.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock",P={"@context":"https://schema.org","@type":"Product",name:B.name,description:B.description||`${B.name} - قطعه خودرو ${B.brand||""}`,image:B.images.length>0?B.images:[N],brand:{"@type":"Brand",name:B.brand||"نامشخص"},category:B.category,sku:B.id,offers:{"@type":"Offer",url:M,priceCurrency:"IRR",price:B.price.toString(),priceValidUntil:new Date(Date.now()+31536e6).toISOString().split("T")[0],availability:O,itemCondition:"https://schema.org/NewCondition",seller:{"@type":"Organization",name:"ساد"}}};return B.rating&&(P.aggregateRating={"@type":"AggregateRating",ratingValue:B.rating.toString(),reviewCount:(B.reviews||0).toString()}),(0,b.jsxs)("div",{className:"space-y-4 sm:space-y-6 md:space-y-8 px-2 sm:px-0",children:[(0,b.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(P)}}),(0,b.jsxs)("nav",{className:"text-[10px] sm:text-xs text-muted-foreground overflow-x-auto mb-2",children:[(0,b.jsx)("span",{children:"خانه"})," / ",(0,b.jsx)("span",{children:"محصولات"})," / ",(0,b.jsx)("span",{children:B.category})," /"," ",(0,b.jsx)("span",{className:"text-foreground truncate",children:B.name})]}),(0,b.jsx)("div",{children:(0,b.jsx)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:B.category})}),(B.airShippingEnabled||B.seaShippingEnabled)&&(0,b.jsxs)("div",{className:"hidden lg:block space-y-2 sm:space-y-3 lg:max-w-lg lg:mr-auto",children:[(0,b.jsx)("label",{className:"text-xs sm:text-sm font-medium block",children:"روش ارسال:"}),(0,b.jsxs)("div",{className:`grid gap-2 sm:gap-3 ${B.airShippingEnabled&&B.seaShippingEnabled?"grid-cols-2":"grid-cols-1"}`,children:[B.airShippingEnabled&&(0,b.jsxs)("button",{onClick:()=>A("air"),className:`flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-lg border-[0.25px] transition-all ${"air"===z?"border-primary/30 bg-primary/5":"border-border/30 hover:border-primary/20"}`,children:[(0,b.jsx)(o.Plane,{className:`h-5 w-5 sm:h-6 sm:w-6 ${"air"===z?"text-primary":"text-muted-foreground"}`}),(0,b.jsx)("span",{className:`text-xs sm:text-sm font-medium ${"air"===z?"text-primary":"text-foreground"}`,children:"ارسال هوایی"})]}),B.seaShippingEnabled&&(0,b.jsxs)("button",{onClick:()=>A("sea"),className:`flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-lg border-[0.25px] transition-all ${"sea"===z?"border-primary/30 bg-primary/5":"border-border/30 hover:border-primary/20"}`,children:[(0,b.jsx)(p.Ship,{className:`h-5 w-5 sm:h-6 sm:w-6 ${"sea"===z?"text-primary":"text-muted-foreground"}`}),(0,b.jsx)("span",{className:`text-xs sm:text-sm font-medium ${"sea"===z?"text-primary":"text-foreground"}`,children:"ارسال دریایی"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:[(0,b.jsxs)("div",{className:"space-y-2 sm:space-y-3 lg:-mt-32",children:[(0,b.jsx)("div",{className:"relative aspect-square w-full bg-muted rounded-lg overflow-hidden",children:(0,b.jsx)(r.default,{src:B.images[h]||(0,v.getPlaceholderImage)(600,600),alt:B.name,fill:!0,className:"object-cover",priority:!0})}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2",children:(B.images.length>0?B.images:[(0,v.getPlaceholderImage)(600,600)]).map((a,c)=>(0,b.jsx)("button",{onClick:()=>w(c),className:`relative aspect-square rounded-lg overflow-hidden border-[0.25px] transition-all ${h===c?"border-primary/30":"border-transparent hover:border-muted-foreground/30"}`,children:(0,b.jsx)(r.default,{src:a,alt:`${B.name} - تصویر ${c+1} از ${B.images.length}`,fill:!0,className:"object-cover",loading:c<2?"eager":"lazy",sizes:"(max-width: 640px) 25vw, 20vw"})},c))}),(B.airShippingEnabled||B.seaShippingEnabled)&&(0,b.jsxs)("div",{className:"block lg:hidden space-y-2 sm:space-y-3 pt-2 sm:pt-3",children:[(0,b.jsx)("label",{className:"text-xs sm:text-sm font-medium block",children:"روش ارسال:"}),(0,b.jsxs)("div",{className:`grid gap-2 sm:gap-3 ${B.airShippingEnabled&&B.seaShippingEnabled?"grid-cols-2":"grid-cols-1"}`,children:[B.airShippingEnabled&&(0,b.jsxs)("button",{onClick:()=>A("air"),className:`flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-lg border-[0.25px] transition-all ${"air"===z?"border-primary/30 bg-primary/5":"border-border/30 hover:border-primary/20"}`,children:[(0,b.jsx)(o.Plane,{className:`h-5 w-5 sm:h-6 sm:w-6 ${"air"===z?"text-primary":"text-muted-foreground"}`}),(0,b.jsx)("span",{className:`text-xs sm:text-sm font-medium ${"air"===z?"text-primary":"text-foreground"}`,children:"ارسال هوایی"})]}),B.seaShippingEnabled&&(0,b.jsxs)("button",{onClick:()=>A("sea"),className:`flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-lg border-[0.25px] transition-all ${"sea"===z?"border-primary/30 bg-primary/5":"border-border/30 hover:border-primary/20"}`,children:[(0,b.jsx)(p.Ship,{className:`h-5 w-5 sm:h-6 sm:w-6 ${"sea"===z?"text-primary":"text-muted-foreground"}`}),(0,b.jsx)("span",{className:`text-xs sm:text-sm font-medium ${"sea"===z?"text-primary":"text-foreground"}`,children:"ارسال دریایی"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4 sm:space-y-5 md:space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mb-2 flex-wrap",children:[(0,b.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:B.brand}),(0,b.jsx)("span",{className:"text-muted-foreground hidden sm:inline text-xs",children:"•"}),(0,b.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:B.category})]}),(0,b.jsx)("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-3 sm:mb-4 leading-tight",children:B.name}),(0,b.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 mb-0",children:B.rating&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(k.Star,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-accent text-accent"}),(0,b.jsx)("span",{className:"text-sm sm:text-base font-semibold mr-1",children:B.rating})]}),B.reviews&&(0,b.jsxs)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["(",B.reviews," نظر)"]})]})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[(0,b.jsxs)("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary",children:[B.price.toLocaleString("fa-IR")," تومان"]}),B.originalPrice&&B.originalPrice>B.price&&(0,b.jsx)("span",{className:"text-sm sm:text-base text-muted-foreground line-through",children:B.originalPrice.toLocaleString("fa-IR")})]}),B.originalPrice&&B.originalPrice>B.price&&(0,b.jsxs)("div",{className:"text-[10px] sm:text-xs text-secondary font-semibold",children:[Math.round((B.originalPrice-B.price)/B.originalPrice*100),"% تخفیف"]})]}),(0,b.jsx)("div",{className:"flex items-center gap-1.5",children:B.inStock?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Check,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"}),(0,b.jsxs)("span",{className:"text-xs sm:text-sm text-green-600 font-semibold",children:["موجود در انبار",B.stockCount?` (${B.stockCount} عدد)`:""]})]}):(0,b.jsx)("span",{className:"text-xs sm:text-sm text-secondary font-semibold",children:"ناموجود"})}),(0,b.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("label",{className:"text-xs sm:text-sm font-medium",children:"تعداد:"}),(0,b.jsxs)("div",{className:"flex items-center border-[0.25px] border-border/30 rounded-md",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:()=>y(Math.max(1,x-1)),children:(0,b.jsx)("span",{className:"text-sm",children:"-"})}),(0,b.jsx)("span",{className:"w-8 sm:w-10 text-center text-xs sm:text-sm",children:x}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:()=>y(x+1),children:(0,b.jsx)("span",{className:"text-sm",children:"+"})})]})]}),(0,b.jsxs)("div",{className:"flex gap-1.5 sm:gap-2",children:[(0,b.jsxs)(e.Button,{size:"default",className:"flex-1 h-9 sm:h-10 text-xs sm:text-sm",disabled:!B.inStock,onClick:()=>{H({id:B.id,name:B.name,price:B.price,image:B.images[0]||(0,v.getPlaceholderImage)(300,300),quantity:x}),z&&("air"===z&&B.airShippingEnabled||"sea"===z&&B.seaShippingEnabled)?K(z):B.airShippingEnabled?K("air"):B.seaShippingEnabled&&K("sea")},children:[(0,b.jsx)(g.ShoppingCart,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 ml-1.5 sm:ml-2"}),(0,b.jsx)("span",{children:"افزودن به سبد"})]}),(0,b.jsx)(e.Button,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",children:(0,b.jsx)(j,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),(0,b.jsx)(e.Button,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",children:(0,b.jsx)(i,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 pt-4 sm:pt-5 border-t-[0.25px] border-border/30",children:[(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(m.Truck,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-[10px] sm:text-xs leading-relaxed",children:"ارسال رایگان بالای 500 هزار تومان"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(n.Shield,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-[10px] sm:text-xs leading-relaxed",children:"گارانتی اصالت کالا"})]})]})]})]}),(0,b.jsxs)(f.Tabs,{defaultValue:"description",className:"w-full",children:[(0,b.jsxs)(f.TabsList,{className:"w-full grid grid-cols-3 h-auto",children:[(0,b.jsx)(f.TabsTrigger,{value:"description",className:"text-[10px] sm:text-xs py-1.5 sm:py-2",children:"توضیحات"}),(0,b.jsx)(f.TabsTrigger,{value:"specifications",className:"text-[10px] sm:text-xs py-1.5 sm:py-2",children:"مشخصات"}),(0,b.jsxs)(f.TabsTrigger,{value:"reviews",className:"text-[10px] sm:text-xs py-1.5 sm:py-2",children:["نظرات ",B.reviews?`(${B.reviews})`:""]})]}),(0,b.jsx)(f.TabsContent,{value:"description",className:"mt-4 sm:mt-6",children:(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4 sm:p-5",children:(0,b.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:B.description||"توضیحات محصول در دسترس نیست"})})})}),(0,b.jsx)(f.TabsContent,{value:"specifications",className:"mt-4 sm:mt-6",children:(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4 sm:p-5",children:B.specifications&&Object.keys(B.specifications).length>0?(0,b.jsx)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Object.entries(B.specifications).map(([a,c])=>(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between py-2 border-b-[0.25px] border-border/30 gap-1 sm:gap-0",children:[(0,b.jsxs)("dt",{className:"font-medium text-xs sm:text-sm",children:[a,":"]}),(0,b.jsx)("dd",{className:"text-xs sm:text-sm text-muted-foreground",children:"string"==typeof c||"number"==typeof c||"boolean"==typeof c?String(c):JSON.stringify(c)})]},a))}):(0,b.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"مشخصات محصول در دسترس نیست"})})})}),(0,b.jsx)(f.TabsContent,{value:"reviews",className:"mt-4 sm:mt-6",children:(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4 sm:p-5",children:(0,b.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["نظرات کاربران ",B.reviews?`(${B.reviews})`:""," به زودی..."]})})})})]})]})}a.s(["ProductDetail",()=>w],48315)}];

//# sourceMappingURL=components_product_product-detail_tsx_da3958be._.js.map