{"version":3,"sources":["../../../../components/home/hero-section.tsx","../../../../components/product/product-search.tsx","../../../../components/home/category-grid.tsx","../../../../node_modules/lucide-react/src/icons/zap.ts","../../../../node_modules/lucide-react/src/icons/sparkles.ts","../../../../node_modules/lucide-react/src/icons/wrench.ts","../../../../node_modules/lucide-react/src/icons/arrow-up-right.ts","../../../../components/home/featured-products.tsx","../../../../components/home/hero-canvas.tsx","../../../../components/home/reviews-section.tsx","../../../../node_modules/lucide-react/src/icons/message-square.ts"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Search, Sparkles, ArrowLeft, ShoppingBag } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { ProductSearch } from \"@/components/product/product-search\";\nimport { MinimalCategoryGrid } from \"@/components/home/category-grid\";\nimport { useProductStore } from \"@/store/product-store\";\n\nexport function HeroSection() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isMounted, setIsMounted] = useState(false);\n  const [searchOpen, setSearchOpen] = useState(false);\n  const pathname = usePathname();\n  const router = useRouter();\n  const { setFilters, filters } = useProductStore();\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Close search when route changes\n  useEffect(() => {\n    if (searchOpen) {\n      setSearchOpen(false);\n    }\n  }, [pathname]);\n\n  // Sync search query with store filter when on products page\n  useEffect(() => {\n    if (pathname === \"/products\" && filters.search && filters.search !== searchQuery) {\n      setSearchQuery(filters.search);\n    }\n  }, [filters.search, pathname]);\n\n  const handleSearchSubmit = () => {\n    const trimmedQuery = searchQuery.trim();\n    \n    // Apply search filter first\n    setFilters({ search: trimmedQuery || undefined });\n    \n    // Use setTimeout to ensure filter is applied before navigation\n    setTimeout(() => {\n      // Navigate to products page with search query in URL\n      if (trimmedQuery) {\n        router.push(`/products?search=${encodeURIComponent(trimmedQuery)}`);\n      } else {\n        router.push(\"/products\");\n      }\n      \n      // Close search modal if open\n      setSearchOpen(false);\n      \n      // Close filter sheet if open\n      window.dispatchEvent(new CustomEvent(\"closeFilterSheet\"));\n    }, 50);\n  };\n\n  const handleSearchClick = () => {\n    if (searchQuery.trim()) {\n      handleSearchSubmit();\n    } else {\n      // If no query, just navigate to products page\n      router.push(\"/products\");\n    }\n  };\n\n  const handleSearchKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      handleSearchSubmit();\n    }\n  };\n\n  return (\n    <section className=\"relative -mt-[20%] sm:-mt-[20%] md:-mt-[20%] lg:-mt-[20%] flex items-end justify-center overflow-visible pointer-events-none\">\n      {/* Main Content - Overlay on bottom 20% of video */}\n      <div className=\"container relative z-10 px-3 sm:px-4 py-4 sm:py-6 md:py-8 pointer-events-auto w-full\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, ease: \"easeOut\" }}\n          className=\"text-center space-y-4 sm:space-y-6 md:space-y-8\"\n        >\n          {/* Minimal Search - Main focus */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2, duration: 0.6 }}\n            className=\"max-w-2xl sm:max-w-3xl md:max-w-4xl mx-auto\"\n          >\n            <div className=\"glass-morphism-strong rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 shadow-2xl\">\n              <div className=\"flex gap-2 sm:gap-3\">\n                <ProductSearch\n                  initialQuery={searchQuery}\n                  isOpen={searchOpen}\n                  onOpenChange={setSearchOpen}\n                  trigger={\n                    <Button \n                      size=\"default\"\n                      onClick={handleSearchClick}\n                      className=\"bg-foreground hover:bg-foreground/90 text-background h-10 sm:h-11 md:h-12 px-3 sm:px-4 md:px-5 text-xs sm:text-sm md:text-base rounded-lg sm:rounded-xl font-medium whitespace-nowrap flex-shrink-0\"\n                    >\n                      <ArrowLeft className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 ml-1.5 sm:ml-2\" />\n                      <span>جستجو</span>\n                    </Button>\n                  }\n                />\n                <div className=\"flex-1 relative group\">\n                  <Search className=\"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-3.5 w-3.5 sm:h-4 sm:w-4 md:h-5 md:w-5 transition-colors group-focus-within:text-accent\" />\n                  <Input\n                    type=\"text\"\n                    placeholder=\"جستجو...\"\n                    value={searchQuery}\n                    onChange={(e) => {\n                      const value = e.target.value;\n                      setSearchQuery(value);\n                      // If input is cleared, clear filter\n                      if (!value.trim() && filters.search) {\n                        setFilters({ search: undefined });\n                      }\n                    }}\n                    onKeyDown={handleSearchKeyDown}\n                    className=\"pr-8 sm:pr-10 md:pr-12 bg-background border-border/30 text-foreground placeholder:text-muted-foreground h-10 sm:h-11 md:h-12 text-xs sm:text-sm md:text-base rounded-lg sm:rounded-xl focus:border-accent/30 focus:ring-1 focus:ring-accent/20 transition-all\"\n                  />\n                </div>\n              </div>\n\n              {/* Minimal Category Grid - 2 rows, 3 columns */}\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.25, duration: 0.5 }}\n                className=\"mt-3 sm:mt-4\"\n              >\n                <MinimalCategoryGrid />\n              </motion.div>\n            </div>\n          </motion.div>\n\n          {/* CTA Buttons - Horizontal and Minimal */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.3, duration: 0.6 }}\n            className=\"flex flex-row gap-2 sm:gap-3 justify-center mt-4 sm:mt-6\"\n          >\n            <Link href=\"/products\">\n              <Button \n                size=\"default\"\n                className=\"bg-foreground text-background hover:bg-foreground/90 h-9 sm:h-10 md:h-11 px-4 sm:px-5 md:px-6 text-xs sm:text-sm rounded-lg sm:rounded-xl font-medium transition-all whitespace-nowrap\"\n              >\n                مشاهده محصولات\n              </Button>\n            </Link>\n            <Link href=\"/guide\">\n              <Button \n                size=\"default\"\n                variant=\"outline\" \n                className=\"glass-morphism-light h-9 sm:h-10 md:h-11 px-4 sm:px-5 md:px-6 text-xs sm:text-sm rounded-lg sm:rounded-xl text-foreground hover:bg-foreground/10 transition-all whitespace-nowrap\"\n              >\n                راهنمای خرید\n              </Button>\n            </Link>\n            <Link href=\"/chat\">\n              <Button \n                size=\"default\"\n                variant=\"outline\" \n                className=\"glass-morphism-light h-9 sm:h-10 md:h-11 px-4 sm:px-5 md:px-6 text-xs sm:text-sm rounded-lg sm:rounded-xl text-foreground hover:bg-foreground/10 transition-all whitespace-nowrap flex items-center gap-1.5\"\n              >\n                <ShoppingBag className=\"h-3.5 w-3.5 sm:h-4 sm:w-4\" />\n                خرید سریع\n              </Button>\n            </Link>\n          </motion.div>\n        </motion.div>\n      </div>\n\n    </section>\n  );\n}\n","\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n} from \"@/components/ui/sheet\";\nimport { Search, X, Package, ArrowUpRight, Car } from \"lucide-react\";\nimport Link from \"next/link\";\nimport type { Product } from \"@/types/product\";\nimport { getPlaceholderImage } from \"@/lib/image-utils\";\nimport { SafeImage } from \"@/components/ui/safe-image\";\nimport { useVehicleStore } from \"@/store/vehicle-store\";\nimport { VehicleLogo } from \"@/components/ui/vehicle-logo\";\n\ninterface ProductSearchProps {\n  onProductClick?: (product: Product) => void;\n  trigger?: React.ReactNode;\n  initialQuery?: string;\n  isOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n}\n\nexport function ProductSearch({ \n  onProductClick, \n  trigger, \n  initialQuery = \"\",\n  isOpen: controlledOpen,\n  onOpenChange\n}: ProductSearchProps) {\n  const [searchQuery, setSearchQuery] = useState(initialQuery);\n  const [internalOpen, setInternalOpen] = useState(false);\n  \n  // Use controlled or internal state\n  const isOpen = controlledOpen !== undefined ? controlledOpen : internalOpen;\n  const setIsOpen = onOpenChange || setInternalOpen;\n  const [products, setProducts] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n\n  // Search products\n  const searchProducts = async (query: string) => {\n    if (!query.trim()) {\n      setProducts([]);\n      setHasSearched(false);\n      return;\n    }\n\n    setIsLoading(true);\n    setHasSearched(true);\n\n    try {\n      const searchPayload = {\n        filters: {\n          search: query.trim(),\n        },\n        page: 1,\n        limit: 50,\n      };\n\n      if (process.env.NODE_ENV === \"development\") {\n        console.log(\"Searching products with query:\", query.trim());\n      }\n\n      const response = await fetch(\"/api/products\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(searchPayload),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success && result.data) {\n          if (process.env.NODE_ENV === \"development\") {\n            console.log(\"Search results:\", result.data.length, \"products found\");\n          }\n          setProducts(result.data);\n        } else {\n          if (process.env.NODE_ENV === \"development\") {\n            console.log(\"No products found or invalid response\");\n          }\n          setProducts([]);\n        }\n      } else {\n        const errorText = await response.text();\n        console.error(\"Search API error:\", response.status, errorText);\n        setProducts([]);\n      }\n    } catch (error) {\n      console.error(\"Error searching products:\", error);\n      setProducts([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Auto-search when query changes (debounced)\n  useEffect(() => {\n    if (isOpen && searchQuery.trim()) {\n      const timeoutId = setTimeout(() => {\n        searchProducts(searchQuery);\n      }, 500); // Debounce 500ms\n\n      return () => clearTimeout(timeoutId);\n    } else if (isOpen && !searchQuery.trim()) {\n      setProducts([]);\n      setHasSearched(false);\n    }\n  }, [searchQuery, isOpen]);\n\n  // Update searchQuery when initialQuery changes\n  useEffect(() => {\n    if (initialQuery) {\n      setSearchQuery(initialQuery);\n    }\n  }, [initialQuery]);\n\n  // When sheet opens, search if there's initial query\n  useEffect(() => {\n    if (isOpen && initialQuery) {\n      searchProducts(initialQuery);\n    }\n  }, [isOpen, initialQuery]);\n\n  // Close sheet when route changes\n  const pathname = usePathname();\n  useEffect(() => {\n    if (isOpen) {\n      setIsOpen(false);\n    }\n  }, [pathname]);\n\n  const handleProductClick = (product: Product) => {\n    if (onProductClick) {\n      onProductClick(product);\n    }\n    setIsOpen(false);\n  };\n\n  const handleSearch = () => {\n    if (searchQuery.trim()) {\n      searchProducts(searchQuery);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\" && searchQuery.trim()) {\n      searchProducts(searchQuery);\n    }\n  };\n\n  return (\n    <Sheet open={isOpen} onOpenChange={setIsOpen}>\n      <SheetTrigger asChild>\n        {trigger || (\n          <Button\n            variant=\"default\"\n            size=\"sm\"\n            className=\"flex items-center gap-2\"\n          >\n            <Search className=\"h-4 w-4\" />\n            جستجو\n          </Button>\n        )}\n      </SheetTrigger>\n      <SheetContent side=\"bottom\" className=\"h-[95vh] sm:h-[90vh] flex flex-col p-0 gap-0\">\n        <SheetTitle className=\"sr-only\">جستجوی محصولات</SheetTitle>\n        {/* Ultra Minimal Header with Search - Sticky at Top */}\n        <div className=\"sticky top-0 z-10 bg-background/98 backdrop-blur-sm border-b border-border/15 flex-shrink-0 shadow-sm\">\n          <div className=\"px-2.5 sm:px-3 py-2\">\n            {/* Minimal Search Input - Single Line */}\n            <div className=\"flex items-center gap-1.5\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-7 w-7 -mr-0.5 flex-shrink-0 hover:bg-muted/50\"\n                onClick={() => setIsOpen(false)}\n              >\n                <X className=\"h-3.5 w-3.5\" />\n              </Button>\n              <div className=\"relative flex-1\">\n                <Search className=\"absolute right-2.5 top-1/2 transform -translate-y-1/2 text-muted-foreground/60 h-3.5 w-3.5 pointer-events-none\" />\n                <Input\n                  type=\"text\"\n                  placeholder=\"جستجو...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  onKeyDown={handleKeyDown}\n                  className=\"h-8 pr-9 text-sm border-border/30 focus:border-border/60 bg-muted/30 focus:bg-background transition-colors\"\n                  autoFocus\n                />\n              </div>\n              {isLoading && (\n                <div className=\"h-3.5 w-3.5 border-2 border-primary border-t-transparent rounded-full animate-spin flex-shrink-0 mr-0.5\" />\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Scrollable Results Area */}\n        <div className=\"flex-1 overflow-y-auto px-2 sm:px-3 pb-2\">\n          <div className=\"pt-1.5\">\n            {/* Results */}\n            {hasSearched && (\n              <div className=\"space-y-1.5\">\n                {isLoading ? (\n                  <div className=\"flex flex-col items-center justify-center py-8\">\n                    <div className=\"h-5 w-5 border-2 border-primary border-t-transparent rounded-full animate-spin mb-2\" />\n                    <p className=\"text-[10px] text-muted-foreground\">در حال جستجو...</p>\n                  </div>\n                ) : products.length > 0 ? (\n                  <>\n                    <div className=\"text-[10px] text-muted-foreground/70 px-1 pb-0.5\">\n                      {products.length} محصول\n                    </div>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-1.5\">\n                      {products.map((product) => {\n                        // Calculate discount percentage\n                        const discountPercentage = product.originalPrice && product.originalPrice > product.price\n                          ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)\n                          : null;\n\n                        return (\n                          <Card\n                            key={product.id}\n                            className=\"flex flex-col border border-border/25 hover:border-border/50 hover:shadow-sm transition-all cursor-pointer overflow-hidden group\"\n                            onClick={() => handleProductClick(product)}\n                          >\n                            <div className=\"relative h-28 sm:h-36 w-full bg-muted/50 overflow-hidden\">\n                              <SafeImage\n                                src={product.images[0] || getPlaceholderImage(300, 300)}\n                                alt={product.name}\n                                fill\n                                className=\"object-cover group-hover:scale-105 transition-transform duration-200\"\n                                priority\n                                loading=\"eager\"\n                                sizes=\"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw\"\n                                productId={product.id}\n                              />\n                              {discountPercentage && (\n                                <div className=\"absolute top-1 right-1 bg-red-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-sm shadow-sm z-10\">\n                                  {discountPercentage}%\n                                </div>\n                              )}\n                            </div>\n                            <CardContent className=\"p-1.5 flex-1 flex flex-col gap-0.5\">\n                              <h3 className=\"font-medium line-clamp-2 text-[10px] sm:text-[11px] leading-tight min-h-[2.5em]\">\n                                {product.name}\n                              </h3>\n                              {/* Vehicle Info */}\n                              {product.vehicle && (() => {\n                                const vehicle = getVehicle(product.vehicle);\n                                if (!vehicle) return null;\n                                return (\n                                  <div className=\"flex items-center gap-1 text-[8px] sm:text-[9px] text-muted-foreground/70 line-clamp-1\">\n                                    <VehicleLogo\n                                      logo={vehicle.logo}\n                                      alt={vehicle.name}\n                                      size=\"sm\"\n                                      fallbackIcon={false}\n                                      className=\"flex-shrink-0\"\n                                    />\n                                    <span className=\"font-medium truncate\">{vehicle.name}</span>\n                                    {product.model && (\n                                      <>\n                                        <span className=\"text-[7px]\">•</span>\n                                        <span className=\"truncate\">{product.model}</span>\n                                      </>\n                                    )}\n                                  </div>\n                                );\n                              })()}\n                              {product.brand && (\n                                <p className=\"text-[8px] sm:text-[9px] text-muted-foreground/70 line-clamp-1\">\n                                  {product.brand}\n                                </p>\n                              )}\n                              <div className=\"mt-auto pt-1 border-t border-border/15\">\n                                <div className=\"flex items-center justify-between mb-0.5 gap-1\">\n                                  <div className=\"flex items-center gap-1 flex-1 min-w-0\">\n                                    {product.originalPrice && product.originalPrice > product.price && (\n                                      <span className=\"text-[8px] text-muted-foreground line-through flex-shrink-0\">\n                                        {product.originalPrice.toLocaleString(\"fa-IR\")}\n                                      </span>\n                                    )}\n                                    <span className=\"text-xs sm:text-sm font-bold text-primary leading-none truncate\">\n                                      {product.price.toLocaleString(\"fa-IR\")}\n                                      <span className=\"text-[8px] mr-0.5 font-normal\">ت</span>\n                                    </span>\n                                  </div>\n                                </div>\n                                <div className=\"flex items-center justify-between\">\n                                  {product.inStock ? (\n                                    <span className=\"text-[8px] text-green-600 font-medium\">\n                                      موجود\n                                    </span>\n                                  ) : (\n                                    <span className=\"text-[8px] text-muted-foreground\">ناموجود</span>\n                                  )}\n                                  <Link\n                                    href={`/products/${product.id}`}\n                                    onClick={(e) => e.stopPropagation()}\n                                    className=\"opacity-0 group-hover:opacity-100 transition-opacity\"\n                                  >\n                                    <Button\n                                      variant=\"ghost\"\n                                      size=\"icon\"\n                                      className=\"h-5 w-5 -mr-1\"\n                                    >\n                                      <ArrowUpRight className=\"h-2.5 w-2.5\" />\n                                    </Button>\n                                  </Link>\n                                </div>\n                              </div>\n                            </CardContent>\n                          </Card>\n                        );\n                      })}\n                    </div>\n                  </>\n                ) : (\n                  <div className=\"flex flex-col items-center justify-center py-8\">\n                    <Package className=\"h-8 w-8 text-muted-foreground/50 mb-2\" />\n                    <p className=\"text-xs text-muted-foreground/70\">محصولی یافت نشد</p>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Initial State */}\n            {!hasSearched && (\n              <div className=\"flex flex-col items-center justify-center py-12\">\n                <Search className=\"h-12 w-12 text-muted-foreground/30 mb-3\" />\n                <p className=\"text-xs text-muted-foreground/50\">برای جستجو تایپ کنید</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </SheetContent>\n    </Sheet>\n  );\n}\n\n","\"use client\";\n\nimport { useMemo, useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport Link from \"next/link\";\nimport { Car, Wrench, Settings, Sparkles, Zap, Shield, ArrowLeft, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { useCategories } from \"@/services/categories\";\nimport { useVehicleStore } from \"@/store/vehicle-store\";\nimport { useProductStore } from \"@/store/product-store\";\nimport { VehicleLogo } from \"@/components/ui/vehicle-logo\";\n\nconst iconMap: Record<string, typeof Car> = {\n  \"موتور و قطعات\": Car,\n  \"بدنه و شیشه\": Shield,\n  \"الکتریک و برق\": Zap,\n  \"تعلیق و ترمز\": Settings,\n  \"روغن و فیلتر\": Sparkles,\n  \"لاستیک و رینگ\": Wrench,\n};\n\nconst colorMap: Record<number, { color: string; bgGradient: string; iconBg: string }> = {\n  0: {\n    color: \"text-primary\",\n    bgGradient: \"from-primary/20 via-primary/10 to-transparent\",\n    iconBg: \"bg-gradient-to-br from-primary/30 to-primary/10\",\n  },\n  1: {\n    color: \"text-secondary\",\n    bgGradient: \"from-secondary/20 via-secondary/10 to-transparent\",\n    iconBg: \"bg-gradient-to-br from-secondary/30 to-secondary/10\",\n  },\n  2: {\n    color: \"text-accent\",\n    bgGradient: \"from-accent/20 via-accent/10 to-transparent\",\n    iconBg: \"bg-gradient-to-br from-accent/30 to-accent/10\",\n  },\n};\n\nexport function CategoryGrid() {\n  const { data: categories = [], isLoading, isError, error } = useCategories();\n  \n  const displayCategories = useMemo(() => {\n    return (categories || [])\n      .filter((cat) => cat.isActive)\n      .slice(0, 6)\n      .map((category, index) => {\n        const Icon = iconMap[category.name] || Car;\n        const colors = colorMap[index % 3];\n        return {\n          ...category,\n          Icon,\n          ...colors,\n          href: `/categories/${category.id}`,\n          count: \"0+\", // Will be updated when we have product counts\n        };\n      });\n  }, [categories]);\n  return (\n    <section className=\"py-8 sm:py-12 md:py-16 lg:py-20 relative overflow-hidden\">\n\n      <div className=\"container px-3 sm:px-4 relative z-10\">\n        {/* Minimal Header */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.5 }}\n          className=\"text-center mb-4 sm:mb-6 md:mb-8 lg:mb-12\"\n        >\n          <h2 className=\"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold sm:font-extrabold mb-2 sm:mb-3 md:mb-4 text-foreground\">\n            دسته‌بندی <span className=\"text-primary sm:text-accent\">محصولات</span>\n          </h2>\n          <p className=\"hidden sm:block text-muted-foreground text-sm sm:text-base md:text-lg lg:text-xl px-2 max-w-2xl mx-auto\">\n            قطعات خودرو را بر اساس دسته‌بندی پیدا کنید و بهترین انتخاب را داشته باشید\n          </p>\n        </motion.div>\n\n        {/* Ultra Minimal Grid - 4 columns on mobile */}\n        {isLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <p className=\"text-sm text-muted-foreground\">در حال بارگذاری دسته‌بندی‌ها...</p>\n          </div>\n        ) : isError && displayCategories.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-12\">\n            <p className=\"text-sm font-semibold text-muted-foreground mb-2\">\n              خطا در بارگذاری دسته‌بندی‌ها\n            </p>\n            <p className=\"text-xs text-muted-foreground text-center max-w-md px-4\">\n              {error instanceof Error && error.message.includes('database')\n                ? 'خطا در اتصال به دیتابیس. لطفاً مطمئن شوید دیتابیس در حال اجرا است.'\n                : 'متأسفانه خطایی در بارگذاری دسته‌بندی‌ها رخ داده است.'}\n            </p>\n          </div>\n        ) : displayCategories.length === 0 ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <p className=\"text-sm text-muted-foreground\">دسته‌بندی‌ای یافت نشد</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-4 gap-2 sm:gap-3 md:gap-4 lg:gap-6\">\n            {displayCategories.map((category, index) => {\n              const Icon = category.Icon;\n            return (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 15, scale: 0.95 }}\n                whileInView={{ opacity: 1, y: 0, scale: 1 }}\n                viewport={{ once: true }}\n                transition={{ \n                  delay: index * 0.08,\n                  duration: 0.3,\n                  type: \"spring\",\n                  stiffness: 150\n                }}\n                whileHover={{ \n                  y: -2,\n                  scale: 1.02,\n                }}\n                className=\"group relative\"\n              >\n                <Link href={category.href}>\n                  <Card className=\"glass-morphism h-full relative overflow-hidden transition-all duration-300 hover:shadow-2xl cursor-pointer group-hover:scale-105\">\n                    {/* Animated Background Gradient - Only on desktop */}\n                    <div className={`hidden sm:block absolute inset-0 bg-gradient-to-br ${category.bgGradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`} />\n                    \n                    {/* Shine Effect - Only on desktop */}\n                    <div className=\"hidden sm:block absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/5 to-transparent\" />\n                    \n                    <CardContent className=\"p-2 sm:p-3 md:p-4 lg:p-6 relative z-10\">\n                      {/* Ultra Minimal Icon - Very small on mobile */}\n                      <motion.div\n                        whileHover={{ \n                          rotate: [0, -3, 3, -3, 0],\n                          scale: 1.05\n                        }}\n                        transition={{ duration: 0.3 }}\n                        className={`\n                          relative w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 lg:w-16 lg:h-16 xl:w-20 xl:h-20 \n                          ${category.iconBg} rounded-lg sm:rounded-xl md:rounded-2xl flex items-center justify-center \n                          mx-auto mb-1.5 sm:mb-2 md:mb-3 lg:mb-4 group-hover:shadow-md sm:group-hover:shadow-lg transition-all duration-300\n                        `}\n                      >\n                        <Icon className={`h-3.5 w-3.5 sm:h-4 sm:w-4 md:h-5 md:w-5 lg:h-6 lg:w-6 xl:h-8 xl:w-8 ${category.color} group-hover:scale-105 transition-transform duration-300`} />\n                        <div className=\"hidden sm:block absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-lg sm:rounded-xl md:rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n                      </motion.div>\n\n                      {/* Category Name - Ultra minimal on mobile */}\n                      <h3 className=\"text-[9px] sm:text-[10px] md:text-xs lg:text-sm xl:text-base 2xl:text-lg font-medium sm:font-semibold md:font-bold mb-0.5 sm:mb-1 md:mb-1.5 text-center text-foreground group-hover:text-primary transition-colors duration-300 leading-tight line-clamp-2\">\n                        {category.name}\n                      </h3>\n\n                      {/* Product Count - Ultra minimal on mobile */}\n                      {category.description && (\n                        <div className=\"flex items-center justify-center gap-1\">\n                          <p className=\"text-[8px] sm:text-[9px] md:text-xs lg:text-sm text-muted-foreground font-medium\">\n                            {category.description}\n                          </p>\n                          <motion.div\n                            initial={{ x: -2, opacity: 0 }}\n                            whileHover={{ x: 0, opacity: 1 }}\n                            transition={{ duration: 0.2 }}\n                            className=\"hidden sm:block opacity-0 group-hover:opacity-100\"\n                          >\n                            <ArrowLeft className=\"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary\" />\n                          </motion.div>\n                        </div>\n                      )}\n\n                      {/* Hover Indicator - Only on desktop */}\n                      <div className=\"hidden sm:block absolute bottom-0 left-0 right-0 h-0.5 sm:h-1 bg-gradient-to-r from-primary via-accent to-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left\" />\n                    </CardContent>\n                  </Card>\n                </Link>\n              </motion.div>\n            );\n          })}\n        </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\n// Minimal Category Grid Component for Hero Section - Now shows Vehicles instead of Categories\nexport function MinimalCategoryGrid() {\n  const { vehicles, loadVehiclesFromDB } = useVehicleStore();\n  const { setFilters } = useProductStore();\n  const [showAll, setShowAll] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const loadVehicles = async () => {\n      try {\n        await loadVehiclesFromDB();\n      } catch (error) {\n        console.error(\"Error loading vehicles:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    \n    if (vehicles.length === 0) {\n      loadVehicles();\n    } else {\n      setIsLoading(false);\n    }\n  }, [vehicles.length, loadVehiclesFromDB]);\n\n  const allVehicles = useMemo(() => {\n    return vehicles.filter((vehicle) => vehicle.isActive || vehicle.isActive === undefined);\n  }, [vehicles]);\n\n  const displayVehicles = useMemo(() => {\n    if (showAll) {\n      return allVehicles;\n    }\n    return allVehicles.slice(0, 6);\n  }, [allVehicles, showAll]);\n\n  const hasMoreVehicles = allVehicles.length > 6;\n\n  if (isLoading || allVehicles.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"space-y-3 sm:space-y-4\">\n      <div className=\"grid grid-cols-3 gap-2 sm:gap-3\">\n        {displayVehicles.map((vehicle, index) => {\n          return (\n            <motion.div\n              key={vehicle.id || index}\n              initial={{ opacity: 0, y: 10, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              transition={{ \n                delay: index * 0.05,\n                duration: 0.3,\n                type: \"spring\",\n                stiffness: 150\n              }}\n              whileHover={{ \n                y: -2,\n                scale: 1.02,\n              }}\n              className=\"group relative\"\n            >\n              <Link \n                href={`/products?vehicle=${vehicle.id}`}\n                onClick={(e) => {\n                  // Apply vehicle filter immediately\n                  setFilters({ vehicle: vehicle.id });\n                }}\n              >\n                <div className=\"glass-morphism-light rounded-lg sm:rounded-xl p-2 sm:p-3 relative overflow-hidden transition-all duration-300 hover:shadow-lg cursor-pointer border border-border/30 flex items-center justify-between gap-3 sm:gap-4\">\n                  {/* Vehicle Logo - Right side */}\n                  <div className=\"relative w-8 h-8 sm:w-10 sm:h-10 flex-shrink-0\">\n                    <VehicleLogo\n                      logo={vehicle.logo}\n                      alt={vehicle.name}\n                      size=\"sm\"\n                      fallbackIcon={true}\n                      className=\"w-full h-full\"\n                    />\n                  </div>\n\n                  {/* Vehicle Name - Left side */}\n                  <h3 className=\"text-[10px] sm:text-xs md:text-sm font-medium text-right text-foreground group-hover:text-primary transition-colors duration-300 leading-tight line-clamp-2 flex-1 min-w-0\">\n                    {vehicle.name}\n                  </h3>\n                </div>\n              </Link>\n            </motion.div>\n          );\n        })}\n      </div>\n\n      {/* Show More/Less Button */}\n      {hasMoreVehicles && (\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.3 }}\n          className=\"flex justify-center pt-2 sm:pt-3\"\n        >\n          <button\n            onClick={() => setShowAll(!showAll)}\n            className=\"flex items-center gap-2 px-3 py-1.5 sm:py-2 rounded-lg bg-muted/50 hover:bg-muted border border-border/30 hover:border-border/50 transition-all duration-200 group\"\n          >\n            <span className=\"text-xs sm:text-sm font-medium text-foreground group-hover:text-primary transition-colors duration-200\">\n              {showAll \n                ? 'نمایش کمتر' \n                : `مشاهده همه خودروها (${allVehicles.length - 6} مورد دیگر)`\n              }\n            </span>\n            <motion.div\n              animate={{ rotate: showAll ? 180 : 0 }}\n              transition={{ duration: 0.3 }}\n              className=\"text-muted-foreground group-hover:text-primary transition-colors duration-200\"\n            >\n              <ChevronDown className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n            </motion.div>\n          </button>\n        </motion.div>\n      )}\n    </div>\n  );\n}\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Zap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxNGExIDEgMCAwIDEtLjc4LTEuNjNsOS45LTEwLjJhLjUuNSAwIDAgMSAuODYuNDZsLTEuOTIgNi4wMkExIDEgMCAwIDAgMTMgMTBoN2ExIDEgMCAwIDEgLjc4IDEuNjNsLTkuOSAxMC4yYS41LjUgMCAwIDEtLjg2LS40NmwxLjkyLTYuMDJBMSAxIDAgMCAwIDExIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Zap = createLucideIcon('Zap', [\n  [\n    'path',\n    {\n      d: 'M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z',\n      key: '1xq2db',\n    },\n  ],\n]);\n\nexport default Zap;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Sparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS45MzcgMTUuNUEyIDIgMCAwIDAgOC41IDE0LjA2M2wtNi4xMzUtMS41ODJhLjUuNSAwIDAgMSAwLS45NjJMOC41IDkuOTM2QTIgMiAwIDAgMCA5LjkzNyA4LjVsMS41ODItNi4xMzVhLjUuNSAwIDAgMSAuOTYzIDBMMTQuMDYzIDguNUEyIDIgMCAwIDAgMTUuNSA5LjkzN2w2LjEzNSAxLjU4MWEuNS41IDAgMCAxIDAgLjk2NEwxNS41IDE0LjA2M2EyIDIgMCAwIDAtMS40MzcgMS40MzdsLTEuNTgyIDYuMTM1YS41LjUgMCAwIDEtLjk2MyAweiIgLz4KICA8cGF0aCBkPSJNMjAgM3Y0IiAvPgogIDxwYXRoIGQ9Ik0yMiA1aC00IiAvPgogIDxwYXRoIGQ9Ik00IDE3djIiIC8+CiAgPHBhdGggZD0iTTUgMThIMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sparkles = createLucideIcon('Sparkles', [\n  [\n    'path',\n    {\n      d: 'M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z',\n      key: '4pj2yx',\n    },\n  ],\n  ['path', { d: 'M20 3v4', key: '1olli1' }],\n  ['path', { d: 'M22 5h-4', key: '1gvqau' }],\n  ['path', { d: 'M4 17v2', key: 'vumght' }],\n  ['path', { d: 'M5 18H3', key: 'zchphs' }],\n]);\n\nexport default Sparkles;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Wrench\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNyA2LjNhMSAxIDAgMCAwIDAgMS40bDEuNiAxLjZhMSAxIDAgMCAwIDEuNCAwbDMuNzctMy43N2E2IDYgMCAwIDEtNy45NCA3Ljk0bC02LjkxIDYuOTFhMi4xMiAyLjEyIDAgMCAxLTMtM2w2LjkxLTYuOTFhNiA2IDAgMCAxIDcuOTQtNy45NGwtMy43NiAzLjc2eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/wrench\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wrench = createLucideIcon('Wrench', [\n  [\n    'path',\n    {\n      d: 'M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z',\n      key: 'cbrjhi',\n    },\n  ],\n]);\n\nexport default Wrench;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowUpRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNyA3aDEwdjEwIiAvPgogIDxwYXRoIGQ9Ik03IDE3IDE3IDciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-up-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowUpRight = createLucideIcon('ArrowUpRight', [\n  ['path', { d: 'M7 7h10v10', key: '1tivn9' }],\n  ['path', { d: 'M7 17 17 7', key: '1vkiza' }],\n]);\n\nexport default ArrowUpRight;\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport Link from \"next/link\";\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { TrendingUp, Check, ArrowLeft, Package, Car } from \"lucide-react\";\nimport { SafeImage } from \"@/components/ui/safe-image\";\nimport { useProductStore } from \"@/store/product-store\";\nimport { useVehicleStore } from \"@/store/vehicle-store\";\nimport { useAdminStore } from \"@/store/admin-store\";\nimport { VehicleLogo } from \"@/components/ui/vehicle-logo\";\nimport { useProducts } from \"@/services/products\";\nimport { getPlaceholderImage } from \"@/lib/image-utils\";\nimport type { Product } from \"@/types/product\";\n\nexport function FeaturedProducts() {\n  const [featuredProducts, setFeaturedProducts] = useState<Product[]>([]);\n  const [isHydrated, setIsHydrated] = useState(false);\n  const getEnabledProducts = useProductStore((state) => state.getEnabledProducts);\n  const { settings, updateSettings } = useAdminStore();\n  // Use itemsPerPage from settings directly (respect user's setting)\n  const featuredCount = settings.itemsPerPage || 10;\n  \n  // #region agent log\n  if (typeof window !== \"undefined\") {\n    fetch('http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'featured-products.tsx:25',message:'FeaturedProducts: featuredCount calculated',data:{itemsPerPage:settings.itemsPerPage,featuredCount,settingsKeys:Object.keys(settings)},timestamp:Date.now(),sessionId:'debug-session',runId:'run1',hypothesisId:'P'})}).catch(()=>{});\n  }\n  // #endregion\n  \n  const { data: apiProducts, isLoading } = useProducts(undefined, 1, featuredCount);\n  const addProduct = useProductStore((state) => state.addProduct);\n  const { vehicles, getVehicle, loadVehiclesFromDB } = useVehicleStore();\n\n  // Load settings from API on mount\n  useEffect(() => {\n    const loadSettings = async () => {\n      try {\n        const response = await fetch(\"/api/site-settings\");\n        if (response.ok) {\n          const result = await response.json();\n          if (result.success && result.data) {\n            // Pass saveToAPI=false to prevent PUT request when loading settings\n            updateSettings(result.data, false);\n          }\n        }\n      } catch (error) {\n        console.error(\"Error loading settings:\", error);\n      }\n    };\n    loadSettings();\n    \n    // Listen for settings updates\n    const handleSettingsUpdate = () => {\n      loadSettings();\n    };\n    \n    window.addEventListener(\"settingsUpdated\", handleSettingsUpdate);\n    \n    return () => {\n      window.removeEventListener(\"settingsUpdated\", handleSettingsUpdate);\n    };\n  }, [updateSettings]);\n\n  // Load vehicles on mount\n  useEffect(() => {\n    if (vehicles.length === 0) {\n      loadVehiclesFromDB().catch(console.error);\n    }\n  }, [vehicles.length, loadVehiclesFromDB]);\n\n  // Sync API products to store\n  useEffect(() => {\n    if (apiProducts && apiProducts.length > 0) {\n      apiProducts.forEach((product: Product) => {\n        const existing = useProductStore.getState().getProduct(product.id);\n        if (!existing) {\n          addProduct(product);\n        }\n      });\n    }\n  }, [apiProducts, addProduct]);\n\n  // Use API products if available, otherwise fallback to store\n  useEffect(() => {\n    setIsHydrated(true);\n    // #region agent log\n    if (typeof window !== \"undefined\") {\n      fetch('http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'featured-products.tsx:68',message:'FeaturedProducts: Updating featured products',data:{apiProductsLength:apiProducts?.length||0,featuredCount,isLoading,willSliceTo:Math.min(apiProducts?.length||0,featuredCount)},timestamp:Date.now(),sessionId:'debug-session',runId:'run1',hypothesisId:'Q'})}).catch(()=>{});\n    }\n    // #endregion\n    if (apiProducts && apiProducts.length > 0) {\n      setFeaturedProducts(apiProducts.slice(0, featuredCount));\n    } else if (!isLoading) {\n      // Only use store if API is not loading\n      const products = getEnabledProducts().slice(0, featuredCount);\n      setFeaturedProducts(products);\n    }\n  }, [apiProducts, isLoading, getEnabledProducts, featuredCount]);\n\n  return (\n    <section className=\"py-8 sm:py-12 md:py-16 lg:py-20 relative overflow-hidden\">\n\n      <div className=\"container px-4 sm:px-4 relative z-10\">\n        {/* Minimal Header */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.5 }}\n          className=\"text-center mb-6 sm:mb-8 md:mb-12 lg:mb-16\"\n        >\n          {/* Badge - Hidden on mobile */}\n          <div className=\"glass-morphism-light hidden sm:inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full mb-3 sm:mb-4\">\n            <TrendingUp className=\"h-3 w-3 sm:h-4 sm:w-4 text-accent\" />\n            <span className=\"text-xs sm:text-sm font-medium text-accent\">محصولات ویژه</span>\n          </div>\n          <h2 className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold sm:font-extrabold mb-2 sm:mb-3 md:mb-4 text-foreground\">\n            محصولات <span className=\"text-primary sm:text-accent\">پرفروش</span>\n          </h2>\n          <p className=\"hidden sm:block text-muted-foreground text-sm sm:text-base md:text-lg lg:text-xl px-2 max-w-2xl mx-auto\">\n            بهترین و پرفروش‌ترین قطعات خودرو با کیفیت تضمینی\n          </p>\n        </motion.div>\n\n        {/* Minimal Grid - Clean on mobile */}\n        {(!isHydrated || isLoading) ? (\n          // Show loading skeleton during hydration to match server render\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4\" suppressHydrationWarning>\n            {Array.from({ length: featuredCount }).map((_, index) => (\n              <div key={index} className=\"animate-pulse\">\n                <Card className=\"h-full flex flex-col border-[0.1px] border-border/2\">\n                  <CardHeader className=\"p-0\">\n                    <div className=\"relative h-20 sm:h-24 md:h-28 w-full bg-muted rounded-t-lg\" />\n                  </CardHeader>\n                  <CardContent className=\"p-1.5 sm:p-2\">\n                    <div className=\"h-3 bg-muted rounded mb-2\" />\n                    <div className=\"h-2 bg-muted rounded w-2/3\" />\n                  </CardContent>\n                </Card>\n              </div>\n            ))}\n          </div>\n        ) : featuredProducts.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20\">\n            <Package className=\"h-12 w-12 sm:h-16 sm:w-16 text-muted-foreground mb-4\" />\n            <h3 className=\"text-lg sm:text-xl font-semibold mb-2\">محصولی یافت نشد</h3>\n            <p className=\"text-sm sm:text-base text-muted-foreground text-center\">\n              در حال حاضر محصولی برای نمایش وجود ندارد\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4\">\n            {featuredProducts.map((product, index) => {\n              const discount = product.originalPrice && product.originalPrice > product.price\n                ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)\n                : 0;\n            \n            return (\n              <motion.div\n                key={product.id}\n                initial={{ opacity: 0, y: 20, scale: 0.95 }}\n                whileInView={{ opacity: 1, y: 0, scale: 1 }}\n                viewport={{ once: true }}\n                transition={{ \n                  delay: index * 0.08,\n                  duration: 0.4,\n                  type: \"spring\",\n                  stiffness: 120\n                }}\n                whileHover={{ y: -4, scale: 1.01 }}\n                className=\"group\"\n              >\n                <Link href={`/products/${product.id}`}>\n                  <Card className=\"glass-morphism h-full flex flex-col relative overflow-hidden transition-all duration-300 hover:shadow-2xl group-hover:scale-105 cursor-pointer\">\n                    {/* Shine Effect - Only on desktop */}\n                    <div className=\"hidden sm:block absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/5 to-transparent z-10\" />\n                    \n                    <CardHeader className=\"p-0 relative\">\n                      <div className=\"relative h-20 sm:h-24 md:h-28 w-full bg-gradient-to-br from-primary/10 sm:from-primary/20 to-primary/5 sm:to-primary/10 rounded-t-lg sm:rounded-t-xl overflow-hidden\">\n                        <SafeImage\n                          src={Array.isArray(product.images) && product.images.length > 0 ? product.images[0] : null}\n                          alt={`${product.name}${product.brand ? ` - برند ${product.brand}` : ''} - محصول پرفروش`}\n                          fill\n                          className=\"w-full h-full group-hover:scale-105 sm:group-hover:scale-110 transition-transform duration-500\"\n                          loading=\"eager\"\n                          priority={index < 6}\n                          sizes=\"(max-width: 640px) 33vw, (max-width: 768px) 25vw, (max-width: 1024px) 20vw, (max-width: 1280px) 16vw, 14vw\"\n                          productId={product.id}\n                        />\n                        \n                        {/* Discount Badge - Smaller on mobile */}\n                        {product.originalPrice && product.originalPrice > product.price && (\n                          <motion.div\n                            initial={{ scale: 0 }}\n                            animate={{ scale: 1 }}\n                            className=\"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 bg-red-500 text-white text-[8px] sm:text-[9px] font-bold px-1 sm:px-1.5 py-0.5 rounded shadow-sm z-20\"\n                          >\n                            {discount}%\n                          </motion.div>\n                        )}\n                      </div>\n                    </CardHeader>\n                    \n                    <CardContent className=\"flex-1 p-1.5 sm:p-2 relative z-10\">\n                      <h3 className=\"font-medium mb-0.5 sm:mb-1 hover:text-primary transition-colors line-clamp-2 text-[10px] sm:text-xs leading-tight text-foreground group-hover:text-primary\">\n                        {product.name}\n                      </h3>\n                      \n                      {/* Vehicle Info */}\n                      {product.vehicle && (() => {\n                        const vehicle = getVehicle(product.vehicle);\n                        if (!vehicle) return null;\n                        return (\n                          <div className=\"flex items-center gap-1 mb-0.5 sm:mb-1 text-[8px] sm:text-[9px] text-muted-foreground line-clamp-1\">\n                            <VehicleLogo\n                              logo={vehicle.logo}\n                              alt={vehicle.name}\n                              size=\"sm\"\n                              fallbackIcon={false}\n                              className=\"flex-shrink-0\"\n                            />\n                            <span className=\"font-medium truncate\">{vehicle.name}</span>\n                            {product.model && (\n                              <>\n                                <span className=\"text-[7px]\">•</span>\n                                <span className=\"truncate\">{product.model}</span>\n                              </>\n                            )}\n                          </div>\n                        );\n                      })()}\n                      \n                      {/* Price - Minimal on mobile */}\n                      <div className=\"flex flex-col gap-0.5\">\n                        <span className=\"text-[10px] sm:text-xs font-bold text-primary\">\n                          {product.price.toLocaleString(\"fa-IR\")} <span className=\"text-[8px] sm:text-[9px]\">تومان</span>\n                        </span>\n                        {product.originalPrice && product.originalPrice > product.price && (\n                          <span className=\"text-[8px] sm:text-[9px] text-muted-foreground line-through\">\n                            {product.originalPrice.toLocaleString(\"fa-IR\")}\n                          </span>\n                        )}\n                      </div>\n                    </CardContent>\n                    \n                    {/* Hover Border Effect - Only on desktop */}\n                    <div className=\"hidden sm:block absolute inset-0 border-[0.1px] border-primary/0 group-hover:border-primary/15 rounded-lg transition-all duration-300 pointer-events-none\" />\n                  </Card>\n                </Link>\n              </motion.div>\n            );\n          })}\n          </div>\n        )}\n\n        {/* View All Button - Minimal on mobile */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ delay: 0.4 }}\n          className=\"text-center mt-6 sm:mt-8 md:mt-12 lg:mt-16\"\n        >\n          <Link href=\"/products\">\n            <Button \n              size=\"lg\" \n              variant=\"outline\" \n              className=\"glass-morphism-light h-10 sm:h-12 md:h-14 px-6 sm:px-8 md:px-10 text-sm sm:text-base md:text-lg rounded-lg sm:rounded-xl text-foreground hover:bg-foreground/10 sm:hover:bg-foreground/20 transition-all active:scale-95 sm:hover:scale-105 group\"\n            >\n              <span className=\"hidden sm:inline\">مشاهده همه محصولات</span>\n              <span className=\"sm:hidden\">همه محصولات</span>\n              <ArrowLeft className=\"h-3 w-3 sm:h-4 sm:w-4 md:h-5 md:w-5 mr-1.5 sm:mr-2 group-hover:translate-x-1 transition-transform hidden sm:inline\" />\n            </Button>\n          </Link>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n\n","\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface Particle {\r\n  x: number;\r\n  y: number;\r\n  vx: number;\r\n  vy: number;\r\n  radius: number;\r\n  baseRadius: number;\r\n  color: string;\r\n  opacity: number;\r\n  baseOpacity: number;\r\n}\r\n\r\ninterface Wave {\r\n  x: number;\r\n  y: number;\r\n  radius: number;\r\n  maxRadius: number;\r\n  opacity: number;\r\n  speed: number;\r\n}\r\n\r\nexport function HeroCanvas() {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const animationFrameRef = useRef<number>();\r\n  const particlesRef = useRef<Particle[]>([]);\r\n  const wavesRef = useRef<Wave[]>([]);\r\n  const mouseRef = useRef({ x: 0, y: 0, isActive: false });\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n\r\n  // Calculate particle count based on screen size\r\n  const getParticleCount = (width: number, height: number) => {\r\n    const area = width * height;\r\n    if (area < 300000) return 30; // Mobile\r\n    if (area < 800000) return 50; // Tablet\r\n    return 80; // Desktop\r\n  };\r\n\r\n  // Initialize particles\r\n  const initParticles = (width: number, height: number, count: number) => {\r\n    const particles: Particle[] = [];\r\n    const colors = [\r\n      \"rgba(147, 51, 234, 0.6)\", // Purple\r\n      \"rgba(59, 130, 246, 0.6)\", // Blue\r\n      \"rgba(236, 72, 153, 0.6)\", // Pink\r\n      \"rgba(251, 191, 36, 0.6)\", // Yellow/Gold\r\n    ];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      const radius = Math.random() * 2 + 1;\r\n      particles.push({\r\n        x: Math.random() * width,\r\n        y: Math.random() * height,\r\n        vx: (Math.random() - 0.5) * 0.5,\r\n        vy: (Math.random() - 0.5) * 0.5,\r\n        radius,\r\n        baseRadius: radius,\r\n        color: colors[Math.floor(Math.random() * colors.length)],\r\n        opacity: Math.random() * 0.5 + 0.3,\r\n        baseOpacity: Math.random() * 0.5 + 0.3,\r\n      });\r\n    }\r\n\r\n    particlesRef.current = particles;\r\n  };\r\n\r\n  // Handle mouse move\r\n  const handleMouseMove = (e: MouseEvent) => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    mouseRef.current = {\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top,\r\n      isActive: true,\r\n    };\r\n\r\n    // Create wave effect\r\n    wavesRef.current.push({\r\n      x: mouseRef.current.x,\r\n      y: mouseRef.current.y,\r\n      radius: 0,\r\n      maxRadius: Math.min(canvas.width, canvas.height) * 0.3,\r\n      opacity: 0.4,\r\n      speed: 2,\r\n    });\r\n\r\n    // Limit waves\r\n    if (wavesRef.current.length > 5) {\r\n      wavesRef.current.shift();\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    mouseRef.current.isActive = false;\r\n  };\r\n\r\n  // Handle touch move\r\n  const handleTouchMove = (e: TouchEvent) => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas || !e.touches[0]) return;\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    mouseRef.current = {\r\n      x: e.touches[0].clientX - rect.left,\r\n      y: e.touches[0].clientY - rect.top,\r\n      isActive: true,\r\n    };\r\n  };\r\n\r\n  // Draw function\r\n  const draw = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    if (!ctx) return;\r\n\r\n    // Use CSS dimensions (not pixel dimensions) since context is scaled\r\n    const rect = canvas.getBoundingClientRect();\r\n    const width = rect.width;\r\n    const height = rect.height;\r\n    const mouse = mouseRef.current;\r\n\r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, width, height);\r\n\r\n    // Draw gradient background\r\n    const gradient = ctx.createLinearGradient(0, 0, width, height);\r\n    gradient.addColorStop(0, \"rgba(15, 23, 42, 0.8)\");\r\n    gradient.addColorStop(0.5, \"rgba(30, 41, 59, 0.6)\");\r\n    gradient.addColorStop(1, \"rgba(51, 65, 85, 0.8)\");\r\n    ctx.fillStyle = gradient;\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    // Update and draw waves\r\n    wavesRef.current = wavesRef.current.filter((wave) => {\r\n      wave.radius += wave.speed;\r\n      wave.opacity -= 0.02;\r\n\r\n      if (wave.opacity > 0 && wave.radius < wave.maxRadius) {\r\n        ctx.beginPath();\r\n        ctx.arc(wave.x, wave.y, wave.radius, 0, Math.PI * 2);\r\n        ctx.strokeStyle = `rgba(147, 51, 234, ${wave.opacity})`;\r\n        ctx.lineWidth = 2;\r\n        ctx.stroke();\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n\r\n    // Update and draw particles\r\n    const particles = particlesRef.current;\r\n    const connectionDistance = Math.min(width, height) * 0.15;\r\n\r\n    particles.forEach((particle, i) => {\r\n      // Update position\r\n      particle.x += particle.vx;\r\n      particle.y += particle.vy;\r\n\r\n      // Bounce off edges\r\n      if (particle.x < 0 || particle.x > width) particle.vx *= -1;\r\n      if (particle.y < 0 || particle.y > height) particle.vy *= -1;\r\n\r\n      // Keep particles in bounds\r\n      particle.x = Math.max(0, Math.min(width, particle.x));\r\n      particle.y = Math.max(0, Math.min(height, particle.y));\r\n\r\n      // Mouse interaction\r\n      if (mouse.isActive) {\r\n        const dx = mouse.x - particle.x;\r\n        const dy = mouse.y - particle.y;\r\n        const distance = Math.sqrt(dx * dx + dy * dy);\r\n        const maxDistance = connectionDistance * 1.5;\r\n\r\n        if (distance < maxDistance) {\r\n          // Attract particles to mouse\r\n          const force = (maxDistance - distance) / maxDistance;\r\n          particle.vx += (dx / distance) * force * 0.02;\r\n          particle.vy += (dy / distance) * force * 0.02;\r\n\r\n          // Increase size and opacity near mouse\r\n          const sizeMultiplier = 1 + (1 - distance / maxDistance) * 2;\r\n          particle.radius = particle.baseRadius * sizeMultiplier;\r\n          particle.opacity = Math.min(\r\n            1,\r\n            particle.baseOpacity + (1 - distance / maxDistance) * 0.5\r\n          );\r\n        } else {\r\n          // Return to base values\r\n          particle.radius += (particle.baseRadius - particle.radius) * 0.1;\r\n          particle.opacity += (particle.baseOpacity - particle.opacity) * 0.1;\r\n        }\r\n      } else {\r\n        // Return to base values\r\n        particle.radius += (particle.baseRadius - particle.radius) * 0.1;\r\n        particle.opacity += (particle.baseOpacity - particle.opacity) * 0.1;\r\n      }\r\n\r\n      // Draw connections\r\n      particles.slice(i + 1).forEach((otherParticle) => {\r\n        const dx = otherParticle.x - particle.x;\r\n        const dy = otherParticle.y - particle.y;\r\n        const distance = Math.sqrt(dx * dx + dy * dy);\r\n\r\n        if (distance < connectionDistance) {\r\n          const opacity = (1 - distance / connectionDistance) * 0.3;\r\n          ctx.beginPath();\r\n          ctx.moveTo(particle.x, particle.y);\r\n          ctx.lineTo(otherParticle.x, otherParticle.y);\r\n          ctx.strokeStyle = `rgba(147, 51, 234, ${opacity})`;\r\n          ctx.lineWidth = 1;\r\n          ctx.stroke();\r\n        }\r\n      });\r\n\r\n      // Draw particle\r\n      ctx.beginPath();\r\n      ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);\r\n      ctx.fillStyle = particle.color.replace(\r\n        \"0.6\",\r\n        particle.opacity.toString()\r\n      );\r\n      ctx.fill();\r\n\r\n      // Add glow effect\r\n      if (mouse.isActive) {\r\n        const dx = mouse.x - particle.x;\r\n        const dy = mouse.y - particle.y;\r\n        const distance = Math.sqrt(dx * dx + dy * dy);\r\n        if (distance < connectionDistance) {\r\n          const glowRadius = particle.radius * 2;\r\n          const gradient = ctx.createRadialGradient(\r\n            particle.x,\r\n            particle.y,\r\n            0,\r\n            particle.x,\r\n            particle.y,\r\n            glowRadius\r\n          );\r\n          gradient.addColorStop(0, particle.color.replace(\"0.6\", \"0.3\"));\r\n          gradient.addColorStop(1, \"transparent\");\r\n          ctx.fillStyle = gradient;\r\n          ctx.fillRect(\r\n            particle.x - glowRadius,\r\n            particle.y - glowRadius,\r\n            glowRadius * 2,\r\n            glowRadius * 2\r\n          );\r\n        }\r\n      }\r\n    });\r\n\r\n    // Draw mouse glow effect\r\n    if (mouse.isActive) {\r\n      const glowGradient = ctx.createRadialGradient(\r\n        mouse.x,\r\n        mouse.y,\r\n        0,\r\n        mouse.x,\r\n        mouse.y,\r\n        100\r\n      );\r\n      glowGradient.addColorStop(0, \"rgba(147, 51, 234, 0.3)\");\r\n      glowGradient.addColorStop(0.5, \"rgba(59, 130, 246, 0.1)\");\r\n      glowGradient.addColorStop(1, \"transparent\");\r\n      ctx.fillStyle = glowGradient;\r\n      ctx.fillRect(mouse.x - 100, mouse.y - 100, 200, 200);\r\n    }\r\n\r\n    animationFrameRef.current = requestAnimationFrame(draw);\r\n  };\r\n\r\n  // Setup canvas and start animation\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const updateDimensions = () => {\r\n      const rect = canvas.getBoundingClientRect();\r\n      const dpr = window.devicePixelRatio || 1;\r\n      const width = rect.width;\r\n      const height = rect.height;\r\n\r\n      canvas.width = width * dpr;\r\n      canvas.height = height * dpr;\r\n      canvas.style.width = `${width}px`;\r\n      canvas.style.height = `${height}px`;\r\n\r\n      const ctx = canvas.getContext(\"2d\");\r\n      if (ctx) {\r\n        ctx.scale(dpr, dpr);\r\n      }\r\n\r\n      setDimensions({ width, height });\r\n\r\n      // Reinitialize particles with new dimensions\r\n      const count = getParticleCount(width, height);\r\n      initParticles(width, height, count);\r\n\r\n      if (!isLoaded) {\r\n        setIsLoaded(true);\r\n      }\r\n    };\r\n\r\n    // Initial setup\r\n    updateDimensions();\r\n\r\n    // Handle resize\r\n    const handleResize = () => {\r\n      updateDimensions();\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    // Add event listeners\r\n    canvas.addEventListener(\"mousemove\", handleMouseMove);\r\n    canvas.addEventListener(\"mouseleave\", handleMouseLeave);\r\n    canvas.addEventListener(\"touchmove\", handleTouchMove, { passive: true });\r\n\r\n    // Start animation\r\n    draw();\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      canvas.removeEventListener(\"mousemove\", handleMouseMove);\r\n      canvas.removeEventListener(\"mouseleave\", handleMouseLeave);\r\n      canvas.removeEventListener(\"touchmove\", handleTouchMove);\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"relative w-full h-[40vh] sm:h-[50vh] md:h-[60vh] lg:h-[70vh] overflow-hidden bg-black/50\">\r\n      {/* Canvas Background */}\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: isLoaded ? 1 : 0 }}\r\n        transition={{ duration: 1 }}\r\n        className=\"absolute inset-0 w-full h-full\"\r\n      >\r\n        <canvas\r\n          ref={canvasRef}\r\n          className=\"w-full h-full\"\r\n          style={{ display: \"block\" }}\r\n        />\r\n      </motion.div>\r\n\r\n      {/* Overlay gradient for better content visibility - stronger at bottom 20% */}\r\n      <div className=\"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/60 pointer-events-none\" />\r\n      {/* Additional gradient overlay for bottom 20% */}\r\n      <div className=\"absolute bottom-0 left-0 right-0 h-[20%] bg-gradient-to-t from-background/90 via-background/70 to-transparent pointer-events-none\" />\r\n\r\n      {/* Loading placeholder */}\r\n      {!isLoaded && (\r\n        <div className=\"absolute inset-0 flex items-center justify-center bg-muted/50\">\r\n          <div className=\"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\n","\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Star, MessageSquare, Send, User, Calendar } from \"lucide-react\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\ninterface Review {\r\n  id: string;\r\n  name: string;\r\n  rating: number;\r\n  comment: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport function ReviewsSection() {\r\n  const [reviews, setReviews] = useState<Review[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [isDesktop, setIsDesktop] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    rating: 5,\r\n    comment: \"\",\r\n  });\r\n  const { toast } = useToast();\r\n\r\n  // Check if desktop on mount\r\n  useEffect(() => {\r\n    const checkDesktop = () => {\r\n      setIsDesktop(window.innerWidth >= 1024);\r\n    };\r\n    checkDesktop();\r\n    window.addEventListener('resize', checkDesktop);\r\n    return () => window.removeEventListener('resize', checkDesktop);\r\n  }, []);\r\n\r\n  // Fetch reviews\r\n  useEffect(() => {\r\n    const fetchReviews = async () => {\r\n      try {\r\n        const response = await fetch(\"/api/reviews\");\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setReviews(data.reviews || []);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching reviews:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchReviews();\r\n  }, []);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.name.trim() || !formData.comment.trim()) {\r\n      toast({\r\n        title: \"خطا\",\r\n        description: \"لطفاً نام و نظر خود را وارد کنید\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/reviews\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const newReview = await response.json();\r\n        setReviews([newReview.review, ...reviews]);\r\n        setFormData({ name: \"\", rating: 5, comment: \"\" });\r\n        setShowForm(false);\r\n        toast({\r\n          title: \"موفق\",\r\n          description: \"نظر شما با موفقیت ثبت شد\",\r\n        });\r\n      } else {\r\n        const error = await response.json();\r\n        toast({\r\n          title: \"خطا\",\r\n          description: error.error || \"خطا در ثبت نظر\",\r\n          variant: \"destructive\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error submitting review:\", error);\r\n      toast({\r\n        title: \"خطا\",\r\n        description: \"خطا در ثبت نظر. لطفاً دوباره تلاش کنید.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n\r\n  // Calculate average rating\r\n  const averageRating = reviews.length > 0\r\n    ? reviews.reduce((sum, review) => sum + review.rating, 0) / reviews.length\r\n    : 0;\r\n\r\n  return (\r\n    <section className=\"py-6 sm:py-8 md:py-10 relative overflow-hidden\">\r\n      <div className=\"container px-4 sm:px-4 relative z-10\">\r\n        {/* Mobile Header: Button + Rating Summary */}\r\n        <div className=\"lg:hidden mb-4 space-y-3\">\r\n          {/* Add Review Button - Mobile */}\r\n          {!showForm && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              viewport={{ once: true }}\r\n              transition={{ delay: 0.2 }}\r\n            >\r\n              <Button\r\n                onClick={() => setShowForm(true)}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"glass-morphism-light h-9 px-4 text-xs rounded-lg w-full\"\r\n              >\r\n                <MessageSquare className=\"h-3.5 w-3.5 ml-1.5\" />\r\n                افزودن نظر\r\n              </Button>\r\n            </motion.div>\r\n          )}\r\n          \r\n          {/* Rating Summary - Mobile */}\r\n          {reviews.length > 0 && (\r\n            <div className=\"flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-primary/5\">\r\n              <div className=\"flex items-center gap-0.5\">\r\n                {[1, 2, 3, 4, 5].map((star) => (\r\n                  <Star\r\n                    key={star}\r\n                    className={`h-4 w-4 ${\r\n                      star <= Math.round(averageRating)\r\n                        ? \"fill-yellow-400 text-yellow-400\"\r\n                        : \"text-muted-foreground\"\r\n                    }`}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <span className=\"text-sm font-medium text-foreground\">\r\n                ({averageRating.toFixed(1)}) از {reviews.length} نظر\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Desktop Layout: Form on left, Reviews on right */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6\">\r\n          {/* Review Form - Desktop: Left Side, Mobile: Full Width */}\r\n          <div className=\"lg:col-span-1 order-2 lg:order-1\">\r\n\r\n            {/* Review Form */}\r\n            {(showForm || isDesktop) && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className=\"sticky top-4\"\r\n              >\r\n                <Card className=\"glass-morphism border-border/30\">\r\n                  <CardContent className=\"p-4 sm:p-5\">\r\n                    <div className=\"hidden lg:block mb-4\">\r\n                      <h3 className=\"text-lg font-semibold mb-1\">افزودن نظر</h3>\r\n                      <p className=\"text-sm text-muted-foreground\">نظر خود را با ما به اشتراک بگذارید</p>\r\n                    </div>\r\n                    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                      <div>\r\n                        <Input\r\n                          placeholder=\"نام شما\"\r\n                          value={formData.name}\r\n                          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                          className=\"bg-background/50\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                      \r\n                      <div>\r\n                        <label className=\"text-sm font-medium mb-2 block\">امتیاز</label>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          {[1, 2, 3, 4, 5].map((star) => (\r\n                            <button\r\n                              key={star}\r\n                              type=\"button\"\r\n                              onClick={() => setFormData({ ...formData, rating: star })}\r\n                              className=\"focus:outline-none\"\r\n                            >\r\n                              <Star\r\n                                className={`h-6 w-6 sm:h-7 sm:w-7 transition-colors ${\r\n                                  star <= formData.rating\r\n                                    ? \"fill-yellow-400 text-yellow-400\"\r\n                                    : \"text-muted-foreground hover:text-yellow-400\"\r\n                                }`}\r\n                              />\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <Textarea\r\n                          placeholder=\"نظر خود را بنویسید...\"\r\n                          value={formData.comment}\r\n                          onChange={(e) => setFormData({ ...formData, comment: e.target.value })}\r\n                          className=\"bg-background/50 min-h-[100px] sm:min-h-[120px]\"\r\n                          required\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3\">\r\n                        <Button\r\n                          type=\"submit\"\r\n                          disabled={isSubmitting}\r\n                          className=\"flex-1 h-10 sm:h-11\"\r\n                        >\r\n                          {isSubmitting ? (\r\n                            \"در حال ارسال...\"\r\n                          ) : (\r\n                            <>\r\n                              <Send className=\"h-4 w-4 ml-2\" />\r\n                              ارسال نظر\r\n                            </>\r\n                          )}\r\n                        </Button>\r\n                        {showForm && (\r\n                          <Button\r\n                            type=\"button\"\r\n                            variant=\"outline\"\r\n                            onClick={() => {\r\n                              setShowForm(false);\r\n                              setFormData({ name: \"\", rating: 5, comment: \"\" });\r\n                            }}\r\n                            className=\"h-10 sm:h-11 lg:hidden\"\r\n                          >\r\n                            انصراف\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </form>\r\n                  </CardContent>\r\n                </Card>\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Reviews List - Desktop: Right Side (2 columns), Mobile: Full Width */}\r\n          <div className=\"lg:col-span-2 order-1 lg:order-2\">\r\n            {/* Rating Summary - Desktop Only (With Stars) */}\r\n            {reviews.length > 0 && (\r\n              <div className=\"hidden lg:flex items-center justify-between mb-4 px-2\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"flex items-center gap-0.5\">\r\n                    {[1, 2, 3, 4, 5].map((star) => (\r\n                      <Star\r\n                        key={star}\r\n                        className={`h-4 w-4 ${\r\n                          star <= Math.round(averageRating)\r\n                            ? \"fill-yellow-400 text-yellow-400\"\r\n                            : \"text-muted-foreground\"\r\n                        }`}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                  <span className=\"text-sm font-medium text-foreground\">\r\n                    ({averageRating.toFixed(1)}) از {reviews.length} نظر\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Reviews List - Vertical Comment Style with Scroll */}\r\n            {isLoading ? (\r\n              <div className=\"flex items-center justify-center py-6\">\r\n                <div className=\"w-6 h-6 border-3 border-primary border-t-transparent rounded-full animate-spin\" />\r\n              </div>\r\n            ) : reviews.length === 0 ? (\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                className=\"text-center py-6 sm:py-8\"\r\n              >\r\n                <MessageSquare className=\"h-8 w-8 sm:h-10 sm:w-10 text-muted-foreground mx-auto mb-2\" />\r\n                <p className=\"text-muted-foreground text-xs sm:text-sm\">\r\n                  هنوز نظری ثبت نشده است. اولین نظر را شما بگذارید!\r\n                </p>\r\n              </motion.div>\r\n            ) : (\r\n              <div className=\"relative w-full\">\r\n                {/* Scrollable Container - Reduced Height */}\r\n                <div className=\"max-h-[400px] sm:max-h-[500px] md:max-h-[550px] lg:max-h-[600px] overflow-y-auto overflow-x-hidden pr-2 -mr-2 custom-scrollbar\">\r\n                  <div className=\"space-y-3 sm:space-y-4 pr-2\">\r\n                    {reviews.map((review) => (\r\n                      <motion.div\r\n                        key={review.id}\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ duration: 0.3 }}\r\n                        className=\"w-full\"\r\n                      >\r\n                        <Card className=\"glass-morphism border-border/20 hover:border-border/40 transition-all duration-300 rounded-lg sm:rounded-xl max-w-full sm:max-w-[95%] lg:max-w-full\">\r\n                          <CardContent className=\"p-3 sm:p-4\">\r\n                            {/* Comment Style Layout */}\r\n                            <div className=\"flex items-start gap-2 sm:gap-3\">\r\n                              {/* Avatar */}\r\n                              <div className=\"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0\">\r\n                                <User className=\"h-4 w-4 sm:h-5 sm:w-5 text-primary\" />\r\n                              </div>\r\n                              \r\n                              {/* Content */}\r\n                              <div className=\"flex-1 min-w-0\">\r\n                                {/* Header: Name + Rating + Date */}\r\n                                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-2 mb-2\">\r\n                                  <div className=\"flex items-center gap-2 flex-wrap\">\r\n                                    <h3 className=\"font-semibold text-sm sm:text-base text-foreground\">\r\n                                      {review.name}\r\n                                    </h3>\r\n                                    <div className=\"flex items-center gap-0.5\">\r\n                                      {[1, 2, 3, 4, 5].map((star) => (\r\n                                        <Star\r\n                                          key={star}\r\n                                          className={`h-3 w-3 sm:h-3.5 sm:w-3.5 ${\r\n                                            star <= review.rating\r\n                                              ? \"fill-yellow-400 text-yellow-400\"\r\n                                              : \"text-muted-foreground\"\r\n                                          }`}\r\n                                        />\r\n                                      ))}\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"flex items-center gap-1 text-xs sm:text-sm text-muted-foreground\">\r\n                                    <Calendar className=\"h-3 w-3 sm:h-3.5 sm:w-3.5\" />\r\n                                    <span>\r\n                                      {new Date(review.createdAt).toLocaleDateString(\"fa-IR\", {\r\n                                        year: \"numeric\",\r\n                                        month: \"long\",\r\n                                        day: \"numeric\",\r\n                                      })}\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                                \r\n                                {/* Comment Text */}\r\n                                <p className=\"text-sm sm:text-base text-foreground leading-relaxed whitespace-pre-wrap break-words\">\r\n                                  {review.comment}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </CardContent>\r\n                        </Card>\r\n                      </motion.div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MessageSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTVhMiAyIDAgMCAxLTIgMkg3bC00IDRWNWEyIDIgMCAwIDEgMi0yaDE0YTIgMiAwIDAgMSAyIDJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/message-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageSquare = createLucideIcon('MessageSquare', [\n  ['path', { d: 'M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z', key: '1lielz' }],\n]);\n\nexport default MessageSquare;\n"],"names":[],"mappings":"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","ignoreList":[3,4,5,6,10]}