module.exports=[3314,a=>{"use strict";let b=(0,a.i(70106).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],3314)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},88237,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b border-border/30",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t border-border/30 bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b border-border/30 transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-right align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},17755,a=>{"use strict";let b=(0,a.i(70106).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],17755)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],84505)},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border-[0.25px] border-border/3 bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},65733,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(33508),f=a.i(97895);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-[0.25px] border-border/30 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"بستن"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-right",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-x-reverse",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},81464,a=>{"use strict";let b=(0,a.i(70106).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);a.s(["Filter",()=>b],81464)},47468,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(88237),e=a.i(40695),f=a.i(54161),g=a.i(76504),h=a.i(17755),i=a.i(46842),j=a.i(3314),k=a.i(70106);let l=(0,k.default)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var m=a.i(16201),n=a.i(33915);let o={},p=(0,n.create)((a,b)=>({users:[],filters:o,setUsers:b=>a({users:b}),addUser:b=>a(a=>{let c=a.users.findIndex(a=>a.id===b.id);if(c>=0){let d=[...a.users];return d[c]=b,{users:d}}return{users:[...a.users,b]}}),updateUser:(b,c)=>a(a=>{let d=a.users.findIndex(a=>a.id===b);if(d>=0){let b=[...a.users];return b[d]={...b[d],...c,updatedAt:new Date},{users:b}}return a}),updateUserStatus:(b,c)=>a(a=>({users:a.users.map(a=>a.id===b?{...a,status:c,updatedAt:new Date}:a)})),updateUserRole:(b,c)=>a(a=>({users:a.users.map(a=>a.id===b?{...a,role:c,updatedAt:new Date}:a)})),deleteUser:b=>a(a=>({users:a.users.filter(a=>a.id!==b)})),getUser:a=>b().users.find(b=>b.id===a),setFilters:b=>a(a=>({filters:{...a.filters,...b}})),clearFilters:()=>a({filters:o})}));var q=a.i(77687),r=a.i(65733);let s={admin:"مدیر",user:"کاربر",moderator:"ناظر"},t={active:"فعال",inactive:"غیرفعال",suspended:"معلق"},u={admin:"destructive",user:"default",moderator:"secondary"},v={active:"success",inactive:"secondary",suspended:"warning"};function w({users:a,onRefresh:k}){let{updateUserStatus:n,updateUserRole:o,deleteUser:w}=p(),{toast:x}=(0,q.useToast)(),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"rounded-lg border border-border/30 shadow-sm overflow-hidden",children:(0,b.jsxs)(d.Table,{children:[(0,b.jsx)(d.TableHeader,{className:"bg-muted/50",children:(0,b.jsxs)(d.TableRow,{children:[(0,b.jsx)(d.TableHead,{children:"نام"}),(0,b.jsx)(d.TableHead,{children:"ایمیل"}),(0,b.jsx)(d.TableHead,{children:"تلفن"}),(0,b.jsx)(d.TableHead,{children:"نقش"}),(0,b.jsx)(d.TableHead,{children:"وضعیت"}),(0,b.jsx)(d.TableHead,{children:"سفارشات"}),(0,b.jsx)(d.TableHead,{children:"خرید کل"}),(0,b.jsx)(d.TableHead,{className:"text-left",children:"عملیات"})]})}),(0,b.jsx)(d.TableBody,{children:0===a.length?(0,b.jsx)(d.TableRow,{children:(0,b.jsx)(d.TableCell,{colSpan:8,className:"text-center py-8",children:"کاربری یافت نشد"})}):a.map(a=>{let c;return(0,b.jsxs)(d.TableRow,{children:[(0,b.jsx)(d.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.avatar?(0,b.jsx)("img",{src:a.avatar,alt:a.name,className:"w-10 h-10 rounded-full"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(i.User,{className:"h-5 w-5 text-primary"})}),(0,b.jsx)("span",{className:"font-medium",children:a.name})]})}),(0,b.jsx)(d.TableCell,{children:a.email}),(0,b.jsx)(d.TableCell,{children:a.phone||"-"}),(0,b.jsx)(d.TableCell,{children:(0,b.jsx)(f.Badge,{variant:u[a.role],children:s[a.role]})}),(0,b.jsx)(d.TableCell,{children:(0,b.jsx)(f.Badge,{variant:v[a.status],children:t[a.status]})}),(0,b.jsx)(d.TableCell,{children:a.ordersCount||0}),(0,b.jsxs)(d.TableCell,{children:[a.totalSpent?(c=a.totalSpent,new Intl.NumberFormat("fa-IR").format(c)):"0"," تومان"]}),(0,b.jsx)(d.TableCell,{children:(0,b.jsxs)(g.DropdownMenu,{children:[(0,b.jsx)(g.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(h.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(g.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(g.DropdownMenuLabel,{children:"عملیات"}),(0,b.jsx)(g.DropdownMenuSeparator,{}),(0,b.jsx)(g.DropdownMenuLabel,{children:"تغییر نقش"}),Object.entries(s).map(([c,d])=>(0,b.jsxs)(g.DropdownMenuItem,{onClick:()=>{o(a.id,c),x({title:"موفق",description:"نقش کاربر به‌روزرسانی شد"}),k?.()},disabled:a.role===c,children:[(0,b.jsx)(j.Shield,{className:"ml-2 h-4 w-4"}),d]},c)),(0,b.jsx)(g.DropdownMenuSeparator,{}),(0,b.jsx)(g.DropdownMenuLabel,{children:"تغییر وضعیت"}),Object.entries(t).map(([c,d])=>(0,b.jsxs)(g.DropdownMenuItem,{onClick:()=>{n(a.id,c),x({title:"موفق",description:"وضعیت کاربر به‌روزرسانی شد"}),k?.()},disabled:a.status===c,children:["active"===c?(0,b.jsx)(m.CheckCircle,{className:"ml-2 h-4 w-4"}):(0,b.jsx)(l,{className:"ml-2 h-4 w-4"}),d]},c)),(0,b.jsx)(g.DropdownMenuSeparator,{}),(0,b.jsx)(g.DropdownMenuItem,{className:"text-destructive",onClick:()=>{B(a.id),z(!0)},children:"حذف کاربر"})]})]})})]},a.id)})})]})}),(0,b.jsx)(r.Dialog,{open:y,onOpenChange:z,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"حذف کاربر"}),(0,b.jsx)(r.DialogDescription,{children:"آیا از حذف این کاربر اطمینان دارید؟ این عمل قابل بازگشت نیست."})]}),(0,b.jsxs)(r.DialogFooter,{children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>z(!1),children:"انصراف"}),(0,b.jsx)(e.Button,{variant:"destructive",onClick:()=>{A&&(w(A),x({title:"موفق",description:"کاربر با موفقیت حذف شد"}),z(!1),B(null),k?.())},children:"حذف"})]})]})})]})}var x=a.i(5522),y=a.i(3130),z=a.i(87682),A=a.i(87532);let B=(0,k.default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var C=a.i(84505),D=a.i(81464);function E(){let{users:a,setFilters:d,clearFilters:f,filters:g}=p(),[h,j]=(0,c.useState)(g.search||""),[k,l]=(0,c.useState)("all"),[m,n]=(0,c.useState)("all"),[o,q]=(0,c.useState)(!1),r=(0,c.useMemo)(()=>{let b=a;if(h){let a=h.toLowerCase();b=b.filter(b=>b.name.toLowerCase().includes(a)||b.email.toLowerCase().includes(a)||b.phone?.includes(a))}return"all"!==k&&(b=b.filter(a=>a.role===k)),"all"!==m&&(b=b.filter(a=>a.status===m)),b},[a,h,k,m]);return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(y.Card,{className:"shadow-sm",children:[(0,b.jsxs)(y.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(y.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.User,{className:"h-5 w-5 text-primary"}),"کاربران (",r.length,")"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:o?"default":"outline",onClick:()=>q(!o),size:"sm",children:[(0,b.jsx)(D.Filter,{className:"ml-2 h-4 w-4"}),"فیلتر"]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(C.Download,{className:"ml-2 h-4 w-4"}),"خروجی CSV"]}),(0,b.jsxs)(e.Button,{size:"sm",children:[(0,b.jsx)(B,{className:"ml-2 h-4 w-4"}),"افزودن کاربر"]})]})]}),o&&(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-border/20",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"جستجو"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(A.Search,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(x.Input,{placeholder:"جستجو در کاربران...",value:h,onChange:a=>{var b;j(b=a.target.value),b?d({search:b}):f()},className:"pr-10"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"نقش"}),(0,b.jsxs)(z.Select,{value:k,onValueChange:a=>l(a),children:[(0,b.jsx)(z.SelectTrigger,{children:(0,b.jsx)(z.SelectValue,{placeholder:"همه نقش‌ها"})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"all",children:"همه نقش‌ها"}),(0,b.jsx)(z.SelectItem,{value:"admin",children:"مدیر"}),(0,b.jsx)(z.SelectItem,{value:"moderator",children:"ناظر"}),(0,b.jsx)(z.SelectItem,{value:"user",children:"کاربر"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"وضعیت"}),(0,b.jsxs)(z.Select,{value:m,onValueChange:a=>n(a),children:[(0,b.jsx)(z.SelectTrigger,{children:(0,b.jsx)(z.SelectValue,{placeholder:"همه وضعیت‌ها"})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"all",children:"همه وضعیت‌ها"}),(0,b.jsx)(z.SelectItem,{value:"active",children:"فعال"}),(0,b.jsx)(z.SelectItem,{value:"inactive",children:"غیرفعال"}),(0,b.jsx)(z.SelectItem,{value:"suspended",children:"معلق"})]})]})]})]}),(h||"all"!==k||"all"!==m)&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",onClick:()=>{j(""),l("all"),n("all"),f()},children:[(0,b.jsx)(D.Filter,{className:"ml-2 h-4 w-4"}),"پاک کردن فیلترها"]})})]})]}),(0,b.jsx)(y.CardContent,{children:(0,b.jsx)(w,{users:r})})]})})}a.s(["default",()=>E],47468)}];

//# sourceMappingURL=_2288371f._.js.map