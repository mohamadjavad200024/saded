module.exports=[72692,20005,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);a.s(["Menu",()=>c],72692);let d=(0,b.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);a.s(["LogOut",()=>d],20005)},21161,a=>{"use strict";let b=(0,a.i(70106).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",()=>b],21161)},63519,a=>{"use strict";let b=(0,a.i(70106).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],63519)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},53071,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(187),f=a.i(33508),g=a.i(97895);let h=d.Root,i=d.Trigger;d.Close;let j=d.Portal,k=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{className:(0,g.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c,ref:e}));k.displayName=d.Overlay.displayName;let l=(0,e.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b-[0.25px] border-border/30 data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t-[0.25px] border-border/30 data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",right:"inset-y-0 right-0 h-full w-3/4 border-l-[0.25px] border-border/30 data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",left:"inset-y-0 left-0 h-full w-3/4 border-r-[0.25px] border-border/30 data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm"}},defaultVariants:{side:"right"}}),m=c.forwardRef(({side:a="right",className:c,children:e,...h},i)=>(0,b.jsxs)(j,{children:[(0,b.jsx)(k,{}),(0,b.jsxs)(d.Content,{ref:i,className:(0,g.cn)(l({side:a}),c),...h,children:[e,(0,b.jsxs)(d.Close,{className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,b.jsx)(f.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=d.Content.displayName;let n=({className:a,...c})=>(0,b.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-2 text-center sm:text-right",a),...c});n.displayName="SheetHeader";let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,g.cn)("text-lg font-semibold text-foreground",a),...c}));o.displayName=d.Title.displayName,c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,g.cn)("text-sm text-muted-foreground",a),...c})).displayName=d.Description.displayName,a.s(["Sheet",()=>h,"SheetContent",()=>m,"SheetHeader",()=>n,"SheetTitle",()=>o,"SheetTrigger",()=>i])},410,a=>{"use strict";var b=a.i(33915),c=a.i(54917);let d={},e=(0,b.create)((b,e)=>({orders:[],filters:d,isLoading:!1,setOrders:a=>b({orders:a}),addOrder:a=>b(b=>{let c=b.orders.findIndex(b=>b.id===a.id);if(c>=0){let d=[...b.orders];return d[c]=a,{orders:d}}return{orders:[...b.orders,a]}}),updateOrder:(a,c)=>b(b=>{let d=b.orders.findIndex(b=>b.id===a);if(d>=0){let a=[...b.orders];return a[d]={...a[d],...c},{orders:a}}return b}),updateOrderStatus:(a,c)=>b(b=>({orders:b.orders.map(b=>b.id===a?{...b,status:c,updatedAt:new Date}:b)})),updatePaymentStatus:(a,c)=>b(b=>({orders:b.orders.map(b=>b.id===a?{...b,paymentStatus:c,updatedAt:new Date}:b)})),deleteOrder:a=>b(b=>({orders:b.orders.filter(b=>b.id!==a)})),getOrder:a=>e().orders.find(b=>b.id===a),setFilters:a=>b(b=>({filters:{...b.filters,...a}})),clearFilters:()=>b({filters:d}),loadOrdersFromDB:async()=>{b({isLoading:!0});try{let d=new AbortController,e=setTimeout(()=>d.abort(),15e3),{fetchWithAuth:f}=await a.A(17056),g=await f("/api/orders",{signal:d.signal});if(clearTimeout(e),g.ok){let a;try{a=await g.json()}catch(a){c.logger.error("Error parsing orders response:",a),b({orders:[],isLoading:!1});return}if(a.success&&a.data)try{let d=a.data.map(a=>{let b=[],d={};try{b=Array.isArray(a.items)?a.items:"string"==typeof a.items?JSON.parse(a.items):[]}catch(d){c.logger.warn("Error parsing items for order:",a.id,d),b=[]}try{d="object"==typeof a.shippingAddress&&null!==a.shippingAddress?a.shippingAddress:"string"==typeof a.shippingAddress?JSON.parse(a.shippingAddress):{}}catch(b){c.logger.warn("Error parsing shippingAddress for order:",a.id,b),d={}}return{...a,items:b,shippingAddress:d,total:Number(a.total)||0,shippingCost:Number(a.shippingCost)||0,createdAt:a.createdAt instanceof Date?a.createdAt:new Date(a.createdAt),updatedAt:a.updatedAt instanceof Date?a.updatedAt:new Date(a.updatedAt)}});b({orders:d,isLoading:!1})}catch(a){c.logger.error("Error parsing orders data:",a),b({orders:[],isLoading:!1})}else b({orders:[],isLoading:!1})}else c.logger.error("Failed to load orders:",g.status),b({orders:[],isLoading:!1})}catch(a){a instanceof Error&&"AbortError"!==a.name&&c.logger.error("Error loading orders from DB:",a),b({orders:[],isLoading:!1})}}}));a.s(["useOrderStore",0,e])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},46893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border-[0.25px] border-input/30 bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},4720,a=>{"use strict";let b=(0,a.i(70106).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],4720)},38632,a=>{"use strict";let b=(0,a.i(70106).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["Image",()=>b],38632)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},77687,a=>{"use strict";var b=a.i(72131);let c=0,d=new Map,e=a=>{if(d.has(a))return;let b=setTimeout(()=>{d.delete(a),h({type:"REMOVE_TOAST",toastId:a})},1e6);d.set(a,b)},f=[],g={toasts:[]};function h(a){g=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?e(c):a.toasts.forEach(a=>{e(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(g,a),f.forEach(a=>{a(g)})}function i({...a}){let b=(c=(c+1)%Number.MAX_SAFE_INTEGER).toString(),d=()=>h({type:"DISMISS_TOAST",toastId:b});return h({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||d()}}}),{id:b,dismiss:d,update:a=>h({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function j(){let[a,c]=b.useState(g);return b.useEffect(()=>(f.push(c),()=>{let a=f.indexOf(c);a>-1&&f.splice(a,1)}),[a]),{...a,toast:i,dismiss:a=>h({type:"DISMISS_TOAST",toastId:a})}}a.s(["useToast",()=>j])},60421,a=>{"use strict";var b=a.i(33915),c=a.i(54917);let d={},e=(0,b.create)((a,b)=>({products:[],filters:d,setProducts:b=>a({products:b}),addProduct:b=>a(a=>{let c=a.products.findIndex(a=>a.id===b.id);if(c>=0){let d=[...a.products];return d[c]=b,{products:d}}return{products:[...a.products,b]}}),updateProduct:b=>a(a=>{let c=a.products.findIndex(a=>a.id===b.id);if(c>=0){let d=[...a.products];return d[c]=b,{products:d}}return a}),removeProduct:b=>a(a=>({products:a.products.filter(a=>a.id!==b)})),getProduct:a=>b().products.find(b=>b.id===a),getEnabledProducts:()=>b().products.filter(a=>a.enabled),getFilteredProducts:()=>{let{products:a,filters:c}=b(),d=a.filter(a=>a.enabled);if(c.search){let a=c.search.toLowerCase();d=d.filter(b=>b.name.toLowerCase().includes(a)||b.description?.toLowerCase().includes(a)||b.brand?.toLowerCase().includes(a))}return void 0!==c.minPrice&&(d=d.filter(a=>a.price>=c.minPrice)),void 0!==c.maxPrice&&(d=d.filter(a=>a.price<=c.maxPrice)),c.brands&&c.brands.length>0&&(d=d.filter(a=>a.brand&&c.brands.includes(a.brand))),c.categories&&c.categories.length>0&&(d=d.filter(a=>a.category&&c.categories.includes(a.category))),void 0!==c.inStock&&(d=d.filter(a=>a.inStock===c.inStock)),d},setFilters:b=>a(a=>({filters:{...a.filters,...b}})),clearFilters:()=>a({filters:d}),createProduct:async a=>{let c=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!c.ok)throw Error((await c.json().catch(()=>({}))).message||"خطا در ایجاد محصول");let d=(await c.json()).data;return b().addProduct(d),d},updateProductInDB:async(a,c)=>{let d=await fetch(`/api/products/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok)throw Error((await d.json().catch(()=>({}))).message||"خطا در به‌روزرسانی محصول");let e=(await d.json()).data;return b().updateProduct(e),e},deleteProductFromDB:async a=>{let c=await fetch(`/api/products/${a}`,{method:"DELETE"});if(!c.ok)throw Error((await c.json().catch(()=>({}))).message||"خطا در حذف محصول");b().removeProduct(a)},loadProductsFromDB:async(a=!1)=>{try{let c=await fetch(a?"/api/products?limit=1000&all=true":"/api/products?limit=1000");if(!c.ok){let a=await c.json().catch(()=>({})),b=a.error||a.message||"خطا در بارگذاری محصولات";throw Error(b)}let d=((await c.json()).data||[]).map(a=>({...a,createdAt:a.createdAt instanceof Date?a.createdAt:new Date(a.createdAt),updatedAt:a.updatedAt instanceof Date?a.updatedAt:new Date(a.updatedAt)}));b().setProducts(d)}catch(a){c.logger.error("Error loading products from DB:",a)}},deleteProduct:async a=>{await b().deleteProductFromDB(a)},deleteProducts:async a=>{await Promise.all(a.map(a=>b().deleteProductFromDB(a)))},toggleProduct:async a=>{let c=b().getProduct(a);c&&await b().updateProductInDB(a,{enabled:!c.enabled})},toggleProducts:async(a,c)=>{await Promise.all(a.map(a=>b().updateProductInDB(a,{enabled:c})))}}));a.s(["useProductStore",0,e])},30656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},28094,a=>{"use strict";var b=a.i(72131),c=a.i(30553),d=a.i(87924),e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f=b.forwardRef((a,b)=>(0,d.jsx)(c.Primitive.span,{...a,ref:b,style:{...e,...a.style}}));f.displayName="VisuallyHidden",a.s(["VISUALLY_HIDDEN_STYLES",()=>e,"VisuallyHidden",()=>f])},92776,a=>{"use strict";let b=(0,a.i(33915).create)((a,b)=>({suppliers:[],setSuppliers:b=>a({suppliers:b}),addSupplier:b=>{let c={id:`supplier-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...b,products:b.products||[],transactions:b.transactions||[]};a(a=>({suppliers:[...a.suppliers,c]}))},updateSupplier:(b,c)=>a(a=>{let d=a.suppliers.findIndex(a=>a.id===b);if(d>=0){let b=[...a.suppliers];return b[d]={...b[d],...c},{suppliers:b}}return a}),deleteSupplier:b=>a(a=>({suppliers:a.suppliers.filter(a=>a.id!==b)})),toggleSupplier:b=>a(a=>({suppliers:a.suppliers.map(a=>a.id===b?{...a,isActive:!a.isActive}:a)})),getSupplier:a=>b().suppliers.find(b=>b.id===a),addSupplierTransaction:(b,c)=>{let d={id:`transaction-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...c};a(a=>({suppliers:a.suppliers.map(a=>a.id===b?{...a,transactions:[...a.transactions||[],d]}:a)}))},updateSupplierTransaction:(b,c,d)=>a(a=>({suppliers:a.suppliers.map(a=>a.id===b?{...a,transactions:(a.transactions||[]).map(a=>a.id===c?{...a,...d}:a)}:a)})),deleteSupplierTransaction:(b,c)=>a(a=>({suppliers:a.suppliers.map(a=>a.id===b?{...a,transactions:(a.transactions||[]).filter(a=>a.id!==c)}:a)}))}));a.s(["useSupplierStore",0,b])},13749,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},11156,a=>{"use strict";let b=(0,a.i(70106).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],11156)},24987,a=>{"use strict";let b=(0,a.i(70106).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},10227,a=>{"use strict";let b=(0,a.i(70106).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],10227)},54624,a=>{"use strict";let b=(0,a.i(70106).default)("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);a.s(["FolderTree",()=>b],54624)},60246,a=>{"use strict";let b=(0,a.i(70106).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],60246)},73570,a=>{"use strict";let b=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},17056,a=>{a.v(b=>Promise.all(["server/chunks/ssr/lib_api_fetch-with-auth_ts_216bac7a._.js"].map(b=>a.l(b))).then(()=>b(77756)))}];

//# sourceMappingURL=_19e6135f._.js.map