{"version":3,"sources":["../../../../lib/api/fetch-with-auth.ts"],"sourcesContent":["/**\r\n * Helper function برای fetch با header های احراز هویت\r\n */\r\nexport async function fetchWithAuth(\r\n  url: string,\r\n  options: RequestInit = {}\r\n): Promise<Response> {\r\n  // New auth system uses HttpOnly cookie sessions.\r\n  // For browser fetch, cookies are included automatically for same-origin.\r\n  // We still set credentials: 'include' for safety.\r\n  const headers = new Headers(options.headers);\r\n  if (!headers.has(\"Content-Type\") && options.body) {\r\n    headers.set(\"Content-Type\", \"application/json\");\r\n  }\r\n\r\n  return fetch(url, {\r\n    ...options,\r\n    credentials: \"include\",\r\n    headers,\r\n  });\r\n}\r\n\r\n"],"names":[],"mappings":"uCAGO,eAAe,EACpB,CAAW,CACX,EAAuB,CAAC,CAAC,EAKzB,IAAM,EAAU,IAAI,QAAQ,EAAQ,OAAO,EAK3C,MAJI,CAAC,EAAQ,GAAG,CAAC,iBAAmB,EAAQ,IAAI,EAAE,AAChD,EAAQ,GAAG,CAAC,eAAgB,oBAGvB,MAAM,EAAK,CAChB,GAAG,CAAO,CACV,YAAa,kBACb,CACF,EACF"}