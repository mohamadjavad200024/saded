{"version":3,"sources":["../../../../app/shipping/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Header } from \"@/components/layout/header\";\r\nimport { Footer } from \"@/components/layout/footer\";\r\n\r\nconst defaultContent = `ما دو روش ارسال هوایی و دریایی را برای شما فراهم کرده‌ایم.\r\n\r\nهزینه ارسال بر اساس محصول و روش انتخابی شما محاسبه می‌شود.`;\r\n\r\nexport default function ShippingPage() {\r\n  const [content, setContent] = useState(defaultContent);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchContent = async () => {\r\n      try {\r\n        // اضافه کردن timestamp برای جلوگیری از cache\r\n        const response = await fetch(`/api/settings/page-content?page=shipping&t=${Date.now()}`, {\r\n          cache: \"no-store\",\r\n        });\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          // استفاده از محتوای API یا default content\r\n          const apiContent = data.data?.content;\r\n          if (apiContent && apiContent.trim() !== \"\" && apiContent !== \"null\") {\r\n            setContent(apiContent);\r\n          } else {\r\n            // اگر محتوا موجود نبود یا خالی بود، از default استفاده می‌شود\r\n            setContent(defaultContent);\r\n          }\r\n        } else {\r\n          // اگر خطا بود، از default استفاده می‌شود\r\n          setContent(defaultContent);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching shipping content:\", error);\r\n        // در صورت خطا، از default استفاده می‌شود\r\n        setContent(defaultContent);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchContent();\r\n  }, []);\r\n\r\n  const paragraphs = content.split(\"\\n\").filter((p: string) => p.trim() !== \"\");\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col\">\r\n      <Header />\r\n      <main className=\"flex-1 container py-8\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <h1 className=\"text-3xl font-bold mb-6\">ارسال و تحویل</h1>\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center py-8\">\r\n              <div className=\"w-6 h-6 border-3 border-primary border-t-transparent rounded-full animate-spin\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"prose prose-lg max-w-none\">\r\n              {paragraphs.map((paragraph: string, index: number) => (\r\n                <p key={index} className=\"text-muted-foreground mb-4\">\r\n                  {paragraph.trim()}\r\n                </p>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAiB,CAAC;;0DAEkC,CAAC,CAE5C,SAAS,IACtB,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAEvC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KA6BR,CA5BqB,UACnB,GAAI,CAEF,IAAM,EAAW,MAAM,MAAM,CAAC,2CAA2C,EAAE,KAAK,GAAG,GAAA,CAAI,CAAE,CACvF,MAAO,UACT,GACA,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAO,MAAM,EAAS,IAAI,GAE1B,EAAa,EAAK,IAAI,EAAE,QAC1B,GAAoC,KAAtB,EAAW,IAAI,IAA4B,QAAQ,CAAvB,EAC5C,EAAW,GAGX,EAAW,EAEf,MAEE,CAFK,CAEM,EAEf,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,mCAAoC,GAElD,EAAW,EACb,QAAU,CACR,GAAW,EACb,EACF,GAEF,EAAG,EAAE,EAEL,IAAM,EAAa,EAAQ,KAAK,CAAC,MAAM,MAAM,CAAC,AAAC,GAA2B,KAAb,EAAE,IAAI,IAEnE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,kBACvC,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qFAGjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAW,GAAG,CAAC,CAAC,EAAmB,IAClC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAc,UAAU,sCACtB,EAAU,IAAI,IADT,WAQlB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,KAGb"}