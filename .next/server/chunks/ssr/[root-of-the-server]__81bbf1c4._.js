module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},37927,a=>{"use strict";var b=a.i(72131),c=a.i(87924),d=b.createContext(void 0),e=a=>{let c=b.useContext(d);if(a)return a;if(!c)throw Error("No QueryClient set, use QueryClientProvider to set one");return c},f=({client:a,children:e})=>(b.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),(0,c.jsx)(d.Provider,{value:a,children:e}));a.s(["QueryClientProvider",()=>f,"useQueryClient",()=>e])},78987,a=>{"use strict";let b=(0,a.i(70106).default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);a.s(["ShoppingBag",()=>b],78987)},67453,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},62722,a=>{"use strict";let b=(0,a.i(70106).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],62722)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},97063,a=>{"use strict";let b=(0,a.i(70106).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],97063)},80794,a=>{"use strict";var b=a.i(72131);function c(){let[a,c]=(0,b.useState)("default");return(0,b.useRef)(null),(0,b.useEffect)(()=>{},[]),{permission:a,requestPermission:async()=>!1,showNotification:async(a,b=!0)=>{},isSupported:!1}}a.i(54917),a.s(["useNotifications",()=>c])},99209,a=>{"use strict";var b=a.i(72131),c=a.i(33915),d=a.i(62435),e=a.i(54917);let f=(0,c.create)()((0,d.persist)((a,b)=>({notifications:[],addNotification:c=>{let d=c.metadata?.notificationId||`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,f=b().notifications.find(a=>a.id===d);if(f&&!f.dismissed)return e.logger.debug(`[Notification Store] Updating existing notification ${d}`),a(a=>({notifications:a.notifications.map(a=>a.id===d?{...a,...c,timestamp:Date.now(),read:!1,dismissed:!1}:a)})),d;let g={...c,id:d,timestamp:Date.now(),read:!1,dismissed:!1};return e.logger.debug(`[Notification Store] Adding new notification ${d}`,{type:g.type,title:g.title,chatId:g.metadata?.chatId,isAdmin:g.metadata?.isAdmin}),a(a=>({notifications:[g,...a.notifications.filter(a=>a.id!==d)].slice(0,50)})),d},removeNotification:b=>{a(a=>({notifications:a.notifications.filter(a=>a.id!==b)}))},markAsRead:b=>{a(a=>({notifications:a.notifications.map(a=>a.id===b?{...a,read:!0}:a)}))},markAllAsRead:()=>{a(a=>({notifications:a.notifications.map(a=>({...a,read:!0}))}))},dismissNotification:c=>{let d=b().notifications.find(a=>a.id===c);d?.onDismiss&&d.onDismiss(),a(a=>({notifications:a.notifications.filter(a=>a.id!==c)}))},dismissAll:()=>{a(a=>({notifications:a.notifications.filter(a=>a.persistent)}))},getUnreadCount:()=>b().notifications.filter(a=>!a.read&&!a.dismissed).length,getUnreadCountExcludingChat:a=>a?b().notifications.filter(b=>!b.read&&!b.dismissed&&!(b.metadata?.chatId===a&&b.metadata?.isAdmin)).length:b().getUnreadCount(),getNotificationsExcludingChat:a=>a?b().notifications.filter(b=>!(b.metadata?.chatId===a&&b.metadata?.isAdmin)):b().notifications,clearAll:()=>{a({notifications:[]})}}),{name:"notification-storage",partialize:a=>({notifications:a.notifications.filter(a=>a.read).slice(0,20)})}));var g=a.i(80794);function h(){let{notifications:a,addNotification:c,removeNotification:d,markAsRead:h,markAllAsRead:i,dismissNotification:j,getUnreadCount:k}=f(),{showNotification:l}=(0,g.useNotifications)(),m=(0,b.useCallback)((a,b)=>{try{let a=new(window.AudioContext||window.webkitAudioContext),c=a.createOscillator(),d=a.createGain();c.connect(d),d.connect(a.destination),"urgent"===b||"high"===b?(c.frequency.setValueAtTime(1e3,a.currentTime),c.frequency.setValueAtTime(800,a.currentTime+.1),c.frequency.setValueAtTime(1e3,a.currentTime+.2),c.frequency.setValueAtTime(800,a.currentTime+.3),c.frequency.setValueAtTime(1e3,a.currentTime+.4),d.gain.setValueAtTime(.3,a.currentTime),d.gain.exponentialRampToValueAtTime(.01,a.currentTime+.5),c.start(a.currentTime),c.stop(a.currentTime+.5)):(c.frequency.setValueAtTime(800,a.currentTime),c.frequency.setValueAtTime(600,a.currentTime+.1),c.frequency.setValueAtTime(800,a.currentTime+.2),d.gain.setValueAtTime(.3,a.currentTime),d.gain.exponentialRampToValueAtTime(.01,a.currentTime+.3),c.start(a.currentTime),c.stop(a.currentTime+.3))}catch(a){e.logger.error("Error playing notification sound:",a)}},[]),n=(0,b.useCallback)(a=>{if("vibrate"in navigator)try{navigator.vibrate(a)}catch(a){e.logger.error("Error vibrating device:",a)}},[]),o=(0,b.useCallback)(a=>{let{type:b="message",priority:d="medium",title:e,message:f,sender:g,avatar:h,actions:i,onConfirm:j,onDismiss:k,metadata:o,persistent:p=!0,sound:q=!0,vibration:r=!1}=a;return q&&m(b,d),r&&"urgent"===d&&n([200,100,200]),l({title:e,body:f,tag:`persistent-${Date.now()}`,requireInteraction:p,sound:!1}).catch(()=>{}),c({type:b,priority:d,title:e,message:f,sender:g,avatar:h,actions:i,onConfirm:j,onDismiss:k,metadata:o,persistent:p,sound:q,vibration:r})},[c,m,n,l]),p=(0,b.useCallback)((a,b,c)=>{let{avatar:d,onOpen:e,chatId:f,metadata:g}=c||{},i=f?`msg-${f}`:void 0;return o({type:"message",priority:"high",title:`پیام جدید از ${a}`,message:b,sender:a,avatar:d,persistent:!0,sound:!0,actions:f?[{label:"مشاهده",action:()=>{let a=new CustomEvent("openChat",{detail:{chatId:f,isAdmin:g?.isAdmin!==!1}});window.dispatchEvent(a),e&&e(),i&&(h(i),j(i))},variant:"default"}]:e?[{label:"مشاهده",action:()=>{e&&e()},variant:"default"}]:void 0,onConfirm:e,metadata:{chatId:f,notificationId:i,...g}})},[o,h,j]);return{notifications:a.filter(a=>!a.dismissed),showNotification:o,showMessageNotification:p,removeNotification:d,markAsRead:h,markAllAsRead:i,dismissNotification:j,unreadCount:k()}}a.s(["usePersistentNotifications",()=>h],99209)},52495,a=>{"use strict";let b=(0,a.i(70106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],52495)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__81bbf1c4._.js.map