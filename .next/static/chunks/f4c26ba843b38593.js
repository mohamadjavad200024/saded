(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41867,e=>{"use strict";var t=e.i(6344),a=e.i(36361),i=e.i(17513),s=e.i(60366),o=e.i(93226),r=e.i(73493);let n={siteName:"ساد",siteDescription:"فروشگاه آنلاین قطعات خودرو وارداتی",maintenanceMode:!1,allowRegistration:!0,emailNotifications:!0,lowStockThreshold:10,itemsPerPage:10,showNotifications:!0,theme:"system"},d={totalProducts:0,activeProducts:0,totalStock:0,lowStockProducts:0,totalCategories:0,activeCategories:0,totalOrders:0,pendingOrders:0,totalRevenue:0,averagePrice:0},l=async()=>{try{let e=await fetch("/api/site-settings",{credentials:"include"});if(e.ok){let t=await e.json();if(t.success&&t.data)return{...n,siteName:t.data.siteName||n.siteName,siteDescription:t.data.siteDescription||n.siteDescription,logoUrl:t.data.logoUrl||n.logoUrl,maintenanceMode:t.data.maintenanceMode??n.maintenanceMode,allowRegistration:t.data.allowRegistration??n.allowRegistration,emailNotifications:t.data.emailNotifications??n.emailNotifications,lowStockThreshold:t.data.lowStockThreshold??n.lowStockThreshold,itemsPerPage:t.data.itemsPerPage??n.itemsPerPage,showNotifications:t.data.showNotifications??n.showNotifications,theme:t.data.theme||n.theme}}}catch(e){console.error("Error loading admin settings from API:",e)}return n},c=(0,t.create)((e,t)=>({stats:null,isLoading:!1,settings:n,refreshStats:async()=>{e({isLoading:!0});try{let o=a.useProductStore.getState(),r=i.useCategoryStore.getState(),n=s.useOrderStore.getState(),d=o.products,l=r.categories,c=n.orders,u=d.filter(e=>e.enabled),h=u.reduce((e,t)=>e+(t.price||0),0),p=u.length>0?h/u.length:0,f=c.length,g=c.filter(e=>"pending"===e.status||"pending"===e.paymentStatus).length,m=c.filter(e=>"paid"===e.paymentStatus).reduce((e,t)=>e+(t.total+t.shippingCost),0),v={totalProducts:d.length,activeProducts:u.length,totalStock:d.reduce((e,t)=>e+t.stockCount,0),lowStockProducts:d.filter(e=>e.stockCount<t().settings.lowStockThreshold).length,totalCategories:l.length,activeCategories:l.filter(e=>e.isActive&&e.enabled).length,totalOrders:f,pendingOrders:g,totalRevenue:m,averagePrice:Math.round(p)};e({stats:v,isLoading:!1})}catch(t){r.logger.error("Error refreshing stats:",t),e({stats:d,isLoading:!1})}},updateSettings:(a,i=!0)=>{let s={...t().settings,...a};if(e({settings:s}),i&&1){let e=document.cookie;fetch("http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"admin-store.ts:164",message:"Client: About to send PUT request",data:{hasCookies:!!e,cookieCount:(e.match(/;/g)||[]).length+1,hasSadedSession:e.includes("saded_session"),saveToAPI:i},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"F"})}).catch(()=>{});let t=o.useAuthStore.getState(),a={"Content-Type":"application/json"};t.user?.id&&(a["x-user-id"]=t.user.id),fetch("/api/site-settings",{method:"PUT",credentials:"include",headers:a,body:JSON.stringify(s)}).then(e=>{if(fetch("http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"admin-store.ts:175",message:"Client: PUT response received",data:{status:e.status,statusText:e.statusText,ok:e.ok},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"G"})}).catch(()=>{}),!e.ok)return e.json().then(t=>{throw fetch("http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"admin-store.ts:179",message:"Client: PUT error response",data:{status:e.status,error:t},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"H"})}).catch(()=>{}),Error(t.error||"Request failed")});try{localStorage.setItem("admin_site_settings",JSON.stringify(s))}catch(e){console.warn("Failed to save settings to localStorage:",e)}window.dispatchEvent(new Event("settingsUpdated"))}).catch(e=>{fetch("http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"admin-store.ts:186",message:"Client: PUT request failed",data:{error:e?.message||"unknown"},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"I"})}).catch(()=>{}),console.error("Error saving admin settings to API:",e)})}else i||fetch("http://127.0.0.1:7242/ingest/6e2493c0-cc8b-4c0b-9456-c04638b7e615",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"admin-store.ts:206",message:"Client: updateSettings called with saveToAPI=false (loading from API)",data:{saveToAPI:i},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"O"})}).catch(()=>{})},resetSettings:()=>{e({settings:n})}}));l().then(e=>{c.getState().updateSettings(e,!1);try{localStorage.setItem("admin_site_settings",JSON.stringify(e))}catch(e){console.warn("Failed to save settings to localStorage:",e)}}),window.addEventListener("settingsUpdated",()=>{l().then(e=>{c.getState().updateSettings(e,!1)})}),e.s(["useAdminStore",0,c])},23102,e=>{"use strict";let t=(0,e.i(75254).default)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);e.s(["Instagram",()=>t],23102)},83157,e=>{"use strict";let t=(0,e.i(75254).default)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);e.s(["Facebook",()=>t],83157)},78021,23616,51348,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);e.s(["Twitter",()=>a],78021);let i=(0,t.default)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);e.s(["Youtube",()=>i],23616);let s=(0,t.default)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);e.s(["Linkedin",()=>s],51348)},55900,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],55900)},99682,e=>{"use strict";var t=e.i(71645);function a(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}e.s(["usePrevious",()=>a])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},19036,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(81140),s=e.i(20783),o=e.i(30030),r=e.i(69340),n=e.i(99682),d=e.i(35804),l=e.i(48425),c="Switch",[u,h]=(0,o.createContextScope)(c),[p,f]=u(c),g=a.forwardRef((e,o)=>{let{__scopeSwitch:n,name:d,checked:u,defaultChecked:h,required:f,disabled:g,value:m="on",onCheckedChange:v,form:w,...k}=e,[S,x]=a.useState(null),P=(0,s.useComposedRefs)(o,e=>x(e)),C=a.useRef(!1),N=!S||w||!!S.closest("form"),[T,j]=(0,r.useControllableState)({prop:u,defaultProp:h??!1,onChange:v,caller:c});return(0,t.jsxs)(p,{scope:n,checked:T,disabled:g,children:[(0,t.jsx)(l.Primitive.button,{type:"button",role:"switch","aria-checked":T,"aria-required":f,"data-state":y(T),"data-disabled":g?"":void 0,disabled:g,value:m,...k,ref:P,onClick:(0,i.composeEventHandlers)(e.onClick,e=>{j(e=>!e),N&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),N&&(0,t.jsx)(b,{control:S,bubbles:!C.current,name:d,value:m,checked:T,required:f,disabled:g,form:w,style:{transform:"translateX(-100%)"}})]})});g.displayName=c;var m="SwitchThumb",v=a.forwardRef((e,a)=>{let{__scopeSwitch:i,...s}=e,o=f(m,i);return(0,t.jsx)(l.Primitive.span,{"data-state":y(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:a})});v.displayName=m;var b=a.forwardRef(({__scopeSwitch:e,control:i,checked:o,bubbles:r=!0,...l},c)=>{let u=a.useRef(null),h=(0,s.useComposedRefs)(u,c),p=(0,n.usePrevious)(o),f=(0,d.useSize)(i);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==o&&t){let a=new Event("click",{bubbles:r});t.call(e,o),e.dispatchEvent(a)}},[p,o,r]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...l,tabIndex:-1,ref:h,style:{...l.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function y(e){return e?"checked":"unchecked"}b.displayName="SwitchBubbleInput";var w=e.i(47163);let k=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(g,{className:(0,w.cn)("peer inline-flex h-6 w-12 shrink-0 cursor-pointer items-center rounded-full border-2 transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500 data-[state=unchecked]:bg-muted data-[state=unchecked]:border-transparent px-0.5",e),...a,ref:i,children:(0,t.jsx)(v,{className:(0,w.cn)("pointer-events-none block h-5 w-5 rounded-full shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=checked]:-translate-x-6 data-[state=unchecked]:translate-x-0 data-[state=checked]:bg-primary-foreground data-[state=unchecked]:bg-foreground")})}));k.displayName=g.displayName,e.s(["Switch",()=>k],19036)},69074,e=>{"use strict";let t=(0,e.i(75254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],69074)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},69035,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(74080);var i=e.i(91918),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let o=(0,i.createSlot)(`Primitive.${s}`),r=a.forwardRef((e,a)=>{let{asChild:i,...r}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?o:s,{...r,ref:a})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{}),o="horizontal",r=["horizontal","vertical"],n=a.forwardRef((e,a)=>{var i;let{decorative:n,orientation:d=o,...l}=e,c=(i=d,r.includes(i))?d:o;return(0,t.jsx)(s.div,{"data-orientation":c,...n?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...l,ref:a})});n.displayName="Separator";var d=e.i(47163);let l=a.forwardRef(({className:e,orientation:a="horizontal",decorative:i=!0,...s},o)=>(0,t.jsx)(n,{ref:o,decorative:i,orientation:a,className:(0,d.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...s}));l.displayName=n.displayName,e.s(["Separator",()=>l],69035)},27341,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(81140),s=e.i(30030),o=e.i(42727),r=e.i(96626),n=e.i(48425),d=e.i(86318),l=e.i(69340),c=e.i(10772),u="Tabs",[h,p]=(0,s.createContextScope)(u,[o.createRovingFocusGroupScope]),f=(0,o.createRovingFocusGroupScope)(),[g,m]=h(u),v=a.forwardRef((e,a)=>{let{__scopeTabs:i,value:s,onValueChange:o,defaultValue:r,orientation:h="horizontal",dir:p,activationMode:f="automatic",...m}=e,v=(0,d.useDirection)(p),[b,y]=(0,l.useControllableState)({prop:s,onChange:o,defaultProp:r??"",caller:u});return(0,t.jsx)(g,{scope:i,baseId:(0,c.useId)(),value:b,onValueChange:y,orientation:h,dir:v,activationMode:f,children:(0,t.jsx)(n.Primitive.div,{dir:v,"data-orientation":h,...m,ref:a})})});v.displayName=u;var b="TabsList",y=a.forwardRef((e,a)=>{let{__scopeTabs:i,loop:s=!0,...r}=e,d=m(b,i),l=f(i);return(0,t.jsx)(o.Root,{asChild:!0,...l,orientation:d.orientation,dir:d.dir,loop:s,children:(0,t.jsx)(n.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...r,ref:a})})});y.displayName=b;var w="TabsTrigger",k=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,disabled:d=!1,...l}=e,c=m(w,s),u=f(s),h=P(c.baseId,r),p=C(c.baseId,r),g=r===c.value;return(0,t.jsx)(o.Item,{asChild:!0,...u,focusable:!d,active:g,children:(0,t.jsx)(n.Primitive.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:h,...l,ref:a,onMouseDown:(0,i.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,i.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,i.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;g||d||!e||c.onValueChange(r)})})})});k.displayName=w;var S="TabsContent",x=a.forwardRef((e,i)=>{let{__scopeTabs:s,value:o,forceMount:d,children:l,...c}=e,u=m(S,s),h=P(u.baseId,o),p=C(u.baseId,o),f=o===u.value,g=a.useRef(f);return a.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(r.Presence,{present:d||f,children:({present:a})=>(0,t.jsx)(n.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!a,id:p,tabIndex:0,...c,ref:i,style:{...e.style,animationDuration:g.current?"0s":void 0},children:a&&l})})});function P(e,t){return`${e}-trigger-${t}`}function C(e,t){return`${e}-content-${t}`}x.displayName=S;var N=e.i(47163);let T=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(y,{ref:i,className:(0,N.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));T.displayName=y.displayName;let j=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(k,{ref:i,className:(0,N.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));j.displayName=k.displayName;let I=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(x,{ref:i,className:(0,N.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));I.displayName=x.displayName,e.s(["Tabs",()=>v,"TabsContent",()=>I,"TabsList",()=>T,"TabsTrigger",()=>j],27341)}]);