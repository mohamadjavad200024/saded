(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52917,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(26999),i=e.i(25913),a=e.i(37727),n=e.i(47163);let o=s.Root,l=s.Trigger;s.Close;let c=s.Portal,d=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)(s.Overlay,{className:(0,n.cn)("fixed inset-0 z-[10000] bg-black/90 backdrop-blur-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{backgroundImage:`
        url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter2'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.25' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter2)'/%3E%3C/svg%3E")
      `,backgroundSize:"120px 120px, 100px 100px",backgroundBlendMode:"overlay",opacity:1},...r,ref:i}));d.displayName=s.Overlay.displayName;let u=(0,i.cva)("fixed z-[10001] gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b-[0.25px] border-border/30 data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t-[0.25px] border-border/30 data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",right:"inset-y-0 right-0 h-full w-3/4 border-l-[0.25px] border-border/30 data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",left:"inset-y-0 left-0 h-full w-3/4 border-r-[0.25px] border-border/30 data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=r.forwardRef(({side:e="right",className:r,children:i,...o},l)=>(0,t.jsxs)(c,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)(s.Content,{ref:l,className:(0,n.cn)(u({side:e}),r),...o,children:[i,(0,t.jsxs)(s.Close,{className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(a.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=s.Content.displayName;let m=({className:e,...r})=>(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-right",e),...r});m.displayName="SheetHeader";let f=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)(s.Title,{ref:i,className:(0,n.cn)("text-lg font-semibold text-foreground",e),...r}));f.displayName=s.Title.displayName,r.forwardRef(({className:e,...r},i)=>(0,t.jsx)(s.Description,{ref:i,className:(0,n.cn)("text-sm text-muted-foreground",e),...r})).displayName=s.Description.displayName,e.s(["Sheet",()=>o,"SheetContent",()=>h,"SheetHeader",()=>m,"SheetTitle",()=>f,"SheetTrigger",()=>l])},68983,e=>{"use strict";var t=e.i(66027);async function r(e,t=1,s=50){try{let r=new URL("/api/products",window.location.origin);if(e){let r=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:e,page:t,limit:s}),cache:"no-store"});if(!r.ok)throw Error(`Failed to fetch products: ${r.statusText}`);let i=await r.json();if(!i.success||!i.data)throw console.error("API Error:",i.error||"Failed to fetch products",i),Error(i.error||"Failed to fetch products");let a=i.data.map(e=>{let t,r;try{t=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),r=e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}catch(e){t=new Date,r=new Date}return{...e,images:Array.isArray(e.images)?e.images:[],tags:Array.isArray(e.tags)?e.tags:[],specifications:e.specifications||{},createdAt:t,updatedAt:r}});return{products:a,pagination:i.pagination||{page:1,limit:a.length,total:a.length,totalPages:1}}}{r.searchParams.set("page",t.toString()),r.searchParams.set("limit",s.toString());let e=await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error(`Failed to fetch products: ${e.statusText}`);let i=await e.json();if(!i.success||!i.data)throw console.error("API Error:",i.error||"Failed to fetch products",i),Error(i.error||"Failed to fetch products");let a=i.data.map(e=>{let t,r;try{t=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),r=e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}catch(e){t=new Date,r=new Date}return{...e,images:Array.isArray(e.images)?e.images:[],tags:Array.isArray(e.tags)?e.tags:[],specifications:e.specifications||{},createdAt:t,updatedAt:r}});return{products:a,pagination:i.pagination||{page:1,limit:a.length,total:a.length,totalPages:1}}}}catch(e){return console.error("Error fetching products:",e),(e.message?.includes("Service Unavailable")||e.message?.includes("503"))&&console.warn("⚠️ Database service unavailable - returning empty products"),{products:[],pagination:{page:1,limit:0,total:0,totalPages:0}}}}function s(e,i=1,a=50){let n=(0,t.useQuery)({queryKey:["products",e,i,a],queryFn:()=>r(e,i,a),staleTime:12e4,gcTime:6e5,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,throwOnError:!1});return{data:n.data?.products||[],pagination:n.data?.pagination||{page:1,limit:0,total:0,totalPages:0},isLoading:n.isLoading,isError:n.isError,error:n.error}}e.s(["useProducts",()=>s])},5125,e=>{"use strict";let t=(0,e.i(75254).default)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["Car",()=>t],5125)},48106,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(4967),i=e.i(88844),a=e.i(36361);function n({src:e,alt:n,fill:o=!1,width:l,height:c,className:d="",priority:u=!1,loading:h="eager",sizes:m,onError:f,placeholder:p="empty",blurDataURL:x,productId:g}){let v=(0,a.useProductStore)(),b=(0,r.useMemo)(()=>(0,s.getPlaceholderImage)(l||600,c||600),[l,c]),y=(0,r.useCallback)(()=>{if(e&&"string"==typeof e&&""!==e.trim()){let t=(0,s.normalizeImageUrl)(e.trim());if(t&&(0,s.validateImageUrl)(t))return t}if(g){let e=v.getProduct(g);if(e?.images&&Array.isArray(e.images)&&e.images.length>0){for(let t of e.images)if(t&&"string"==typeof t&&""!==t.trim()){let e=(0,s.normalizeImageUrl)(t.trim());if(e&&(0,s.validateImageUrl)(e))return e}}}return b},[e,g,b,v]),w=(0,r.useMemo)(()=>y(),[y]),[j,N]=(0,r.useState)(w),[R,S]=(0,r.useState)(!0),[C,E]=(0,r.useState)(!1),[k,P]=(0,r.useState)(!h||"eager"===h),I=(0,r.useRef)(null),D=(0,r.useRef)(0),T=(0,r.useRef)(null),O=(0,r.useRef)(null);(0,r.useEffect)(()=>{if("lazy"===h&&"IntersectionObserver"in window){let e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(P(!0),e.disconnect())})},{rootMargin:"50px",threshold:.01});return I.current&&(e.observe(I.current),O.current=e),()=>{O.current&&O.current.disconnect()}}P(!0)},[h]),(0,r.useEffect)(()=>{u&&w&&w!==b&&k&&(0,s.preloadImage)(w).catch(()=>{})},[u,w,b,k]),(0,r.useEffect)(()=>{w!==j&&(N(w),S(!0),E(!1),D.current=0,T.current&&clearTimeout(T.current))},[w,j]),(0,r.useEffect)(()=>{if(R&&j&&j!==b&&k)return T.current=setTimeout(()=>{R&&A()},3e4),()=>{T.current&&clearTimeout(T.current)}},[R,j,b,k]);let F=(0,r.useCallback)(()=>{T.current&&clearTimeout(T.current),S(!1),E(!1),D.current=0},[]),A=(0,r.useCallback)(()=>{T.current&&clearTimeout(T.current);let e=j||w;if(e===b){S(!1),E(!0),f?.();return}if(D.current<3){D.current+=1;let t=1e3*Math.pow(2,D.current-1),r=e;if((0,s.needsCacheBusting)(e))r=(0,s.addCacheBusting)(e);else{let t=e.includes("?")?"&":"?";r=`${e.split("&_t=")[0].split("?_t=")[0]}${t}_retry=${D.current}&_t=${Date.now()}`}T.current=setTimeout(()=>{I.current&&(I.current.src="",setTimeout(()=>{I.current&&(I.current.src=r)},100))},t)}else{if(S(!1),E(!0),g){let t=v.getProduct(g);if(t?.images&&Array.isArray(t.images)&&t.images.length>0){let r=t.images.find(t=>{if(!t||"string"!=typeof t||""===t.trim())return!1;let r=(0,s.normalizeImageUrl)(t.trim());return r&&(0,s.validateImageUrl)(r)&&r!==e&&r!==j});if(r){let e=(0,s.normalizeImageUrl)(r.trim());if(e&&(0,s.validateImageUrl)(e)){D.current=0,N(e),S(!0),E(!1);return}}}}N(b),f?.()}},[j,w,b,g,v,f]);(0,r.useEffect)(()=>()=>{T.current&&clearTimeout(T.current),O.current&&O.current.disconnect()},[]);let M=(0,r.useMemo)(()=>j&&""!==j.trim()?j:b,[j,b]),Q={src:(0,r.useMemo)(()=>(0,s.validateImageUrl)(M),[M])?M:b,alt:n,onLoad:F,onError:A,loading:k?h:"lazy",className:"object-cover w-full h-full",style:{objectFit:"cover"},fetchPriority:u?"high":"auto",decoding:"async",crossOrigin:M.startsWith("http")&&!M.includes(window.location.origin)?"anonymous":void 0};return o?(0,t.jsxs)("div",{className:`relative ${d}`,style:{width:"100%",height:"100%"},children:[(0,t.jsx)("img",{...Q,ref:I}),R&&!C&&(0,t.jsx)("div",{className:"absolute inset-0 bg-muted animate-pulse flex items-center justify-center z-10",children:(0,t.jsx)(i.Package,{className:"h-8 w-8 text-muted-foreground"})})]}):(0,t.jsxs)("div",{className:`relative ${d}`,style:{width:l,height:c},children:[(0,t.jsx)("img",{...Q,ref:I}),R&&!C&&(0,t.jsx)("div",{className:"absolute inset-0 bg-muted animate-pulse flex items-center justify-center z-10",children:(0,t.jsx)(i.Package,{className:"h-8 w-8 text-muted-foreground"})})]})}e.s(["SafeImage",()=>n])},33488,e=>{"use strict";var t=e.i(6344),r=e.i(73493);let s={},i=(0,t.create)((e,t)=>({vehicles:[],filters:s,isLoading:!1,setVehicles:t=>e({vehicles:t}),addVehicle:t=>e(e=>{let r=e.vehicles.findIndex(e=>e.id===t.id);if(r>=0){let s=[...e.vehicles];return s[r]=t,{vehicles:s}}return{vehicles:[...e.vehicles,t]}}),updateVehicle:(t,r)=>e(e=>{let s=e.vehicles.findIndex(e=>e.id===t);if(s>=0){let t=[...e.vehicles];return t[s]={...t[s],...r,updatedAt:new Date},{vehicles:t}}return e}),deleteVehicle:t=>e(e=>({vehicles:e.vehicles.filter(e=>e.id!==t)})),getVehicle:e=>t().vehicles.find(t=>t.id===e),getEnabledVehicles:()=>t().vehicles.filter(e=>e.enabled),setFilters:t=>e(e=>({filters:{...e.filters,...t}})),clearFilters:()=>e({filters:s}),loadVehiclesFromDB:async()=>{e({isLoading:!0});try{let t=await fetch("/api/vehicles");if(!t.ok)throw Error("Failed to load vehicles");let r=await t.json();if(r.success&&r.data){let t=r.data.map(e=>({...e,models:Array.isArray(e.models)?e.models:e.models?JSON.parse(e.models):[],createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));e({vehicles:t,isLoading:!1})}else throw Error(r.error||"Failed to load vehicles")}catch(t){throw r.logger.error("Error loading vehicles:",t),e({isLoading:!1}),t}}}));e.s(["useVehicleStore",0,i])},31042,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(5125),i=e.i(47163);let a={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12"};function n({logo:e,alt:n,className:o,size:l="md",fallbackIcon:c=!0}){let[d,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1);return!(e&&"string"==typeof e&&e.trim().length>0&&(e.startsWith("data:image")||e.startsWith("data:")||e.startsWith("/")||e.startsWith("http")))||d?c?(0,t.jsx)("div",{className:(0,i.cn)("flex items-center justify-center bg-muted rounded-full",a[l],o),children:(0,t.jsx)(s.Car,{className:(0,i.cn)("text-muted-foreground",a[l])})}):null:(0,t.jsxs)("div",{className:(0,i.cn)("relative flex items-center justify-center overflow-hidden rounded-full bg-background border border-border/30",a[l],o),children:[(0,t.jsx)("img",{src:e,alt:n,className:(0,i.cn)("object-contain w-full h-full rounded-full",!h&&"opacity-0"),onLoad:()=>{m(!0),u(!1)},onError:t=>{console.warn(`[VehicleLogo] Failed to load logo for ${n}:`,{logoLength:e?.length,logoStart:e?.substring(0,50)}),u(!0),m(!1)},style:{display:d?"none":"block"}}),!h&&!d&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-muted animate-pulse",children:(0,t.jsx)(s.Car,{className:(0,i.cn)("text-muted-foreground",a[l])})})]})}e.s(["VehicleLogo",()=>n])},66027,e=>{"use strict";let t;var r=e.i(75555),s=e.i(40143),i=e.i(86491),a=e.i(15823),n=e.i(93803),o=e.i(19273),l=e.i(80166),c=class extends a.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#i=void 0;#a=void 0;#n;#o;#r;#t;#l;#c;#d;#u;#h;#m;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),d(this.#s,this.options)?this.#p():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#v(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#s.setOptions(this.options),t._defaulted&&!(0,o.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&h(this.#s,r,this.options,t)&&this.#p(),this.updateResult(),s&&(this.#s!==r||(0,o.resolveEnabled)(this.options.enabled,this.#s)!==(0,o.resolveEnabled)(t.enabled,this.#s)||(0,o.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,o.resolveStaleTime)(t.staleTime,this.#s))&&this.#y();let i=this.#w();s&&(this.#s!==r||(0,o.resolveEnabled)(this.options.enabled,this.#s)!==(0,o.resolveEnabled)(t.enabled,this.#s)||i!==this.#m)&&this.#j(i)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(s,e);return t=this,r=i,(0,o.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#a=i,this.#o=this.options,this.#n=this.#s.state),i}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#p(e){this.#b();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.noop)),t}#y(){this.#g();let e=(0,o.resolveStaleTime)(this.options.staleTime,this.#s);if(o.isServer||this.#a.isStale||!(0,o.isValidTimeout)(e))return;let t=(0,o.timeUntilStale)(this.#a.dataUpdatedAt,e);this.#u=l.timeoutManager.setTimeout(()=>{this.#a.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#j(e){this.#v(),this.#m=e,!o.isServer&&!1!==(0,o.resolveEnabled)(this.options.enabled,this.#s)&&(0,o.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=l.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#p()},this.#m))}#x(){this.#y(),this.#j(this.#w())}#g(){this.#u&&(l.timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#v(){this.#h&&(l.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,s=this.#s,a=this.options,l=this.#a,c=this.#n,u=this.#o,f=e!==s?e.state:this.#i,{state:p}=e,x={...p},g=!1;if(t._optimisticResults){let r=this.hasListeners(),n=!r&&d(e,t),o=r&&h(e,s,t,a);(n||o)&&(x={...x,...(0,i.fetchState)(p.data,e.options)}),"isRestoring"===t._optimisticResults&&(x.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:y}=x;r=x.data;let w=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===y){let e;l?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=l.data,w=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,void 0!==e&&(y="success",r=(0,o.replaceData)(l?.data,e,t),g=!0)}if(t.select&&void 0!==r&&!w)if(l&&r===c?.data&&t.select===this.#l)r=this.#c;else try{this.#l=t.select,r=t.select(r),r=(0,o.replaceData)(l?.data,r,t),this.#c=r,this.#t=null}catch(e){this.#t=e}this.#t&&(v=this.#t,r=this.#c,b=Date.now(),y="error");let j="fetching"===x.fetchStatus,N="pending"===y,R="error"===y,S=N&&j,C=void 0!==r,E={status:y,fetchStatus:x.fetchStatus,isPending:N,isSuccess:"success"===y,isError:R,isInitialLoading:S,isLoading:S,data:r,dataUpdatedAt:x.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>f.dataUpdateCount||x.errorUpdateCount>f.errorUpdateCount,isFetching:j,isRefetching:j&&!N,isLoadingError:R&&!C,isPaused:"paused"===x.fetchStatus,isPlaceholderData:g,isRefetchError:R&&C,isStale:m(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,o.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===E.status?e.reject(E.error):void 0!==E.data&&e.resolve(E.data)},r=()=>{t(this.#r=E.promise=(0,n.pendingThenable)())},i=this.#r;switch(i.status){case"pending":e.queryHash===s.queryHash&&t(i);break;case"fulfilled":("error"===E.status||E.data!==i.value)&&r();break;case"rejected":("error"!==E.status||E.error!==i.reason)&&r()}}return E}updateResult(){let e=this.#a,t=this.createResult(this.#s,this.options);if(this.#n=this.#s.state,this.#o=this.options,void 0!==this.#n.data&&(this.#d=this.#s),(0,o.shallowEqualObjects)(t,e))return;this.#a=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#f.size)return!0;let s=new Set(r??this.#f);return this.options.throwOnError&&s.add("error"),Object.keys(this.#a).some(t=>this.#a[t]!==e[t]&&s.has(t))};this.#N({listeners:r()})}#b(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#N(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function d(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&u(e,t,t.refetchOnMount)}function u(e,t,r){if(!1!==(0,o.resolveEnabled)(t.enabled,e)&&"static"!==(0,o.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&m(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,o.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&m(e,r)}function m(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,o.resolveStaleTime)(t.staleTime,e))}e.i(47167);var f=e.i(71645),p=e.i(12598);e.i(43476);var x=f.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),g=f.createContext(!1);g.Provider;var v=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function b(e,t){return function(e,t,r){let i=f.useContext(g),a=f.useContext(x),n=(0,p.useQueryClient)(r),l=n.defaultQueryOptions(e);if(n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=i?"isRestoring":"optimistic",l.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=l.staleTime;l.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof l.gcTime&&(l.gcTime=Math.max(l.gcTime,1e3))}(l.suspense||l.throwOnError||l.experimental_prefetchInRender)&&!a.isReset()&&(l.retryOnMount=!1),f.useEffect(()=>{a.clearReset()},[a]);let c=!n.getQueryCache().get(l.queryHash),[d]=f.useState(()=>new t(n,l)),u=d.getOptimisticResult(l),h=!i&&!1!==e.subscribed;if(f.useSyncExternalStore(f.useCallback(e=>{let t=h?d.subscribe(s.notifyManager.batchCalls(e)):o.noop;return d.updateResult(),t},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),f.useEffect(()=>{d.setOptions(l)},[l,d]),l?.suspense&&u.isPending)throw v(l,d,a);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&void 0===e.data||(0,o.shouldThrowError)(r,[e.error,s])))({result:u,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(l,u),l.experimental_prefetchInRender&&!o.isServer&&u.isLoading&&u.isFetching&&!i){let e=c?v(l,d,a):n.getQueryCache().get(l.queryHash)?.promise;e?.catch(o.noop).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?u:d.trackResult(u)}(e,c,t)}e.s(["useQuery",()=>b],66027)},26999,e=>{"use strict";let t,r,s;var i=e.i(71645),a=e.i(81140),n=e.i(20783),o=e.i(30030),l=e.i(10772),c=e.i(69340),d=e.i(26330),u=e.i(65491),h=e.i(74606),m=e.i(96626),f=e.i(48425),p=e.i(3536),x=e.i(85369),g=e.i(86312),v=e.i(43476),b=Symbol("radix.slottable");function y(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===b}var w="Dialog",[j,N]=(0,o.createContextScope)(w),[R,S]=j(w),C=e=>{let{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:n,modal:o=!0}=e,d=i.useRef(null),u=i.useRef(null),[h,m]=(0,c.useControllableState)({prop:s,defaultProp:a??!1,onChange:n,caller:w});return(0,v.jsx)(R,{scope:t,triggerRef:d,contentRef:u,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:h,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(e=>!e),[m]),modal:o,children:r})};C.displayName=w;var E="DialogTrigger",k=i.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,i=S(E,r),o=(0,n.useComposedRefs)(t,i.triggerRef);return(0,v.jsx)(f.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":K(i.open),...s,ref:o,onClick:(0,a.composeEventHandlers)(e.onClick,i.onOpenToggle)})});k.displayName=E;var P="DialogPortal",[I,D]=j(P,{forceMount:void 0}),T=e=>{let{__scopeDialog:t,forceMount:r,children:s,container:a}=e,n=S(P,t);return(0,v.jsx)(I,{scope:t,forceMount:r,children:i.Children.map(s,e=>(0,v.jsx)(m.Presence,{present:r||n.open,children:(0,v.jsx)(h.Portal,{asChild:!0,container:a,children:e})}))})};T.displayName=P;var O="DialogOverlay",F=i.forwardRef((e,t)=>{let r=D(O,e.__scopeDialog),{forceMount:s=r.forceMount,...i}=e,a=S(O,e.__scopeDialog);return a.modal?(0,v.jsx)(m.Presence,{present:s||a.open,children:(0,v.jsx)(M,{...i,ref:t})}):null});F.displayName=O;var A=((s=i.forwardRef((e,t)=>{let{children:r,...s}=e;if(i.isValidElement(r)){var a;let e,o,l=(a=r,(o=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(o=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),c=function(e,t){let r={...t};for(let s in t){let i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?r[s]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(r[s]=i):"style"===s?r[s]={...i,...a}:"className"===s&&(r[s]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==i.Fragment&&(c.ref=t?(0,n.composeRefs)(t,l):l),i.cloneElement(r,c)}return i.Children.count(r)>1?i.Children.only(null):null})).displayName="DialogOverlay.RemoveScroll.SlotClone",t=s,(r=i.forwardRef((e,r)=>{let{children:s,...a}=e,n=i.Children.toArray(s),o=n.find(y);if(o){let e=o.props.children,s=n.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,v.jsx)(t,{...a,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,s):null})}return(0,v.jsx)(t,{...a,ref:r,children:s})})).displayName="DialogOverlay.RemoveScroll.Slot",r),M=i.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,i=S(O,r);return(0,v.jsx)(x.RemoveScroll,{as:A,allowPinchZoom:!0,shards:[i.contentRef],children:(0,v.jsx)(f.Primitive.div,{"data-state":K(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Q="DialogContent",_=i.forwardRef((e,t)=>{let r=D(Q,e.__scopeDialog),{forceMount:s=r.forceMount,...i}=e,a=S(Q,e.__scopeDialog);return(0,v.jsx)(m.Presence,{present:s||a.open,children:a.modal?(0,v.jsx)(L,{...i,ref:t}):(0,v.jsx)(z,{...i,ref:t})})});_.displayName=Q;var L=i.forwardRef((e,t)=>{let r=S(Q,e.__scopeDialog),s=i.useRef(null),o=(0,n.useComposedRefs)(t,r.contentRef,s);return i.useEffect(()=>{let e=s.current;if(e)return(0,g.hideOthers)(e)},[]),(0,v.jsx)($,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),z=i.forwardRef((e,t)=>{let r=S(Q,e.__scopeDialog),s=i.useRef(!1),a=i.useRef(!1);return(0,v.jsx)($,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let i=t.target;r.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),$=i.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,c=S(Q,r),h=i.useRef(null),m=(0,n.useComposedRefs)(t,h);return(0,p.useFocusGuards)(),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,v.jsx)(d.DismissableLayer,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":K(c.open),...l,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Y,{titleId:c.titleId}),(0,v.jsx)(Z,{contentRef:h,descriptionId:c.descriptionId})]})]})}),U="DialogTitle",H=i.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,i=S(U,r);return(0,v.jsx)(f.Primitive.h2,{id:i.titleId,...s,ref:t})});H.displayName=U;var B="DialogDescription",V=i.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,i=S(B,r);return(0,v.jsx)(f.Primitive.p,{id:i.descriptionId,...s,ref:t})});V.displayName=B;var q="DialogClose",W=i.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,i=S(q,r);return(0,v.jsx)(f.Primitive.button,{type:"button",...s,ref:t,onClick:(0,a.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function K(e){return e?"open":"closed"}W.displayName=q;var X="DialogTitleWarning",[G,J]=(0,o.createContext)(X,{contentName:Q,titleName:U,docsSlug:"dialog"}),Y=({titleId:e})=>{let t=J(X),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Z=({contentRef:e,descriptionId:t})=>{let r=J("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return i.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null};e.s(["Close",()=>W,"Content",()=>_,"Description",()=>V,"Overlay",()=>F,"Portal",()=>T,"Root",()=>C,"Title",()=>H,"Trigger",()=>k],26999)},70152,e=>{"use strict";function t(e,[t,r]){return Math.min(r,Math.max(t,e))}e.s(["clamp",()=>t])},97548,e=>{"use strict";let t=(0,e.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>t],97548)},25959,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(20783),i=e.i(30030),a=e.i(81140),n=e.i(69340),o=e.i(99682),l=e.i(35804),c=e.i(96626),d=e.i(48425),u="Checkbox",[h,m]=(0,i.createContextScope)(u),[f,p]=h(u);function x(e){let{__scopeCheckbox:s,checked:i,children:a,defaultChecked:o,disabled:l,form:c,name:d,onCheckedChange:h,required:m,value:p="on",internal_do_not_use_render:x}=e,[g,v]=(0,n.useControllableState)({prop:i,defaultProp:o??!1,onChange:h,caller:u}),[b,y]=r.useState(null),[w,j]=r.useState(null),N=r.useRef(!1),S=!b||!!c||!!b.closest("form"),C={checked:g,disabled:l,setChecked:v,control:b,setControl:y,name:d,form:c,value:p,hasConsumerStoppedPropagationRef:N,required:m,defaultChecked:!R(o)&&o,isFormControl:S,bubbleInput:w,setBubbleInput:j};return(0,t.jsx)(f,{scope:s,...C,children:"function"==typeof x?x(C):a})}var g="CheckboxTrigger",v=r.forwardRef(({__scopeCheckbox:e,onKeyDown:i,onClick:n,...o},l)=>{let{control:c,value:u,disabled:h,checked:m,required:f,setControl:x,setChecked:v,hasConsumerStoppedPropagationRef:b,isFormControl:y,bubbleInput:w}=p(g,e),j=(0,s.useComposedRefs)(l,x),N=r.useRef(m);return r.useEffect(()=>{let e=c?.form;if(e){let t=()=>v(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,v]),(0,t.jsx)(d.Primitive.button,{type:"button",role:"checkbox","aria-checked":R(m)?"mixed":m,"aria-required":f,"data-state":S(m),"data-disabled":h?"":void 0,disabled:h,value:u,...o,ref:j,onKeyDown:(0,a.composeEventHandlers)(i,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,a.composeEventHandlers)(n,e=>{v(e=>!!R(e)||!e),w&&y&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});v.displayName=g;var b=r.forwardRef((e,r)=>{let{__scopeCheckbox:s,name:i,checked:a,defaultChecked:n,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return(0,t.jsx)(x,{__scopeCheckbox:s,checked:a,defaultChecked:n,disabled:l,required:o,onCheckedChange:d,name:i,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{...h,ref:r,__scopeCheckbox:s}),e&&(0,t.jsx)(N,{__scopeCheckbox:s})]})})});b.displayName=u;var y="CheckboxIndicator",w=r.forwardRef((e,r)=>{let{__scopeCheckbox:s,forceMount:i,...a}=e,n=p(y,s);return(0,t.jsx)(c.Presence,{present:i||R(n.checked)||!0===n.checked,children:(0,t.jsx)(d.Primitive.span,{"data-state":S(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...e.style}})})});w.displayName=y;var j="CheckboxBubbleInput",N=r.forwardRef(({__scopeCheckbox:e,...i},a)=>{let{control:n,hasConsumerStoppedPropagationRef:c,checked:u,defaultChecked:h,required:m,disabled:f,name:x,value:g,form:v,bubbleInput:b,setBubbleInput:y}=p(j,e),w=(0,s.useComposedRefs)(a,y),N=(0,o.usePrevious)(u),S=(0,l.useSize)(n);r.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!c.current;if(N!==u&&e){let r=new Event("click",{bubbles:t});b.indeterminate=R(u),e.call(b,!R(u)&&u),b.dispatchEvent(r)}},[b,N,u,c]);let C=r.useRef(!R(u)&&u);return(0,t.jsx)(d.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??C.current,required:m,disabled:f,name:x,value:g,form:v,...i,tabIndex:-1,ref:w,style:{...i.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function R(e){return"indeterminate"===e}function S(e){return R(e)?"indeterminate":e?"checked":"unchecked"}N.displayName=j;var C=e.i(43531),E=e.i(47163);let k=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(b,{ref:s,className:(0,E.cn)("peer h-4 w-4 shrink-0 rounded-sm border-[0.25px] border-primary/30 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:(0,t.jsx)(w,{className:(0,E.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(C.Check,{className:"h-4 w-4"})})}));k.displayName=b.displayName,e.s(["Checkbox",()=>k],25959)},69035,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var s=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let a=(0,s.createSlot)(`Primitive.${i}`),n=r.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?a:i,{...n,ref:r})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),a="horizontal",n=["horizontal","vertical"],o=r.forwardRef((e,r)=>{var s;let{decorative:o,orientation:l=a,...c}=e,d=(s=l,n.includes(s))?l:a;return(0,t.jsx)(i.div,{"data-orientation":d,...o?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:r})});o.displayName="Separator";var l=e.i(47163);let c=r.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...i},a)=>(0,t.jsx)(o,{ref:a,decorative:s,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...i}));c.displayName=o.displayName,e.s(["Separator",()=>c],69035)},75516,5205,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(70065),i=e.i(67881),a=e.i(88844),n=e.i(63059),o=e.i(73375),l=e.i(97548),c=e.i(50965),d=e.i(48106),u=e.i(22016),h=e.i(36361),m=e.i(33488),f=e.i(41867),p=e.i(68983),x=e.i(23750),g=e.i(10708),v=e.i(70152),b=e.i(81140),y=e.i(20783),w=e.i(30030),j=e.i(69340),N=e.i(86318),R=e.i(99682),S=e.i(35804),C=e.i(48425),E=e.i(75830),k=["PageUp","PageDown"],P=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},D="Slider",[T,O,F]=(0,E.createCollection)(D),[A,M]=(0,w.createContextScope)(D,[F]),[Q,_]=A(D),L=r.forwardRef((e,s)=>{let{name:i,min:a=0,max:n=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[a],value:h,onValueChange:m=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:x,...g}=e,y=r.useRef(new Set),w=r.useRef(0),N="horizontal"===l,[R=[],S]=(0,j.useControllableState)({prop:h,defaultProp:u,onChange:e=>{let t=[...y.current];t[w.current]?.focus(),m(e)}}),C=r.useRef(R);function E(e,t,{commit:r}={commit:!1}){let s,i=(String(o).split(".")[1]||"").length,l=Math.round((Math.round((e-a)/o)*o+a)*(s=Math.pow(10,i)))/s,c=(0,v.clamp)(l,[a,n]);S((e=[])=>{let s=function(e=[],t,r){let s=[...e];return s[r]=t,s.sort((e,t)=>e-t)}(e,c,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(s,d*o))return e;{w.current=s.indexOf(c);let t=String(s)!==String(e);return t&&r&&f(s),t?s:e}})}return(0,t.jsx)(Q,{scope:e.__scopeSlider,name:i,disabled:c,min:a,max:n,valueIndexToChangeRef:w,thumbs:y.current,values:R,orientation:l,form:x,children:(0,t.jsx)(T.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(T.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(N?U:H,{"aria-disabled":c,"data-disabled":c?"":void 0,...g,ref:s,onPointerDown:(0,b.composeEventHandlers)(g.onPointerDown,()=>{c||(C.current=R)}),min:a,max:n,inverted:p,onSlideStart:c?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),s=Math.min(...r);return r.indexOf(s)}(R,e);E(e,t)},onSlideMove:c?void 0:function(e){E(e,w.current)},onSlideEnd:c?void 0:function(){let e=C.current[w.current];R[w.current]!==e&&f(R)},onHomeKeyDown:()=>!c&&E(a,0,{commit:!0}),onEndKeyDown:()=>!c&&E(n,R.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!c){let r=k.includes(e.key)||e.shiftKey&&P.includes(e.key),s=w.current;E(R[s]+o*(r?10:1)*t,s,{commit:!0})}}})})})})});L.displayName=D;var[z,$]=A(D,{startEdge:"left",endEdge:"right",size:"width",direction:1}),U=r.forwardRef((e,s)=>{let{min:i,max:a,dir:n,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:u,...h}=e,[m,f]=r.useState(null),p=(0,y.useComposedRefs)(s,e=>f(e)),x=r.useRef(void 0),g=(0,N.useDirection)(n),v="ltr"===g,b=v&&!o||!v&&o;function w(e){let t=x.current||m.getBoundingClientRect(),r=ee([0,t.width],b?[i,a]:[a,i]);return x.current=t,r(e-t.left)}return(0,t.jsx)(z,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,t.jsx)(B,{dir:g,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=w(e.clientX);l?.(t)},onSlideMove:e=>{let t=w(e.clientX);c?.(t)},onSlideEnd:()=>{x.current=void 0,d?.()},onStepKeyDown:e=>{let t=I[b?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),H=r.forwardRef((e,s)=>{let{min:i,max:a,inverted:n,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,h=r.useRef(null),m=(0,y.useComposedRefs)(s,h),f=r.useRef(void 0),p=!n;function x(e){let t=f.current||h.current.getBoundingClientRect(),r=ee([0,t.height],p?[a,i]:[i,a]);return f.current=t,r(e-t.top)}return(0,t.jsx)(z,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:(0,t.jsx)(B,{"data-orientation":"vertical",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=x(e.clientY);o?.(t)},onSlideMove:e=>{let t=x(e.clientY);l?.(t)},onSlideEnd:()=>{f.current=void 0,c?.()},onStepKeyDown:e=>{let t=I[p?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),B=r.forwardRef((e,r)=>{let{__scopeSlider:s,onSlideStart:i,onSlideMove:a,onSlideEnd:n,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=_(D,s);return(0,t.jsx)(C.Primitive.span,{...d,ref:r,onKeyDown:(0,b.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):k.concat(P).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,b.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():i(e)}),onPointerMove:(0,b.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:(0,b.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),n(e))})})}),V="SliderTrack",q=r.forwardRef((e,r)=>{let{__scopeSlider:s,...i}=e,a=_(V,s);return(0,t.jsx)(C.Primitive.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...i,ref:r})});q.displayName=V;var W="SliderRange",K=r.forwardRef((e,s)=>{let{__scopeSlider:i,...a}=e,n=_(W,i),o=$(W,i),l=r.useRef(null),c=(0,y.useComposedRefs)(s,l),d=n.values.length,u=n.values.map(e=>Z(e,n.min,n.max)),h=d>1?Math.min(...u):0,m=100-Math.max(...u);return(0,t.jsx)(C.Primitive.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:c,style:{...e.style,[o.startEdge]:h+"%",[o.endEdge]:m+"%"}})});K.displayName=W;var X="SliderThumb",G=r.forwardRef((e,s)=>{let i=O(e.__scopeSlider),[a,n]=r.useState(null),o=(0,y.useComposedRefs)(s,e=>n(e)),l=r.useMemo(()=>a?i().findIndex(e=>e.ref.current===a):-1,[i,a]);return(0,t.jsx)(J,{...e,ref:o,index:l})}),J=r.forwardRef((e,s)=>{var i,a,n,o,l;let c,d,{__scopeSlider:u,index:h,name:m,...f}=e,p=_(X,u),x=$(X,u),[g,v]=r.useState(null),w=(0,y.useComposedRefs)(s,e=>v(e)),j=!g||p.form||!!g.closest("form"),N=(0,S.useSize)(g),R=p.values[h],E=void 0===R?0:Z(R,p.min,p.max),k=(i=h,(a=p.values.length)>2?`Value ${i+1} of ${a}`:2===a?["Minimum","Maximum"][i]:void 0),P=N?.[x.size],I=P?(n=P,o=E,l=x.direction,d=ee([0,50],[0,c=n/2]),(c-d(o)*l)*l):0;return r.useEffect(()=>{if(g)return p.thumbs.add(g),()=>{p.thumbs.delete(g)}},[g,p.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[x.startEdge]:`calc(${E}% + ${I}px)`},children:[(0,t.jsx)(T.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(C.Primitive.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":p.min,"aria-valuenow":R,"aria-valuemax":p.max,"aria-orientation":p.orientation,"data-orientation":p.orientation,"data-disabled":p.disabled?"":void 0,tabIndex:p.disabled?void 0:0,...f,ref:w,style:void 0===R?{display:"none"}:e.style,onFocus:(0,b.composeEventHandlers)(e.onFocus,()=>{p.valueIndexToChangeRef.current=h})})}),j&&(0,t.jsx)(Y,{name:m??(p.name?p.name+(p.values.length>1?"[]":""):void 0),form:p.form,value:R},h)]})});G.displayName=X;var Y=r.forwardRef(({__scopeSlider:e,value:s,...i},a)=>{let n=r.useRef(null),o=(0,y.useComposedRefs)(n,a),l=(0,R.usePrevious)(s);return r.useEffect(()=>{let e=n.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==s&&t){let r=new Event("input",{bubbles:!0});t.call(e,s),e.dispatchEvent(r)}},[l,s]),(0,t.jsx)(C.Primitive.input,{style:{display:"none"},...i,ref:o,defaultValue:s})});function Z(e,t,r){return(0,v.clamp)(100/(r-t)*(e-t),[0,100])}function ee(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}Y.displayName="RadioBubbleInput";var et=e.i(47163);let er=r.forwardRef(({className:e,...r},s)=>(0,t.jsxs)(L,{ref:s,className:(0,et.cn)("relative flex w-full touch-none select-none items-center",e),...r,children:[(0,t.jsx)(q,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(K,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(G,{className:"block h-5 w-5 rounded-full border-[0.25px] border-primary/30 bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),(0,t.jsx)(G,{className:"block h-5 w-5 rounded-full border-[0.25px] border-primary/30 bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));er.displayName=L.displayName;var es=e.i(25959),ei=e.i(69035),ea=e.i(55436),en=e.i(12426),eo=e.i(75254);let el=(0,eo.default)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),ec=(0,eo.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var ed=e.i(17513);function eu(){let{setFilters:e,clearFilters:s,filters:n}=(0,h.useProductStore)(),{getActiveCategories:o,loadCategoriesFromDB:l}=(0,ed.useCategoryStore)(),[c,d]=(0,r.useState)([0,5e7]),[u,m]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),[v,b]=(0,r.useState)(""),[y,w]=(0,r.useState)(void 0),j=(0,r.useRef)(!1),{getEnabledProducts:N}=(0,h.useProductStore)(),R=N(),S=(0,ed.useCategoryStore)(e=>e.getEnabledCategories());(0,r.useEffect)(()=>{(async()=>{try{await l(!0)}catch(e){console.error("Error loading categories:",e)}})()},[l]);let C=(0,r.useMemo)(()=>{let e=new Set;return R.forEach(t=>{t.brand&&e.add(t.brand)}),Array.from(e).sort()},[R]),E=(0,r.useMemo)(()=>{let e=new Set;return R.forEach(t=>{t.category&&e.add(t.category)}),S.forEach(t=>{t.name&&e.add(t.name)}),Array.from(e).sort()},[R,S]);(0,r.useEffect)(()=>{(void 0!==n.minPrice||void 0!==n.maxPrice)&&d([n.minPrice||0,n.maxPrice||5e7]),n.brands&&m(n.brands),n.categories&&p(n.categories),n.search&&b(n.search),void 0!==n.inStock&&w(n.inStock)},[]),(0,r.useEffect)(()=>{if(j.current)return;let t=setTimeout(()=>{let t={};c[0]>0&&(t.minPrice=c[0]),c[1]<5e7&&(t.maxPrice=c[1]),u.length>0&&(t.brands=u),f.length>0&&(t.categories=f),t.search=v.trim()||void 0,void 0!==y&&(t.inStock=y),e(t)},300);return()=>clearTimeout(t)},[c,u,f,v,y,e]);let k=e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},P=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},I=c[0]>0||c[1]<5e7||u.length>0||f.length>0||""!==v.trim()||void 0!==y;return(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-5",children:[I&&(0,t.jsx)("div",{className:"flex items-center justify-end pb-3 border-b border-border/30",children:(0,t.jsxs)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{d([0,5e7]),m([]),p([]),b(""),w(void 0),s()},className:"text-xs sm:text-sm h-8 sm:h-9 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(ec,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 ml-1.5"}),"پاک کردن"]})}),(0,t.jsxs)("div",{className:"space-y-5 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ea.Search,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(g.Label,{className:"text-sm sm:text-base font-semibold",children:"جستجو"})]}),(0,t.jsx)(x.Input,{placeholder:"جستجوی محصول...",value:v,onChange:e=>b(e.target.value),className:"h-10 sm:h-11 text-sm border-border/50 focus:border-primary"})]}),(0,t.jsx)(ei.Separator,{className:"bg-border/30"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(en.DollarSign,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(g.Label,{className:"text-sm sm:text-base font-semibold",children:"محدوده قیمت"})]}),(0,t.jsx)("div",{className:"px-1",children:(0,t.jsx)(er,{value:c,onValueChange:d,max:5e7,min:0,step:1e5,className:"w-full"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-muted/30 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground mb-1",children:"حداقل"}),(0,t.jsxs)("span",{className:"text-sm sm:text-base font-semibold",children:[c[0].toLocaleString("fa-IR")," تومان"]})]}),(0,t.jsx)("div",{className:"h-8 w-px bg-border/50"}),(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground mb-1",children:"حداکثر"}),(0,t.jsxs)("span",{className:"text-sm sm:text-base font-semibold",children:[c[1].toLocaleString("fa-IR")," تومان"]})]})]})]}),(0,t.jsx)(ei.Separator,{className:"bg-border/30"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Label,{className:"text-sm sm:text-base font-semibold",children:"برند"}),u.length>0&&(0,t.jsx)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:u.length})]}),(0,t.jsx)("div",{className:"space-y-2.5 max-h-56 overflow-y-auto pr-1",children:C.length>0?C.map(e=>(0,t.jsxs)("div",{className:`flex items-center gap-3 p-2.5 rounded-lg transition-colors cursor-pointer ${u.includes(e)?"bg-primary/10 border border-primary/20":"hover:bg-muted/50 border border-transparent"}`,onClick:()=>k(e),children:[(0,t.jsx)(es.Checkbox,{id:e,checked:u.includes(e),onCheckedChange:()=>k(e),className:"h-4.5 w-4.5"}),(0,t.jsx)("label",{htmlFor:e,className:`text-sm font-medium leading-none cursor-pointer flex-1 ${u.includes(e)?"text-primary":"text-foreground"}`,children:e})]},e)):(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center py-4",children:"برندی یافت نشد"})})]}),(0,t.jsx)(ei.Separator,{className:"bg-border/30"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(el,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(g.Label,{className:"text-sm sm:text-base font-semibold",children:"دسته‌بندی"}),f.length>0&&(0,t.jsx)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:f.length})]}),(0,t.jsx)("div",{className:"space-y-2.5 max-h-56 overflow-y-auto pr-1",children:E.length>0?E.map(e=>(0,t.jsxs)("div",{className:`flex items-center gap-3 p-2.5 rounded-lg transition-colors cursor-pointer ${f.includes(e)?"bg-primary/10 border border-primary/20":"hover:bg-muted/50 border border-transparent"}`,onClick:()=>P(e),children:[(0,t.jsx)(es.Checkbox,{id:e,checked:f.includes(e),onCheckedChange:()=>P(e),className:"h-4.5 w-4.5"}),(0,t.jsx)("label",{htmlFor:e,className:`text-sm font-medium leading-none cursor-pointer flex-1 ${f.includes(e)?"text-primary":"text-foreground"}`,children:e})]},e)):(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center py-4",children:"دسته‌بندی‌ای یافت نشد"})})]}),(0,t.jsx)(ei.Separator,{className:"bg-border/30"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Package,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(g.Label,{className:"text-sm sm:text-base font-semibold",children:"وضعیت موجودی"})]}),(0,t.jsxs)("div",{className:`flex items-center gap-3 p-2.5 rounded-lg transition-colors cursor-pointer ${!0===y?"bg-primary/10 border border-primary/20":"hover:bg-muted/50 border border-transparent"}`,onClick:()=>w(!0!==y||void 0),children:[(0,t.jsx)(es.Checkbox,{id:"in-stock",checked:!0===y,onCheckedChange:e=>w(!!e||void 0),className:"h-4.5 w-4.5"}),(0,t.jsx)("label",{htmlFor:"in-stock",className:`text-sm font-medium leading-none cursor-pointer flex-1 ${!0===y?"text-primary":"text-foreground"}`,children:"موجود در انبار"})]})]})]})]})}e.s(["ProductFilters",()=>eu],5205);var eh=e.i(52917),em=e.i(31042);function ef(){return(0,t.jsx)(eu,{})}function ep(){let[e,x]=(0,r.useState)(1),[g,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)(2),{getFilteredProducts:w,filters:j,getEnabledProducts:N}=(0,h.useProductStore)(),{vehicles:R,getVehicle:S,loadVehiclesFromDB:C}=(0,m.useVehicleStore)(),{settings:E,updateSettings:k}=(0,f.useAdminStore)(),[P,I]=(0,r.useState)(new Map);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/site-settings");if(e.ok){let t=await e.json();t.success&&t.data&&k(t.data,!1)}}catch(e){console.error("Error loading settings:",e)}})()},[k]);let D=E.itemsPerPage||50;(0,r.useEffect)(()=>{(async()=>{try{0===R.length&&await C();let e=new Map;R.forEach(t=>{t.id&&e.set(t.id,t)}),I(e)}catch(e){console.error("[ProductGrid] Error loading vehicles:",e)}})()},[R,C]),(0,r.useEffect)(()=>{let e=()=>{v(!1)};return window.addEventListener("closeFilterSheet",e),()=>{window.removeEventListener("closeFilterSheet",e)}},[]);let T=j&&(j.search||j.vehicle||void 0!==j.minPrice||void 0!==j.maxPrice||j.brands&&j.brands.length>0||j.categories&&j.categories.length>0||void 0!==j.inStock),{data:O,pagination:F,isLoading:A}=(0,p.useProducts)(T?j:void 0,e,D),M=(0,r.useMemo)(()=>1!==e||T?[]:N().slice(0,D),[e,T,N,D]);(0,r.useEffect)(()=>{if(O&&O.length>0){let e=h.useProductStore.getState();O.forEach(t=>{e.getProduct(t.id)||e.addProduct(t)})}},[O]);let Q=(0,r.useMemo)(()=>O&&O.length>0?O.filter(e=>e.enabled):A||1!==e||T||!(M.length>0)?[]:M,[O,M,e,T,A]);(0,r.useEffect)(()=>{x(1)},[T?JSON.stringify(j):""]);let _=F?.totalPages||1,L=F?.total||Q.length;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"lg:hidden fixed -left-[9999px] -top-[9999px] opacity-0 pointer-events-none",children:(0,t.jsx)(ef,{})}),(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-1 sm:px-0 mb-3 sm:mb-4",children:[(0,t.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:A?"در حال بارگذاری...":0===Q.length?"محصولی یافت نشد":`نمایش ${Q.length} از ${L} محصول`}),(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,t.jsxs)(eh.Sheet,{open:g,onOpenChange:v,children:[(0,t.jsx)(eh.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",className:"lg:hidden flex items-center gap-2 h-9 w-auto sm:h-10 px-3 sm:px-4 text-xs sm:text-sm",children:[(0,t.jsx)(l.Filter,{className:"h-4 w-4 sm:h-4 sm:w-4"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm",children:"فیلترها"})]})}),(0,t.jsxs)(eh.SheetContent,{side:"bottom",className:"h-[85vh] sm:h-[90vh] overflow-y-auto rounded-t-2xl border-t-2 border-border",children:[(0,t.jsx)(eh.SheetHeader,{className:"pb-4 border-b border-border/30",children:(0,t.jsx)(eh.SheetTitle,{className:"text-right",children:(0,t.jsx)("span",{className:"text-lg sm:text-xl font-bold",children:"فیلتر محصولات"})})}),(0,t.jsx)("div",{className:"mt-6 pb-6",children:(0,t.jsx)(ef,{})})]})]}),(0,t.jsx)(i.Button,{variant:2===b?"default":"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10",onClick:()=>y(2),title:"دو ستون",children:(0,t.jsxs)("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"2.5",y:"2.5",width:"9",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"2.5",y:"9.5",width:"9",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"2.5",y:"16.5",width:"9",height:"5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"12.5",y:"2.5",width:"9",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"12.5",y:"9.5",width:"9",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"12.5",y:"16.5",width:"9",height:"5",rx:"1.2",fill:"none"})]})}),(0,t.jsx)(i.Button,{variant:3===b?"default":"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10",onClick:()=>y(3),title:"سه ستون",children:(0,t.jsxs)("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"1.5",y:"2.5",width:"6",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"1.5",y:"9.5",width:"6",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"1.5",y:"16.5",width:"6",height:"5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"9",y:"2.5",width:"6",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"9",y:"9.5",width:"6",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"9",y:"16.5",width:"6",height:"5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"16.5",y:"2.5",width:"6",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"16.5",y:"9.5",width:"6",height:"5.5",rx:"1.2",fill:"none"}),(0,t.jsx)("rect",{x:"16.5",y:"16.5",width:"6",height:"5",rx:"1.2",fill:"none"})]})})]})]}),A&&0===Q.length?(0,t.jsx)("div",{className:`grid ${2===b?"grid-cols-2":"grid-cols-3"} gap-1 sm:gap-1.5 md:gap-2 w-full max-w-full overflow-x-hidden`,children:Array.from({length:6}).map((e,r)=>(0,t.jsx)("div",{className:"animate-pulse",children:(0,t.jsxs)(s.Card,{className:"h-full flex flex-col",children:[(0,t.jsx)(s.CardHeader,{className:"p-0",children:(0,t.jsx)("div",{className:"relative h-32 sm:h-36 md:h-40 lg:h-44 w-full bg-muted rounded-t-lg"})}),(0,t.jsxs)(s.CardContent,{className:"p-2 sm:p-3 md:p-4",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]})]})},r))}):0===Q.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20 px-4",children:[(0,t.jsx)(a.Package,{className:"h-12 w-12 sm:h-16 sm:w-16 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"محصولی یافت نشد"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground text-center mb-6",children:T?"هیچ محصولی با فیلترهای انتخابی یافت نشد":"در حال حاضر محصولی برای نمایش وجود ندارد"}),(0,t.jsx)("div",{className:"flex justify-center w-full max-w-md",children:(0,t.jsx)(u.default,{href:"/chat",className:"w-full sm:w-auto",children:(0,t.jsxs)(i.Button,{variant:"default",className:"w-full sm:w-auto h-11 sm:h-12 px-6 sm:px-8 text-sm sm:text-base",children:[(0,t.jsx)(c.ShoppingBag,{className:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),"ثبت سفارش مستقیم"]})})}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground text-center mt-4 max-w-md",children:"می‌توانید قطعه درخواستی خود را برای ما ارسال کنید تا برایتان تهیه و ارسال کنیم"})]}):(0,t.jsx)("div",{className:`grid ${2===b?"grid-cols-2":"grid-cols-3"} gap-1 sm:gap-1.5 md:gap-2 w-full max-w-full overflow-x-hidden`,children:Q.map(e=>{let r;return(0,t.jsx)(u.default,{href:`/products/${e.id}`,children:(0,t.jsxs)(s.Card,{className:"flex flex-col border border-border/30 hover:border-border/50 hover:shadow-lg transition-all active:scale-95 relative overflow-hidden cursor-pointer h-full",children:[(0,t.jsx)(s.CardHeader,{className:"p-0 relative",children:(0,t.jsxs)("div",{className:"relative h-32 sm:h-36 md:h-40 lg:h-44 w-full bg-muted rounded-t-lg overflow-hidden",children:[(0,t.jsx)(d.SafeImage,{src:Array.isArray(e.images)&&e.images.length>0?e.images[0]:null,alt:`${e.name}${e.brand?` - برند ${e.brand}`:""}${e.category?` - دسته‌بندی ${e.category}`:""}`,fill:!0,className:"w-full h-full",priority:!0,loading:"eager",sizes:2===b?"(max-width: 640px) 50vw, (max-width: 768px) 50vw, (max-width: 1024px) 50vw, 50vw":"(max-width: 640px) 33vw, (max-width: 768px) 33vw, (max-width: 1024px) 33vw, 33vw",productId:e.id}),e.originalPrice&&e.originalPrice>e.price&&(0,t.jsxs)("div",{className:"absolute top-1 right-1 sm:top-1.5 sm:right-1.5 bg-red-500 text-white text-[10px] sm:text-xs font-bold px-1.5 sm:px-2 py-0.5 sm:py-1 rounded shadow-sm z-10",children:[Math.round((e.originalPrice-e.price)/e.originalPrice*100),"%"]})]})}),(0,t.jsxs)(s.CardContent,{className:"flex-1 p-2 sm:p-3 md:p-4",children:[(0,t.jsx)("h3",{className:"font-medium mb-1.5 sm:mb-2 hover:text-primary transition-colors line-clamp-2 text-xs sm:text-sm md:text-base leading-snug",children:e.name}),e.vehicle&&((r=P.get(e.vehicle)||S(e.vehicle))?(0,t.jsxs)("div",{className:"flex items-center gap-1 mb-0.5 sm:mb-1 text-[8px] sm:text-[9px] text-muted-foreground line-clamp-1",children:[(0,t.jsx)(em.VehicleLogo,{logo:r.logo,alt:r.name,size:"sm",fallbackIcon:!1,className:"flex-shrink-0"}),(0,t.jsx)("span",{className:"font-medium truncate",children:r.name}),e.model&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-[7px]",children:"•"}),(0,t.jsx)("span",{className:"truncate",children:e.model})]})]}):null),(0,t.jsxs)("div",{className:"flex flex-col gap-1 sm:gap-1.5",children:[(0,t.jsxs)("span",{className:"text-xs sm:text-sm md:text-base font-bold text-primary",children:[e.price.toLocaleString("fa-IR")," ",(0,t.jsx)("span",{className:"text-[10px] sm:text-xs",children:"تومان"})]}),e.originalPrice&&e.originalPrice>e.price&&(0,t.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground line-through",children:e.originalPrice.toLocaleString("fa-IR")})]})]})]})},e.id)})}),_>1&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2 mt-6 sm:mt-8 px-2",children:[(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===e||A,children:[(0,t.jsx)(n.ChevronRight,{className:"h-4 w-4 ml-1"}),"قبلی"]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,_)},(r,s)=>{let a;return a=_<=5||e<=3?s+1:e>=_-2?_-4+s:e-2+s,(0,t.jsx)(i.Button,{variant:e===a?"default":"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm min-w-[2.5rem]",onClick:()=>x(a),disabled:A,children:a},a)})}),(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>x(e=>Math.min(_,e+1)),disabled:e===_||A,children:["بعدی",(0,t.jsx)(o.ChevronLeft,{className:"h-4 w-4 mr-1"})]})]})]})]})}e.s(["ProductGrid",()=>ep],75516)}]);