(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43432,e=>{"use strict";let t=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],43432)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(47163);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border-[0.25px] border-border/3 bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let i=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let n=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("h3",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("p",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},36361,e=>{"use strict";var t=e.i(6344),r=e.i(73493);let s={},a=(0,t.create)((e,t)=>({products:[],filters:s,setProducts:t=>e({products:t}),addProduct:t=>e(e=>{let r=e.products.findIndex(e=>e.id===t.id);if(r>=0){let s=[...e.products];return s[r]=t,{products:s}}return{products:[...e.products,t]}}),updateProduct:t=>e(e=>{let r=e.products.findIndex(e=>e.id===t.id);if(r>=0){let s=[...e.products];return s[r]=t,{products:s}}return e}),removeProduct:t=>e(e=>({products:e.products.filter(e=>e.id!==t)})),getProduct:e=>t().products.find(t=>t.id===e),getEnabledProducts:()=>t().products.filter(e=>e.enabled),getFilteredProducts:()=>{let{products:e,filters:r}=t(),s=e.filter(e=>e.enabled);if(r.search){let e=r.search.toLowerCase();s=s.filter(t=>t.name.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)||t.brand?.toLowerCase().includes(e))}return void 0!==r.minPrice&&(s=s.filter(e=>e.price>=r.minPrice)),void 0!==r.maxPrice&&(s=s.filter(e=>e.price<=r.maxPrice)),r.brands&&r.brands.length>0&&(s=s.filter(e=>e.brand&&r.brands.includes(e.brand))),r.categories&&r.categories.length>0&&(s=s.filter(e=>e.category&&r.categories.includes(e.category))),void 0!==r.inStock&&(s=s.filter(e=>e.inStock===r.inStock)),s},setFilters:t=>e(e=>({filters:{...e.filters,...t}})),clearFilters:()=>e({filters:s}),createProduct:async e=>{let r=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||"خطا در ایجاد محصول");let s=(await r.json()).data;return t().addProduct(s),s},updateProductInDB:async(e,r)=>{let s=await fetch(`/api/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"خطا در به‌روزرسانی محصول");let a=(await s.json()).data;return t().updateProduct(a),a},deleteProductFromDB:async e=>{let r=await fetch(`/api/products/${e}`,{method:"DELETE"});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||"خطا در حذف محصول");t().removeProduct(e)},loadProductsFromDB:async(e=!1)=>{try{let r=await fetch(e?"/api/products?limit=1000&all=true":"/api/products?limit=1000");if(!r.ok){let e=await r.json().catch(()=>({})),t=e.error||e.message||"خطا در بارگذاری محصولات";throw Error(t)}let s=((await r.json()).data||[]).map(e=>({...e,createdAt:e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),updatedAt:e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}));t().setProducts(s)}catch(e){r.logger.error("Error loading products from DB:",e)}},deleteProduct:async e=>{await t().deleteProductFromDB(e)},deleteProducts:async e=>{await Promise.all(e.map(e=>t().deleteProductFromDB(e)))},toggleProduct:async e=>{let r=t().getProduct(e);r&&await t().updateProductInDB(e,{enabled:!r.enabled})},toggleProducts:async(e,r)=>{await Promise.all(e.map(e=>t().updateProductInDB(e,{enabled:r})))}}));e.s(["useProductStore",0,a])},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},35804,e=>{"use strict";var t=e.i(71645),r=e.i(34620);function s(e){let[s,a]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;a({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),s}e.s(["useSize",()=>s])},86318,e=>{"use strict";var t=e.i(71645);e.i(43476);var r=t.createContext(void 0);function s(e){let s=t.useContext(r);return e||s||"ltr"}e.s(["useDirection",()=>s])},75830,e=>{"use strict";var t=e.i(71645),r=e.i(30030),s=e.i(20783),a=e.i(43476);function i(e){var r;let i,n=(r=e,(i=t.forwardRef((e,r)=>{let{children:a,...i}=e;if(t.isValidElement(a)){var n;let e,l,o=(n=a,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),c=function(e,t){let r={...t};for(let s in t){let a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...e)=>{let t=i(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...i}:"className"===s&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}(i,a.props);return a.type!==t.Fragment&&(c.ref=r?(0,s.composeRefs)(r,o):o),t.cloneElement(a,c)}return t.Children.count(a)>1?t.Children.only(null):null})).displayName=`${r}.SlotClone`,i),o=t.forwardRef((e,r)=>{let{children:s,...i}=e,o=t.Children.toArray(s),c=o.find(l);if(c){let e=c.props.children,s=o.map(r=>r!==c?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(n,{...i,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,s):null})}return(0,a.jsx)(n,{...i,ref:r,children:s})});return o.displayName=`${e}.Slot`,o}var n=Symbol("radix.slottable");function l(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===n}function o(e){let n=e+"CollectionProvider",[l,o]=(0,r.createContextScope)(n),[c,d]=l(n,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:r,children:s}=e,i=t.default.useRef(null),n=t.default.useRef(new Map).current;return(0,a.jsx)(c,{scope:r,itemMap:n,collectionRef:i,children:s})};u.displayName=n;let h=e+"CollectionSlot",f=i(h),m=t.default.forwardRef((e,t)=>{let{scope:r,children:i}=e,n=d(h,r),l=(0,s.useComposedRefs)(t,n.collectionRef);return(0,a.jsx)(f,{ref:l,children:i})});m.displayName=h;let p=e+"CollectionItemSlot",x="data-radix-collection-item",g=i(p),y=t.default.forwardRef((e,r)=>{let{scope:i,children:n,...l}=e,o=t.default.useRef(null),c=(0,s.useComposedRefs)(r,o),u=d(p,i);return t.default.useEffect(()=>(u.itemMap.set(o,{ref:o,...l}),()=>void u.itemMap.delete(o))),(0,a.jsx)(g,{...{[x]:""},ref:c,children:n})});return y.displayName=p,[{Provider:u,Slot:m,ItemSlot:y},function(r){let s=d(e+"CollectionConsumer",r);return t.default.useCallback(()=>{let e=s.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${x}]`));return Array.from(s.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[s.collectionRef,s.itemMap])},o]}var c=new WeakMap;function d(e,t){var r,s;let a,i,n;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let l=(r=e,s=t,a=r.length,(n=(i=u(s))>=0?i:a+i)<0||n>=a?-1:n);return -1===l?void 0:e[l]}function u(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],c.set(this,!0)}set(e,t){return c.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let s,a=this.has(t),i=this.#e.length,n=u(e),l=n>=0?n:i+n,o=l<0||l>=i?-1:l;if(o===this.size||a&&o===this.size-1||-1===o)return this.set(t,r),this;let c=this.size+ +!a;n<0&&l++;let d=[...this.#e],h=!1;for(let e=l;e<c;e++)if(l===e){let i=d[e];d[e]===t&&(i=d[e+1]),a&&this.delete(t),s=this.get(i),this.set(t,r)}else{h||d[e-1]!==t||(h=!0);let r=d[h?e:e-1],a=s;s=this.get(r),this.delete(r),this.set(r,a)}return this}with(t,r,s){let a=new e(this);return a.insert(t,r,s),a}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let s=this.#e.indexOf(e);return -1===s?this:this.insert(s,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let s=this.#e.indexOf(e);return -1===s?this:this.insert(s+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=d(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=d(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return d(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.at(s)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.keyAt(s)}find(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return s;r++}}findIndex(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return r;r++}return -1}filter(t,r){let s=[],a=0;for(let e of this)Reflect.apply(t,r,[e,a,this])&&s.push(e),a++;return new e(s)}map(t,r){let s=[],a=0;for(let e of this)s.push([e[0],Reflect.apply(t,r,[e,a,this])]),a++;return new e(s)}reduce(...e){let[t,r]=e,s=0,a=r??this.at(0);for(let r of this)a=0===s&&1===e.length?r:Reflect.apply(t,this,[a,r,s,this]),s++;return a}reduceRight(...e){let[t,r]=e,s=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let a=this.at(r);s=r===this.size-1&&1===e.length?a:Reflect.apply(t,this,[s,a,r,this])}return s}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),s=this.get(r);t.set(r,s)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let s=new e,a=this.size-1;if(void 0===t)return s;t<0&&(t+=this.size),void 0!==r&&r>0&&(a=r-1);for(let e=t;e<=a;e++){let t=this.keyAt(e),r=this.get(t);s.set(t,r)}return s}every(e,t){let r=0;for(let s of this){if(!Reflect.apply(e,t,[s,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return!0;r++}return!1}}),e.s(["createCollection",()=>o],75830)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},70152,e=>{"use strict";function t(e,[t,r]){return Math.min(r,Math.max(t,e))}e.s(["clamp",()=>t])},17513,e=>{"use strict";var t=e.i(6344),r=e.i(73493);let s=(0,t.create)((e,t)=>({categories:[],setCategories:t=>e({categories:t}),addCategory:t=>e(e=>{let r=e.categories.findIndex(e=>e.id===t.id);if(r>=0){let s=[...e.categories];return s[r]=t,{categories:s}}return{categories:[...e.categories,t]}}),updateCategory:t=>e(e=>{let r=e.categories.findIndex(e=>e.id===t.id);if(r>=0){let s=[...e.categories];return s[r]=t,{categories:s}}return e}),deleteCategory:t=>e(e=>({categories:e.categories.filter(e=>e.id!==t)})),toggleCategory:t=>e(e=>({categories:e.categories.map(e=>e.id===t?{...e,isActive:!e.isActive}:e)})),getCategory:e=>t().categories.find(t=>t.id===e),getActiveCategories:()=>t().categories.filter(e=>e.isActive&&e.enabled),getEnabledCategories:()=>t().categories.filter(e=>e.enabled),loadCategoriesFromDB:async(e=!1)=>{try{let r=await fetch(e?"/api/categories?all=true":"/api/categories");if(!r.ok)throw Error("خطا در بارگذاری دسته‌بندی‌ها");let s=(await r.json()).data||[];t().setCategories(s)}catch(e){r.logger.error("Error loading categories from DB:",e)}}}));e.s(["useCategoryStore",0,s])},10708,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var s=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,s.createSlot)(`Primitive.${a}`),n=r.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?i:a,{...n,ref:r})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),i=r.forwardRef((e,r)=>(0,t.jsx)(a.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=e.i(25913),l=e.i(47163);let o=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i,{ref:s,className:(0,l.cn)(o(),e),...r}));c.displayName=i.displayName,e.s(["Label",()=>c],10708)},97548,e=>{"use strict";let t=(0,e.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>t],97548)},73375,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},69035,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var s=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,s.createSlot)(`Primitive.${a}`),n=r.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?i:a,{...n,ref:r})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),i="horizontal",n=["horizontal","vertical"],l=r.forwardRef((e,r)=>{var s;let{decorative:l,orientation:o=i,...c}=e,d=(s=o,n.includes(s))?o:i;return(0,t.jsx)(a.div,{"data-orientation":d,...l?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:r})});l.displayName="Separator";var o=e.i(47163);let c=r.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...a},i)=>(0,t.jsx)(l,{ref:i,decorative:s,orientation:r,className:(0,o.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...a}));c.displayName=l.displayName,e.s(["Separator",()=>c],69035)},25959,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(20783),a=e.i(30030),i=e.i(81140),n=e.i(69340),l=e.i(99682),o=e.i(35804),c=e.i(96626),d=e.i(48425),u="Checkbox",[h,f]=(0,a.createContextScope)(u),[m,p]=h(u);function x(e){let{__scopeCheckbox:s,checked:a,children:i,defaultChecked:l,disabled:o,form:c,name:d,onCheckedChange:h,required:f,value:p="on",internal_do_not_use_render:x}=e,[g,y]=(0,n.useControllableState)({prop:a,defaultProp:l??!1,onChange:h,caller:u}),[v,b]=r.useState(null),[j,w]=r.useState(null),N=r.useRef(!1),R=!v||!!c||!!v.closest("form"),S={checked:g,disabled:o,setChecked:y,control:v,setControl:b,name:d,form:c,value:p,hasConsumerStoppedPropagationRef:N,required:f,defaultChecked:!k(l)&&l,isFormControl:R,bubbleInput:j,setBubbleInput:w};return(0,t.jsx)(m,{scope:s,...S,children:"function"==typeof x?x(S):i})}var g="CheckboxTrigger",y=r.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:n,...l},o)=>{let{control:c,value:u,disabled:h,checked:f,required:m,setControl:x,setChecked:y,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:j}=p(g,e),w=(0,s.useComposedRefs)(o,x),N=r.useRef(f);return r.useEffect(()=>{let e=c?.form;if(e){let t=()=>y(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,y]),(0,t.jsx)(d.Primitive.button,{type:"button",role:"checkbox","aria-checked":k(f)?"mixed":f,"aria-required":m,"data-state":R(f),"data-disabled":h?"":void 0,disabled:h,value:u,...l,ref:w,onKeyDown:(0,i.composeEventHandlers)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(n,e=>{y(e=>!!k(e)||!e),j&&b&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});y.displayName=g;var v=r.forwardRef((e,r)=>{let{__scopeCheckbox:s,name:a,checked:i,defaultChecked:n,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...h}=e;return(0,t.jsx)(x,{__scopeCheckbox:s,checked:i,defaultChecked:n,disabled:o,required:l,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y,{...h,ref:r,__scopeCheckbox:s}),e&&(0,t.jsx)(N,{__scopeCheckbox:s})]})})});v.displayName=u;var b="CheckboxIndicator",j=r.forwardRef((e,r)=>{let{__scopeCheckbox:s,forceMount:a,...i}=e,n=p(b,s);return(0,t.jsx)(c.Presence,{present:a||k(n.checked)||!0===n.checked,children:(0,t.jsx)(d.Primitive.span,{"data-state":R(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});j.displayName=b;var w="CheckboxBubbleInput",N=r.forwardRef(({__scopeCheckbox:e,...a},i)=>{let{control:n,hasConsumerStoppedPropagationRef:c,checked:u,defaultChecked:h,required:f,disabled:m,name:x,value:g,form:y,bubbleInput:v,setBubbleInput:b}=p(w,e),j=(0,s.useComposedRefs)(i,b),N=(0,l.usePrevious)(u),R=(0,o.useSize)(n);r.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!c.current;if(N!==u&&e){let r=new Event("click",{bubbles:t});v.indeterminate=k(u),e.call(v,!k(u)&&u),v.dispatchEvent(r)}},[v,N,u,c]);let S=r.useRef(!k(u)&&u);return(0,t.jsx)(d.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??S.current,required:f,disabled:m,name:x,value:g,form:y,...a,tabIndex:-1,ref:j,style:{...a.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function k(e){return"indeterminate"===e}function R(e){return k(e)?"indeterminate":e?"checked":"unchecked"}N.displayName=w;var S=e.i(43531),C=e.i(47163);let P=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(v,{ref:s,className:(0,C.cn)("peer h-4 w-4 shrink-0 rounded-sm border-[0.25px] border-primary/30 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:(0,t.jsx)(j,{className:(0,C.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(S.Check,{className:"h-4 w-4"})})}));P.displayName=v.displayName,e.s(["Checkbox",()=>P],25959)},39616,e=>{"use strict";let t=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},92161,e=>{"use strict";let t=(0,e.i(75254).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);e.s(["Menu",()=>t],92161)},5125,95116,83086,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["Car",()=>r],5125);let s=(0,t.default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);e.s(["Wrench",()=>s],95116);let a=(0,t.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>a],83086)},49786,e=>{"use strict";var t=e.i(43476),r=e.i(22016),s=e.i(55436),a=e.i(1928),i=e.i(84614),n=e.i(92161),l=e.i(37727),o=e.i(67881),c=e.i(23750),d=e.i(18566),u=e.i(47163),h=e.i(5125),f=e.i(95116),m=e.i(83086),p=e.i(39616);let x=[{name:"خانه",href:"/",icon:h.Car},{name:"محصولات",href:"/products",icon:f.Wrench},{name:"دسته‌بندی‌ها",href:"/categories",icon:m.Sparkles},{name:"خدمات",href:"/services",icon:p.Settings}];function g({mobile:e=!1,onNavigate:s}){let a=(0,d.usePathname)();return e?(0,t.jsx)("nav",{className:"flex flex-col space-y-2",children:x.map(e=>{let i=e.icon,n=a===e.href;return(0,t.jsxs)(r.default,{href:e.href,onClick:s,className:(0,u.cn)("flex items-center space-x-3 space-x-reverse px-4 py-3 rounded-lg text-base font-medium transition-colors",n?"bg-primary text-primary-foreground":"text-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(i,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:e.name})]},e.href)})}):(0,t.jsx)("nav",{className:"hidden lg:flex items-center space-x-1 space-x-reverse",children:x.map(e=>{let s=e.icon,i=a===e.href;return(0,t.jsxs)(r.default,{href:e.href,className:(0,u.cn)("flex items-center space-x-2 space-x-reverse px-3 xl:px-4 py-2 rounded-md text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden xl:inline",children:e.name})]},e.href)})})}var y=e.i(61180),v=e.i(71645),b=e.i(75254);let j=(0,b.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),w=(0,b.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var N=e.i(63178);function k(){let{theme:e,setTheme:r,resolvedTheme:s}=(0,N.useTheme)(),[a,i]=v.useState(!1);if(v.useEffect(()=>{i(!0)},[]),!a)return(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[(0,t.jsx)(w,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"تغییر تم"})]});let n="dark"===s||"dark"===e;return(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 relative",onClick:()=>{r("dark"===(s||("system"===e?"light":e))?"light":"dark")},type:"button",children:[(0,t.jsx)(w,{className:`h-5 w-5 absolute transition-all duration-300 ${n?"rotate-90 scale-0 opacity-0":"rotate-0 scale-100 opacity-100"}`}),(0,t.jsx)(j,{className:`h-5 w-5 absolute transition-all duration-300 ${n?"rotate-0 scale-100 opacity-100":"-rotate-90 scale-0 opacity-0"}`}),(0,t.jsx)("span",{className:"sr-only",children:"تغییر تم"})]})}var R=e.i(52917);function S(){let[e,d]=(0,v.useState)(""),[u,h]=(0,v.useState)(!1),[f,m]=(0,v.useState)(!1),[p,x]=(0,v.useState)(!1),{getItemCount:b,initializeSession:j,loadFromDatabase:w,items:N}=(0,y.useCartStore)(),S=N.reduce((e,t)=>e+t.quantity,0);return(0,v.useEffect)(()=>{x(!0),(async()=>{try{j(),await w()}catch(e){console.error("Error initializing cart in header:",e)}})()},[j,w]),(0,t.jsxs)("header",{className:"sticky top-0 z-50 w-full border-b-[0.25px] border-border/30 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[(0,t.jsxs)("div",{className:"container flex h-14 sm:h-16 items-center justify-between px-3 sm:px-4",children:[(0,t.jsx)(r.default,{href:"/",className:"flex items-center space-x-1.5 space-x-reverse min-w-0 flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-primary leading-tight",children:"ساد"}),(0,t.jsx)("span",{className:"hidden sm:block text-[10px] sm:text-xs text-muted-foreground leading-tight",children:"قطعات خودرو وارداتی"})]})}),(0,t.jsx)("div",{className:"hidden lg:block",children:(0,t.jsx)(g,{})}),(0,t.jsx)("div",{className:"hidden lg:flex flex-1 max-w-xl mx-8",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(s.Search,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(c.Input,{type:"search",placeholder:"جستجوی قطعه، برند یا شماره VIN...",value:e,onChange:e=>d(e.target.value),className:"pr-10 w-full h-9"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 space-x-reverse flex-shrink-0",children:[(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9",onClick:()=>m(!f),children:[(0,t.jsx)(s.Search,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"جستجو"})]}),(0,t.jsx)(k,{}),(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"hidden md:flex h-9 w-9",children:[(0,t.jsx)(i.User,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"حساب کاربری"})]}),(0,t.jsx)(r.default,{href:"/cart","aria-label":p?`سبد خرید با ${S} آیتم`:"سبد خرید",children:(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"relative h-9 w-9","aria-label":p&&S>0?`سبد خرید (${S} آیتم)`:"سبد خرید",children:[(0,t.jsx)(a.ShoppingCart,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"سبد خرید"}),p&&S>0&&(0,t.jsx)("span",{className:"absolute -top-0.5 -left-0.5 h-4 w-4 sm:h-5 sm:w-5 rounded-full bg-secondary text-secondary-foreground text-[10px] sm:text-xs font-bold flex items-center justify-center","aria-label":`${S} آیتم در سبد خرید`,children:S>99?"99+":S})]})}),(0,t.jsxs)(R.Sheet,{open:u,onOpenChange:h,children:[(0,t.jsx)(R.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9",children:[(0,t.jsx)(n.Menu,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"منو"})]})}),(0,t.jsxs)(R.SheetContent,{side:"right",className:"w-[280px] sm:w-[320px]",children:[(0,t.jsx)(R.SheetHeader,{children:(0,t.jsx)(R.SheetTitle,{children:"منو"})}),(0,t.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,t.jsx)(g,{mobile:!0,onNavigate:()=>h(!1)}),(0,t.jsxs)("div",{className:"pt-4 border-t-[0.25px] border-border/30 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"تم"}),(0,t.jsx)(k,{})]}),(0,t.jsx)(r.default,{href:"/profile",children:(0,t.jsxs)(o.Button,{variant:"ghost",className:"w-full justify-start",onClick:()=>h(!1),children:[(0,t.jsx)(i.User,{className:"h-4 w-4 ml-2"}),"حساب کاربری"]})})]})]})]})]})]})]}),f&&(0,t.jsx)("div",{className:"lg:hidden border-t-[0.25px] border-border/30 px-3 py-2 bg-background animate-in slide-in-from-top",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.Search,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(c.Input,{type:"search",placeholder:"جستجو...",value:e,onChange:e=>d(e.target.value),className:"pr-10 h-9",autoFocus:!0}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7",onClick:()=>m(!1),children:(0,t.jsx)(l.X,{className:"h-4 w-4"})})]})})]})}e.s(["Header",()=>S],49786)},4967,e=>{"use strict";function t(e=600,r=600){let s=encodeURIComponent(`${e}x${r}`);return`https://placehold.co/${e}x${r}/f3f4f6/9ca3af?text=${s}`}e.s(["getPlaceholderImage",()=>t])},15057,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);e.s(["ArrowUpRight",()=>t],15057)},66027,e=>{"use strict";let t;var r=e.i(75555),s=e.i(40143),a=e.i(86491),i=e.i(15823),n=e.i(93803),l=e.i(19273),o=e.i(80166),c=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#t=e,this.#r=null,this.#s=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#t;#a=void 0;#i=void 0;#n=void 0;#l;#o;#s;#r;#c;#d;#u;#h;#f;#m;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#a.addObserver(this),d(this.#a,this.options)?this.#x():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#a,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#a,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#v(),this.#a.removeObserver(this)}setOptions(e){let t=this.options,r=this.#a;if(this.options=this.#t.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#a))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#a.setOptions(this.options),t._defaulted&&!(0,l.shallowEqualObjects)(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#a,observer:this});let s=this.hasListeners();s&&h(this.#a,r,this.options,t)&&this.#x(),this.updateResult(),s&&(this.#a!==r||(0,l.resolveEnabled)(this.options.enabled,this.#a)!==(0,l.resolveEnabled)(t.enabled,this.#a)||(0,l.resolveStaleTime)(this.options.staleTime,this.#a)!==(0,l.resolveStaleTime)(t.staleTime,this.#a))&&this.#j();let a=this.#w();s&&(this.#a!==r||(0,l.resolveEnabled)(this.options.enabled,this.#a)!==(0,l.resolveEnabled)(t.enabled,this.#a)||a!==this.#m)&&this.#N(a)}getOptimisticResult(e){var t,r;let s=this.#t.getQueryCache().build(this.#t,e),a=this.createResult(s,e);return t=this,r=a,(0,l.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#n=a,this.#o=this.options,this.#l=this.#a.state),a}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#s.status||this.#s.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#a}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#x({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#x(e){this.#b();let t=this.#a.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#j(){this.#y();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#a);if(l.isServer||this.#n.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#n.dataUpdatedAt,e);this.#h=o.timeoutManager.setTimeout(()=>{this.#n.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#a):this.options.refetchInterval)??!1}#N(e){this.#v(),this.#m=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#a)&&(0,l.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#f=o.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#x()},this.#m))}#g(){this.#j(),this.#N(this.#w())}#y(){this.#h&&(o.timeoutManager.clearTimeout(this.#h),this.#h=void 0)}#v(){this.#f&&(o.timeoutManager.clearInterval(this.#f),this.#f=void 0)}createResult(e,t){let r,s=this.#a,i=this.options,o=this.#n,c=this.#l,u=this.#o,m=e!==s?e.state:this.#i,{state:p}=e,x={...p},g=!1;if(t._optimisticResults){let r=this.hasListeners(),n=!r&&d(e,t),l=r&&h(e,s,t,i);(n||l)&&(x={...x,...(0,a.fetchState)(p.data,e.options)}),"isRestoring"===t._optimisticResults&&(x.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:b}=x;r=x.data;let j=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===b){let e;o?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=o.data,j=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,void 0!==e&&(b="success",r=(0,l.replaceData)(o?.data,e,t),g=!0)}if(t.select&&void 0!==r&&!j)if(o&&r===c?.data&&t.select===this.#c)r=this.#d;else try{this.#c=t.select,r=t.select(r),r=(0,l.replaceData)(o?.data,r,t),this.#d=r,this.#r=null}catch(e){this.#r=e}this.#r&&(y=this.#r,r=this.#d,v=Date.now(),b="error");let w="fetching"===x.fetchStatus,N="pending"===b,k="error"===b,R=N&&w,S=void 0!==r,C={status:b,fetchStatus:x.fetchStatus,isPending:N,isSuccess:"success"===b,isError:k,isInitialLoading:R,isLoading:R,data:r,dataUpdatedAt:x.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>m.dataUpdateCount||x.errorUpdateCount>m.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:k&&!S,isPaused:"paused"===x.fetchStatus,isPlaceholderData:g,isRefetchError:k&&S,isStale:f(e,t),refetch:this.refetch,promise:this.#s,isEnabled:!1!==(0,l.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===C.status?e.reject(C.error):void 0!==C.data&&e.resolve(C.data)},r=()=>{t(this.#s=C.promise=(0,n.pendingThenable)())},a=this.#s;switch(a.status){case"pending":e.queryHash===s.queryHash&&t(a);break;case"fulfilled":("error"===C.status||C.data!==a.value)&&r();break;case"rejected":("error"!==C.status||C.error!==a.reason)&&r()}}return C}updateResult(){let e=this.#n,t=this.createResult(this.#a,this.options);if(this.#l=this.#a.state,this.#o=this.options,void 0!==this.#l.data&&(this.#u=this.#a),(0,l.shallowEqualObjects)(t,e))return;this.#n=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(t=>this.#n[t]!==e[t]&&s.has(t))};this.#k({listeners:r()})}#b(){let e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#a)return;let t=this.#a;this.#a=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#k(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#a,type:"observerResultsUpdated"})})}};function d(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&u(e,t,t.refetchOnMount)}function u(e,t,r){if(!1!==(0,l.resolveEnabled)(t.enabled,e)&&"static"!==(0,l.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&f(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,l.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.i(47167);var m=e.i(71645),p=e.i(12598);e.i(43476);var x=m.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),g=m.createContext(!1);g.Provider;var y=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function v(e,t){return function(e,t,r){let a=m.useContext(g),i=m.useContext(x),n=(0,p.useQueryClient)(r),o=n.defaultQueryOptions(e);if(n.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=a?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}(o.suspense||o.throwOnError||o.experimental_prefetchInRender)&&!i.isReset()&&(o.retryOnMount=!1),m.useEffect(()=>{i.clearReset()},[i]);let c=!n.getQueryCache().get(o.queryHash),[d]=m.useState(()=>new t(n,o)),u=d.getOptimisticResult(o),h=!a&&!1!==e.subscribed;if(m.useSyncExternalStore(m.useCallback(e=>{let t=h?d.subscribe(s.notifyManager.batchCalls(e)):l.noop;return d.updateResult(),t},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),m.useEffect(()=>{d.setOptions(o)},[o,d]),o?.suspense&&u.isPending)throw y(o,d,i);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&void 0===e.data||(0,l.shouldThrowError)(r,[e.error,s])))({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!l.isServer&&u.isLoading&&u.isFetching&&!a){let e=c?y(o,d,i):n.getQueryCache().get(o.queryHash)?.promise;e?.catch(l.noop).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}(e,c,t)}e.s(["useQuery",()=>v],66027)},68983,e=>{"use strict";var t=e.i(66027);async function r(e,t=1,s=50){try{let r=new URL("/api/products",window.location.origin);if(e){let r=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:e,page:t,limit:s}),cache:"no-store"});if(!r.ok)throw Error(`Failed to fetch products: ${r.statusText}`);let a=await r.json();if(!a.success||!a.data)throw console.error("API Error:",a.error||"Failed to fetch products",a),Error(a.error||"Failed to fetch products");let i=a.data.map(e=>{let t,r;try{t=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),r=e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}catch(e){t=new Date,r=new Date}return{...e,images:Array.isArray(e.images)?e.images:[],tags:Array.isArray(e.tags)?e.tags:[],specifications:e.specifications||{},createdAt:t,updatedAt:r}});return{products:i,pagination:a.pagination||{page:1,limit:i.length,total:i.length,totalPages:1}}}{r.searchParams.set("page",t.toString()),r.searchParams.set("limit",s.toString());let e=await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error(`Failed to fetch products: ${e.statusText}`);let a=await e.json();if(!a.success||!a.data)throw console.error("API Error:",a.error||"Failed to fetch products",a),Error(a.error||"Failed to fetch products");let i=a.data.map(e=>{let t,r;try{t=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),r=e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}catch(e){t=new Date,r=new Date}return{...e,images:Array.isArray(e.images)?e.images:[],tags:Array.isArray(e.tags)?e.tags:[],specifications:e.specifications||{},createdAt:t,updatedAt:r}});return{products:i,pagination:a.pagination||{page:1,limit:i.length,total:i.length,totalPages:1}}}}catch(e){return console.error("Error fetching products:",e),(e.message?.includes("Service Unavailable")||e.message?.includes("503"))&&console.warn("⚠️ Database service unavailable - returning empty products"),{products:[],pagination:{page:1,limit:0,total:0,totalPages:0}}}}function s(e,a=1,i=50){let n=(0,t.useQuery)({queryKey:["products",e,a,i],queryFn:()=>r(e,a,i),staleTime:12e4,gcTime:6e5,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,throwOnError:!1});return{data:n.data?.products||[],pagination:n.data?.pagination||{page:1,limit:0,total:0,totalPages:0},isLoading:n.isLoading,isError:n.isError,error:n.error}}e.s(["useProducts",()=>s])},63570,e=>{"use strict";var t=e.i(43476),r=e.i(49786),s=e.i(22016),a=e.i(75254);let i=(0,a.default)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),n=(0,a.default)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),l=(0,a.default)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);var o=e.i(63488),c=e.i(43432);function d(){return(0,t.jsx)("footer",{className:"border-t-[0.25px] border-border/30 bg-background",children:(0,t.jsxs)("div",{className:"container py-12",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"درباره ساد"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"فروشگاه آنلاین قطعات خودرو وارداتی با بهترین کیفیت و قیمت. ما متعهد به ارائه بهترین خدمات به مشتریان خود هستیم."}),(0,t.jsxs)("div",{className:"flex space-x-2 space-x-reverse",children:[(0,t.jsx)(s.default,{href:"#",className:"p-2 rounded-full border-[0.25px] border-border/30 hover:bg-foreground hover:text-background transition-colors text-foreground",children:(0,t.jsx)(n,{className:"h-5 w-5"})}),(0,t.jsx)(s.default,{href:"#",className:"p-2 rounded-full border-[0.25px] border-border/30 hover:bg-foreground hover:text-background transition-colors text-foreground",children:(0,t.jsx)(i,{className:"h-5 w-5"})}),(0,t.jsx)(s.default,{href:"#",className:"p-2 rounded-full border-[0.25px] border-border/30 hover:bg-foreground hover:text-background transition-colors text-foreground",children:(0,t.jsx)(l,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"دسترسی سریع"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{href:"/products",className:"text-muted-foreground hover:text-foreground transition-colors",children:"محصولات"})}),(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{href:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"درباره ما"})}),(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{href:"/contact",className:"text-muted-foreground hover:text-foreground transition-colors",children:"تماس با ما"})}),(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{href:"/blog",className:"text-muted-foreground hover:text-foreground transition-colors",children:"وبلاگ"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"پشتیبانی"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{href:"/faq",className:"text-muted-foreground hover:text-foreground transition-colors",children:"سوالات متداول"})}),(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{href:"/shipping",className:"text-muted-foreground hover:text-foreground transition-colors",children:"ارسال و تحویل"})}),(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{href:"/returns",className:"text-muted-foreground hover:text-foreground transition-colors",children:"بازگشت کالا"})}),(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{href:"/warranty",className:"text-muted-foreground hover:text-foreground transition-colors",children:"گارانتی"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"تماس با ما"}),(0,t.jsxs)("ul",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("li",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(c.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"021-12345678"})]}),(0,t.jsxs)("li",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(o.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"info@saded.ir"})]})]})]})]}),(0,t.jsx)("div",{className:"mt-8 pt-8 border-t-[0.25px] border-border/30 text-center text-sm text-muted-foreground",children:(0,t.jsxs)("p",{children:["© ",new Date().getFullYear()," ساد. تمامی حقوق محفوظ است."]})})]})})}var u=e.i(71645),h=e.i(70065),f=e.i(67881),m=e.i(23750),p=e.i(10708),x=e.i(70152),g=e.i(81140),y=e.i(20783),v=e.i(30030),b=e.i(69340),j=e.i(86318),w=e.i(99682),N=e.i(35804),k=e.i(48425),R=e.i(75830),S=["PageUp","PageDown"],C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],P={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},E="Slider",[M,A,I]=(0,R.createCollection)(E),[D,T]=(0,v.createContextScope)(E,[I]),[z,O]=D(E),Q=u.forwardRef((e,r)=>{let{name:s,min:a=0,max:i=100,step:n=1,orientation:l="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:h,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:y,...v}=e,j=u.useRef(new Set),w=u.useRef(0),N="horizontal"===l,[k=[],R]=(0,b.useControllableState)({prop:h,defaultProp:d,onChange:e=>{let t=[...j.current];t[w.current]?.focus(),f(e)}}),P=u.useRef(k);function E(e,t,{commit:r}={commit:!1}){let s,l=(String(n).split(".")[1]||"").length,o=Math.round((Math.round((e-a)/n)*n+a)*(s=Math.pow(10,l)))/s,d=(0,x.clamp)(o,[a,i]);R((e=[])=>{let s=function(e=[],t,r){let s=[...e];return s[r]=t,s.sort((e,t)=>e-t)}(e,d,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(s,c*n))return e;{w.current=s.indexOf(d);let t=String(s)!==String(e);return t&&r&&m(s),t?s:e}})}return(0,t.jsx)(z,{scope:e.__scopeSlider,name:s,disabled:o,min:a,max:i,valueIndexToChangeRef:w,thumbs:j.current,values:k,orientation:l,form:y,children:(0,t.jsx)(M.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(M.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(N?B:H,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:r,onPointerDown:(0,g.composeEventHandlers)(v.onPointerDown,()=>{o||(P.current=k)}),min:a,max:i,inverted:p,onSlideStart:o?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),s=Math.min(...r);return r.indexOf(s)}(k,e);E(e,t)},onSlideMove:o?void 0:function(e){E(e,w.current)},onSlideEnd:o?void 0:function(){let e=P.current[w.current];k[w.current]!==e&&m(k)},onHomeKeyDown:()=>!o&&E(a,0,{commit:!0}),onEndKeyDown:()=>!o&&E(i,k.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!o){let r=S.includes(e.key)||e.shiftKey&&C.includes(e.key),s=w.current;E(k[s]+n*(r?10:1)*t,s,{commit:!0})}}})})})})});Q.displayName=E;var[F,L]=D(E,{startEdge:"left",endEdge:"right",size:"width",direction:1}),B=u.forwardRef((e,r)=>{let{min:s,max:a,dir:i,inverted:n,onSlideStart:l,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...h}=e,[f,m]=u.useState(null),p=(0,y.useComposedRefs)(r,e=>m(e)),x=u.useRef(void 0),g=(0,j.useDirection)(i),v="ltr"===g,b=v&&!n||!v&&n;function w(e){let t=x.current||f.getBoundingClientRect(),r=G([0,t.width],b?[s,a]:[a,s]);return x.current=t,r(e-t.left)}return(0,t.jsx)(F,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,t.jsx)($,{dir:g,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=w(e.clientX);l?.(t)},onSlideMove:e=>{let t=w(e.clientX);o?.(t)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:e=>{let t=P[b?"from-left":"from-right"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),H=u.forwardRef((e,r)=>{let{min:s,max:a,inverted:i,onSlideStart:n,onSlideMove:l,onSlideEnd:o,onStepKeyDown:c,...d}=e,h=u.useRef(null),f=(0,y.useComposedRefs)(r,h),m=u.useRef(void 0),p=!i;function x(e){let t=m.current||h.current.getBoundingClientRect(),r=G([0,t.height],p?[a,s]:[s,a]);return m.current=t,r(e-t.top)}return(0,t.jsx)(F,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:(0,t.jsx)($,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=x(e.clientY);n?.(t)},onSlideMove:e=>{let t=x(e.clientY);l?.(t)},onSlideEnd:()=>{m.current=void 0,o?.()},onStepKeyDown:e=>{let t=P[p?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),$=u.forwardRef((e,r)=>{let{__scopeSlider:s,onSlideStart:a,onSlideMove:i,onSlideEnd:n,onHomeKeyDown:l,onEndKeyDown:o,onStepKeyDown:c,...d}=e,u=O(E,s);return(0,t.jsx)(k.Primitive.span,{...d,ref:r,onKeyDown:(0,g.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):S.concat(C).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,g.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():a(e)}),onPointerMove:(0,g.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,g.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),n(e))})})}),_="SliderTrack",U=u.forwardRef((e,r)=>{let{__scopeSlider:s,...a}=e,i=O(_,s);return(0,t.jsx)(k.Primitive.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...a,ref:r})});U.displayName=_;var q="SliderRange",W=u.forwardRef((e,r)=>{let{__scopeSlider:s,...a}=e,i=O(q,s),n=L(q,s),l=u.useRef(null),o=(0,y.useComposedRefs)(r,l),c=i.values.length,d=i.values.map(e=>Y(e,i.min,i.max)),h=c>1?Math.min(...d):0,f=100-Math.max(...d);return(0,t.jsx)(k.Primitive.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...a,ref:o,style:{...e.style,[n.startEdge]:h+"%",[n.endEdge]:f+"%"}})});W.displayName=q;var V="SliderThumb",K=u.forwardRef((e,r)=>{let s=A(e.__scopeSlider),[a,i]=u.useState(null),n=(0,y.useComposedRefs)(r,e=>i(e)),l=u.useMemo(()=>a?s().findIndex(e=>e.ref.current===a):-1,[s,a]);return(0,t.jsx)(X,{...e,ref:n,index:l})}),X=u.forwardRef((e,r)=>{var s,a,i,n,l;let o,c,{__scopeSlider:d,index:h,name:f,...m}=e,p=O(V,d),x=L(V,d),[v,b]=u.useState(null),j=(0,y.useComposedRefs)(r,e=>b(e)),w=!v||p.form||!!v.closest("form"),R=(0,N.useSize)(v),S=p.values[h],C=void 0===S?0:Y(S,p.min,p.max),P=(s=h,(a=p.values.length)>2?`Value ${s+1} of ${a}`:2===a?["Minimum","Maximum"][s]:void 0),E=R?.[x.size],A=E?(i=E,n=C,l=x.direction,c=G([0,50],[0,o=i/2]),(o-c(n)*l)*l):0;return u.useEffect(()=>{if(v)return p.thumbs.add(v),()=>{p.thumbs.delete(v)}},[v,p.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[x.startEdge]:`calc(${C}% + ${A}px)`},children:[(0,t.jsx)(M.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(k.Primitive.span,{role:"slider","aria-label":e["aria-label"]||P,"aria-valuemin":p.min,"aria-valuenow":S,"aria-valuemax":p.max,"aria-orientation":p.orientation,"data-orientation":p.orientation,"data-disabled":p.disabled?"":void 0,tabIndex:p.disabled?void 0:0,...m,ref:j,style:void 0===S?{display:"none"}:e.style,onFocus:(0,g.composeEventHandlers)(e.onFocus,()=>{p.valueIndexToChangeRef.current=h})})}),w&&(0,t.jsx)(J,{name:f??(p.name?p.name+(p.values.length>1?"[]":""):void 0),form:p.form,value:S},h)]})});K.displayName=V;var J=u.forwardRef(({__scopeSlider:e,value:r,...s},a)=>{let i=u.useRef(null),n=(0,y.useComposedRefs)(i,a),l=(0,w.usePrevious)(r);return u.useEffect(()=>{let e=i.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==r&&t){let s=new Event("input",{bubbles:!0});t.call(e,r),e.dispatchEvent(s)}},[l,r]),(0,t.jsx)(k.Primitive.input,{style:{display:"none"},...s,ref:n,defaultValue:r})});function Y(e,t,r){return(0,x.clamp)(100/(r-t)*(e-t),[0,100])}function G(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}J.displayName="RadioBubbleInput";var Z=e.i(47163);let ee=u.forwardRef(({className:e,...r},s)=>(0,t.jsxs)(Q,{ref:s,className:(0,Z.cn)("relative flex w-full touch-none select-none items-center",e),...r,children:[(0,t.jsx)(U,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(W,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(K,{className:"block h-5 w-5 rounded-full border-[0.25px] border-primary/30 bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),(0,t.jsx)(K,{className:"block h-5 w-5 rounded-full border-[0.25px] border-primary/30 bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ee.displayName=Q.displayName;var et=e.i(25959),er=e.i(69035),es=e.i(36361),ea=e.i(17513);function ei(){let{setFilters:e,clearFilters:r,filters:s}=(0,es.useProductStore)(),{getActiveCategories:a,loadCategoriesFromDB:i}=(0,ea.useCategoryStore)(),[n,l]=(0,u.useState)([0,5e7]),[o,c]=(0,u.useState)([]),[d,x]=(0,u.useState)([]),[g,y]=(0,u.useState)(""),[v,b]=(0,u.useState)(void 0),j=(0,u.useRef)(!1),{getEnabledProducts:w}=(0,es.useProductStore)(),N=w(),k=(0,ea.useCategoryStore)(e=>e.getEnabledCategories());(0,u.useEffect)(()=>{(async()=>{try{await i(!0)}catch(e){console.error("Error loading categories:",e)}})()},[i]);let R=(0,u.useMemo)(()=>{let e=new Set;return N.forEach(t=>{t.brand&&e.add(t.brand)}),Array.from(e).sort()},[N]),S=(0,u.useMemo)(()=>{let e=new Set;return N.forEach(t=>{t.category&&e.add(t.category)}),k.forEach(t=>{t.name&&e.add(t.name)}),Array.from(e).sort()},[N,k]);return(0,u.useEffect)(()=>{(void 0!==s.minPrice||void 0!==s.maxPrice)&&l([s.minPrice||0,s.maxPrice||5e7]),s.brands&&c(s.brands),s.categories&&x(s.categories),s.search&&y(s.search),void 0!==s.inStock&&b(s.inStock)},[]),(0,u.useEffect)(()=>{if(j.current)return;let t=setTimeout(()=>{let t={};n[0]>0&&(t.minPrice=n[0]),n[1]<5e7&&(t.maxPrice=n[1]),o.length>0&&(t.brands=o),d.length>0&&(t.categories=d),g.trim()&&(t.search=g.trim()),void 0!==v&&(t.inStock=v),e(t)},150);return()=>clearTimeout(t)},[n,o,d,g,v,e]),(0,t.jsx)("div",{className:"space-y-3 sm:space-y-4",children:(0,t.jsxs)(h.Card,{children:[(0,t.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between p-4 sm:p-6 pb-3 sm:pb-4",children:[(0,t.jsx)(h.CardTitle,{className:"text-base sm:text-lg",children:"فیلترها"}),(0,t.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{l([0,5e7]),c([]),x([]),y(""),b(void 0),r()},className:"text-xs sm:text-sm h-8 sm:h-9",children:"پاک کردن"})]}),(0,t.jsxs)(h.CardContent,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 pt-0",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{className:"text-sm sm:text-base",children:"جستجو"}),(0,t.jsx)(m.Input,{placeholder:"جستجوی محصول...",value:g,onChange:e=>y(e.target.value),className:"text-sm"})]}),(0,t.jsx)(er.Separator,{}),(0,t.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,t.jsx)(p.Label,{className:"text-sm sm:text-base",children:"محدوده قیمت"}),(0,t.jsx)(ee,{value:n,onValueChange:l,max:5e7,min:0,step:1e5,className:"w-full"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[(0,t.jsxs)("span",{children:[n[0].toLocaleString("fa-IR")," تومان"]}),(0,t.jsxs)("span",{children:[n[1].toLocaleString("fa-IR")," تومان"]})]})]}),(0,t.jsx)(er.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,t.jsx)(p.Label,{className:"text-sm sm:text-base",children:"برند"}),(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:R.length>0?R.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(et.Checkbox,{id:e,checked:o.includes(e),onCheckedChange:()=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"h-4 w-4"}),(0,t.jsx)("label",{htmlFor:e,className:"text-xs sm:text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:e})]},e)):(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"برندی یافت نشد"})})]}),(0,t.jsx)(er.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,t.jsx)(p.Label,{className:"text-sm sm:text-base",children:"دسته‌بندی"}),(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:S.length>0?S.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(et.Checkbox,{id:e,checked:d.includes(e),onCheckedChange:()=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"h-4 w-4"}),(0,t.jsx)("label",{htmlFor:e,className:"text-xs sm:text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:e})]},e)):(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"دسته‌بندی‌ای یافت نشد"})})]}),(0,t.jsx)(er.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,t.jsx)(p.Label,{className:"text-sm sm:text-base",children:"وضعیت موجودی"}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(et.Checkbox,{id:"in-stock",checked:!0===v,onCheckedChange:e=>b(!!e||void 0),className:"h-4 w-4"}),(0,t.jsx)("label",{htmlFor:"in-stock",className:"text-xs sm:text-sm font-medium leading-none cursor-pointer",children:"موجود در انبار"})]})})]})]})]})})}var en=e.i(15057);let el=(0,a.default)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),eo=(0,a.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var ec=e.i(88844),ed=e.i(63059),eu=e.i(73375),eh=e.i(97548),ef=e.i(37727),em=e.i(57688),ep=e.i(68983),ex=e.i(4967),eg=e.i(52917);function ey(){return(0,t.jsx)(ei,{})}function ev(){let[e,r]=(0,u.useState)("grid"),[a,i]=(0,u.useState)(1),[n,l]=(0,u.useState)(!1),{getFilteredProducts:o,filters:c,getEnabledProducts:d}=(0,es.useProductStore)(),m=c&&(c.search||void 0!==c.minPrice||void 0!==c.maxPrice||c.brands&&c.brands.length>0||c.categories&&c.categories.length>0||void 0!==c.inStock),{data:p,pagination:x,isLoading:g}=(0,ep.useProducts)(m?c:void 0,a,50),y=(0,u.useMemo)(()=>1!==a||m?[]:d().slice(0,50),[a,m,d]);(0,u.useEffect)(()=>{if(p&&p.length>0){let e=es.useProductStore.getState();p.forEach(t=>{e.getProduct(t.id)||e.addProduct(t)})}},[p]);let v=(0,u.useMemo)(()=>p&&p.length>0?p.filter(e=>e.enabled):g||1!==a||m||!(y.length>0)?[]:y,[p,y,a,m,g]);(0,u.useEffect)(()=>{i(1)},[m?JSON.stringify(c):""]);let b=x?.totalPages||1,j=x?.total||v.length;return g&&0===v.length?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:Array.from({length:10}).map((e,r)=>(0,t.jsx)("div",{className:"animate-pulse",children:(0,t.jsxs)(h.Card,{className:"h-full flex flex-col",children:[(0,t.jsx)(h.CardHeader,{className:"p-0",children:(0,t.jsx)("div",{className:"relative h-48 w-full bg-muted rounded-t-lg"})}),(0,t.jsxs)(h.CardContent,{className:"p-4",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]})]})},r))}):0!==v.length||g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"lg:hidden fixed -left-[9999px] -top-[9999px] opacity-0 pointer-events-none",children:(0,t.jsx)(ey,{})}),(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2 sm:px-0",children:[(0,t.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:g?"در حال بارگذاری...":`نمایش ${v.length} از ${j} محصول`}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsxs)(eg.Sheet,{open:n,onOpenChange:l,children:[(0,t.jsx)(eg.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(f.Button,{variant:"outline",size:"sm",className:"lg:hidden flex items-center gap-2 h-8 w-auto sm:h-9 px-2 sm:px-3",children:[(0,t.jsx)(eh.Filter,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm",children:"فیلترها"})]})}),(0,t.jsxs)(eg.SheetContent,{side:"right",className:"w-[85vw] sm:w-[400px] overflow-y-auto",children:[(0,t.jsx)(eg.SheetHeader,{children:(0,t.jsxs)(eg.SheetTitle,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"فیلتر محصولات"}),(0,t.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(!1),children:(0,t.jsx)(ef.X,{className:"h-4 w-4"})})]})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(ey,{})})]})]}),(0,t.jsx)(f.Button,{variant:"grid"===e?"default":"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:()=>r("grid"),children:(0,t.jsx)(el,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),(0,t.jsx)(f.Button,{variant:"list"===e?"default":"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:()=>r("list"),children:(0,t.jsx)(eo,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),"grid"===e?(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:v.map(e=>(0,t.jsxs)(h.Card,{className:"flex flex-col border-[0.1px] border-border/2 hover:border-border/4 hover:shadow-lg transition-all active:scale-95 relative overflow-hidden",children:[(0,t.jsx)(h.CardHeader,{className:"p-0 relative",children:(0,t.jsxs)("div",{className:"relative h-20 sm:h-24 md:h-28 w-full bg-muted rounded-t-lg overflow-hidden",children:[(0,t.jsx)(em.default,{src:e.images[0]||(0,ex.getPlaceholderImage)(300,300),alt:`${e.name}${e.brand?` - برند ${e.brand}`:""}${e.category?` - دسته‌بندی ${e.category}`:""}`,fill:!0,className:"object-cover",loading:"lazy",sizes:"(max-width: 640px) 33vw, (max-width: 768px) 25vw, (max-width: 1024px) 20vw, (max-width: 1280px) 16vw, 14vw"}),e.originalPrice&&e.originalPrice>e.price&&(0,t.jsxs)("div",{className:"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 bg-red-500 text-white text-[8px] sm:text-[9px] font-bold px-1 sm:px-1.5 py-0.5 rounded shadow-sm",children:[Math.round((e.originalPrice-e.price)/e.originalPrice*100),"%"]})]})}),(0,t.jsxs)(h.CardContent,{className:"flex-1 p-1.5 sm:p-2",children:[(0,t.jsx)(s.default,{href:`/products/${e.id}`,children:(0,t.jsx)("h3",{className:"font-medium mb-1 sm:mb-1.5 hover:text-primary transition-colors line-clamp-2 text-[10px] sm:text-xs leading-tight",children:e.name})}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsxs)("span",{className:"text-[10px] sm:text-xs font-bold text-primary",children:[e.price.toLocaleString("fa-IR")," ",(0,t.jsx)("span",{className:"text-[8px] sm:text-[9px]",children:"تومان"})]}),e.originalPrice&&e.originalPrice>e.price&&(0,t.jsx)("span",{className:"text-[8px] sm:text-[9px] text-muted-foreground line-through",children:e.originalPrice.toLocaleString("fa-IR")})]})]}),(0,t.jsx)(s.default,{href:`/products/${e.id}`,children:(0,t.jsx)(f.Button,{variant:"ghost",size:"icon",className:"absolute bottom-0 left-0 bg-background/80 hover:bg-background h-5 w-5 sm:h-6 sm:w-6 z-10 rounded-tl-md rounded-tr-none rounded-br-md rounded-bl-none border-t-[0.1px] border-r-[0.1px] border-b-0 border-l-0",children:(0,t.jsx)(en.ArrowUpRight,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"})})})]},e.id))}):(0,t.jsx)("div",{className:"space-y-3 sm:space-y-4",children:v.map(e=>(0,t.jsxs)(h.Card,{className:"flex flex-row hover:shadow-lg transition-all active:scale-[0.98]",children:[(0,t.jsx)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 md:w-48 md:h-48 bg-muted rounded-r-lg overflow-hidden flex-shrink-0",children:(0,t.jsx)(em.default,{src:e.images[0]||"/api/placeholder/300/300",alt:e.name,fill:!0,className:"object-cover",loading:"lazy",sizes:"(max-width: 768px) 96px, (max-width: 1024px) 128px, 192px"})}),(0,t.jsxs)("div",{className:"flex-1 p-3 sm:p-4 md:p-6 flex flex-col justify-between min-w-0",children:[(0,t.jsx)("div",{className:"min-w-0",children:(0,t.jsx)(s.default,{href:`/products/${e.id}`,children:(0,t.jsx)("h3",{className:"text-sm sm:text-base md:text-xl font-semibold mb-2 sm:mb-3 hover:text-primary transition-colors line-clamp-2",children:e.name})})}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsxs)("span",{className:"text-[10px] sm:text-xs font-bold text-primary",children:[e.price.toLocaleString("fa-IR")," ",(0,t.jsx)("span",{className:"text-[8px] sm:text-[9px]",children:"تومان"})]}),e.originalPrice&&e.originalPrice>e.price&&(0,t.jsx)("span",{className:"text-[8px] sm:text-[9px] text-muted-foreground line-through",children:e.originalPrice.toLocaleString("fa-IR")})]})]})]},e.id))}),b>1&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2 mt-6 sm:mt-8 px-2",children:[(0,t.jsxs)(f.Button,{variant:"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>i(e=>Math.max(1,e-1)),disabled:1===a||g,children:[(0,t.jsx)(ed.ChevronRight,{className:"h-4 w-4 ml-1"}),"قبلی"]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,b)},(e,r)=>{let s;return s=b<=5||a<=3?r+1:a>=b-2?b-4+r:a-2+r,(0,t.jsx)(f.Button,{variant:a===s?"default":"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm min-w-[2.5rem]",onClick:()=>i(s),disabled:g,children:s},s)})}),(0,t.jsxs)(f.Button,{variant:"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>i(e=>Math.min(b,e+1)),disabled:a===b||g,children:["بعدی",(0,t.jsx)(eu.ChevronLeft,{className:"h-4 w-4 mr-1"})]})]})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20",children:[(0,t.jsx)(ec.Package,{className:"h-12 w-12 sm:h-16 sm:w-16 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"محصولی یافت نشد"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground text-center",children:m?"هیچ محصولی با فیلترهای انتخابی یافت نشد":"در حال حاضر محصولی برای نمایش وجود ندارد"})]})}function eb(){let{loadCategoriesFromDB:e}=(0,ea.useCategoryStore)();return(0,u.useEffect)(()=>{e()},[e]),(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(r.Header,{}),(0,t.jsxs)("main",{className:"flex-1 container py-4 sm:py-6 md:py-8 px-3 sm:px-4",children:[(0,t.jsx)("div",{className:"mb-4 sm:mb-6 md:mb-8 hidden lg:block",children:(0,t.jsx)("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"محصولات"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"بیش از 50,000 قطعه خودرو از برندهای معتبر"})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:[(0,t.jsx)("aside",{className:"hidden lg:block lg:col-span-1",children:(0,t.jsx)(ei,{})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)(ev,{})})]})]}),(0,t.jsx)(d,{})]})}e.s(["default",()=>eb],63570)}]);