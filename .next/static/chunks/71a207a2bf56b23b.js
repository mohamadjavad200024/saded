(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let a=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233)},88511,e=>{"use strict";let a=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>a],88511)},47627,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(47163);let l=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:l,className:(0,s.cn)("w-full caption-bottom text-sm",e),...r})}));l.displayName="Table";let t=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("thead",{ref:l,className:(0,s.cn)("[&_tr]:border-b border-border/30",e),...r}));t.displayName="TableHeader";let i=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("tbody",{ref:l,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...r}));i.displayName="TableBody",r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("tfoot",{ref:l,className:(0,s.cn)("border-t border-border/30 bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let d=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("tr",{ref:l,className:(0,s.cn)("border-b border-border/30 transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));d.displayName="TableRow";let o=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("th",{ref:l,className:(0,s.cn)("h-12 px-4 text-right align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));o.displayName="TableHead";let n=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("td",{ref:l,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));n.displayName="TableCell",r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("caption",{ref:l,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>i,"TableCell",()=>n,"TableHead",()=>o,"TableHeader",()=>t,"TableRow",()=>d])},41071,e=>{"use strict";let a=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>a],41071)},27497,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(47627),l=e.i(67881),t=e.i(94179),i=e.i(63415),d=e.i(41071),o=e.i(88511),n=e.i(27612),c=e.i(88844),h=e.i(17513),x=e.i(20682),m=e.i(22016),u=e.i(30374);function b({categories:e,onRefresh:b}){let{deleteCategory:j,toggleCategory:f}=(0,h.useCategoryStore)(),{toast:p}=(0,x.useToast)(),[g,T]=(0,r.useState)(!1),[w,y]=(0,r.useState)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-lg border border-border/30 shadow-sm overflow-hidden",children:(0,a.jsxs)(s.Table,{children:[(0,a.jsx)(s.TableHeader,{className:"bg-muted/50",children:(0,a.jsxs)(s.TableRow,{children:[(0,a.jsx)(s.TableHead,{children:"نام"}),(0,a.jsx)(s.TableHead,{children:"توضیحات"}),(0,a.jsx)(s.TableHead,{children:"وضعیت"}),(0,a.jsx)(s.TableHead,{className:"text-left",children:"عملیات"})]})}),(0,a.jsx)(s.TableBody,{children:0===e.length?(0,a.jsx)(s.TableRow,{children:(0,a.jsx)(s.TableCell,{colSpan:4,className:"text-center py-8",children:"دسته‌بندی‌ای یافت نشد"})},"empty-state"):e.map((e,r)=>(0,a.jsxs)(s.TableRow,{children:[(0,a.jsxs)(s.TableCell,{className:"font-medium flex items-center gap-2",children:[(0,a.jsx)(c.Package,{className:"h-4 w-4 text-muted-foreground"}),e.name]}),(0,a.jsx)(s.TableCell,{className:"text-muted-foreground",children:e.description||"-"}),(0,a.jsx)(s.TableCell,{children:(0,a.jsx)(t.Badge,{variant:e.isActive?"success":"secondary",children:e.isActive?"فعال":"غیرفعال"})}),(0,a.jsx)(s.TableCell,{children:(0,a.jsxs)(i.DropdownMenu,{children:[(0,a.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(l.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(d.MoreHorizontal,{className:"h-4 w-4"})})}),(0,a.jsxs)(i.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(i.DropdownMenuLabel,{children:"عملیات"}),(0,a.jsx)(i.DropdownMenuSeparator,{}),(0,a.jsx)(i.DropdownMenuItem,{asChild:!0,children:(0,a.jsxs)(m.default,{href:`/admin/categories/${e.id}`,children:[(0,a.jsx)(o.Edit,{className:"ml-2 h-4 w-4"}),"ویرایش"]})}),(0,a.jsx)(i.DropdownMenuItem,{onClick:()=>{f(e.id),p({title:"موفق",description:"وضعیت دسته‌بندی تغییر کرد"}),b?.()},children:e.isActive?"غیرفعال کردن":"فعال کردن"}),(0,a.jsx)(i.DropdownMenuSeparator,{}),(0,a.jsxs)(i.DropdownMenuItem,{className:"text-destructive",onClick:()=>{y(e.id),T(!0)},children:[(0,a.jsx)(n.Trash2,{className:"ml-2 h-4 w-4"}),"حذف"]})]})]})})]},e.id||`category-${r}`))})]})}),(0,a.jsx)(u.Dialog,{open:g,onOpenChange:T,children:(0,a.jsxs)(u.DialogContent,{children:[(0,a.jsxs)(u.DialogHeader,{children:[(0,a.jsx)(u.DialogTitle,{children:"حذف دسته‌بندی"}),(0,a.jsx)(u.DialogDescription,{children:"آیا از حذف این دسته‌بندی اطمینان دارید؟ این عمل قابل بازگشت نیست."})]}),(0,a.jsxs)(u.DialogFooter,{children:[(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>T(!1),children:"انصراف"}),(0,a.jsx)(l.Button,{variant:"destructive",onClick:()=>{w&&(j(w),p({title:"موفق",description:"دسته‌بندی با موفقیت حذف شد"}),T(!1),y(null),b?.())},children:"حذف"})]})]})})]})}var j=e.i(70065),f=e.i(7233),p=e.i(73014),g=e.i(18566);function T(){let{categories:e,loadCategoriesFromDB:s}=(0,h.useCategoryStore)(),[t,i]=(0,r.useState)(!0),d=(0,g.usePathname)();return(0,r.useEffect)(()=>{(async()=>{i(!0);try{await s(!0)}catch(e){console.error("Error loading categories:",e)}finally{i(!1)}})()},[s,d]),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(j.Card,{className:"shadow-sm",children:[(0,a.jsx)(j.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.FolderTree,{className:"h-5 w-5 text-primary"}),"دسته‌بندی‌ها (",e.length,")"]}),(0,a.jsx)(l.Button,{asChild:!0,size:"sm",children:(0,a.jsxs)(m.default,{href:"/admin/categories/new",children:[(0,a.jsx)(f.Plus,{className:"ml-2 h-4 w-4"}),"افزودن دسته‌بندی"]})})]})}),(0,a.jsx)(j.CardContent,{children:(0,a.jsx)(b,{categories:e})})]})})}e.s(["default",()=>T],27497)}]);