(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69638,e=>{"use strict";let s=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},98919,e=>{"use strict";let s=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>s],98919)},97548,e=>{"use strict";let s=(0,e.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>s],97548)},40160,e=>{"use strict";let s=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>s],40160)},70065,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(47163);let t=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border-[0.25px] border-border/3 bg-card text-card-foreground shadow-sm",e),...a}));t.displayName="Card";let r=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));r.displayName="CardHeader";let i=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));i.displayName="CardTitle";let d=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let n=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...a}));n.displayName="CardContent",a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>d,"CardHeader",()=>r,"CardTitle",()=>i])},99682,e=>{"use strict";var s=e.i(71645);function a(e){let a=s.useRef({value:e,previous:e});return s.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}e.s(["usePrevious",()=>a])},30374,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(26999),t=e.i(37727),r=e.i(47163);let i=l.Root,d=l.Trigger,n=l.Portal;l.Close;let o=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(l.Overlay,{ref:t,className:(0,r.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{backgroundImage:`
        url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter2'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter2)'/%3E%3C/svg%3E")
      `,backgroundSize:"200px 200px, 150px 150px",backgroundBlendMode:"overlay",opacity:.9},...a}));o.displayName=l.Overlay.displayName;let c=a.forwardRef(({className:e,children:a,...i},d)=>(0,s.jsxs)(n,{children:[(0,s.jsx)(o,{}),(0,s.jsxs)(l.Content,{ref:d,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-[0.25px] border-border/30 glass-morphism-strong p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",e),...i,children:[a,(0,s.jsxs)(l.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(t.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"بستن"})]})]})]}));c.displayName=l.Content.displayName;let u=({className:e,...a})=>(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-right",e),...a});u.displayName="DialogHeader";let m=({className:e,...a})=>(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-x-reverse",e),...a});m.displayName="DialogFooter";let x=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(l.Title,{ref:t,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));x.displayName=l.Title.displayName;let h=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(l.Description,{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));h.displayName=l.Description.displayName,e.s(["Dialog",()=>i,"DialogContent",()=>c,"DialogDescription",()=>h,"DialogFooter",()=>m,"DialogHeader",()=>u,"DialogTitle",()=>x,"DialogTrigger",()=>d])},47627,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(47163);let t=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",e),...a})}));t.displayName="Table";let r=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b border-border/30",e),...a}));r.displayName="TableHeader";let i=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...a}));i.displayName="TableBody",a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t border-border/30 bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let d=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b border-border/30 transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));d.displayName="TableRow";let n=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-right align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));n.displayName="TableHead";let o=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));o.displayName="TableCell",a.forwardRef(({className:e,...a},t)=>(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption",e.s(["Table",()=>t,"TableBody",()=>i,"TableCell",()=>o,"TableHead",()=>n,"TableHeader",()=>r,"TableRow",()=>d])},41071,e=>{"use strict";let s=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>s],41071)},99440,e=>{"use strict";var s=e.i(6344);let a={},l=(0,s.create)((e,s)=>({users:[],filters:a,setUsers:s=>e({users:s}),addUser:s=>e(e=>{let a=e.users.findIndex(e=>e.id===s.id);if(a>=0){let l=[...e.users];return l[a]=s,{users:l}}return{users:[...e.users,s]}}),updateUser:(s,a)=>e(e=>{let l=e.users.findIndex(e=>e.id===s);if(l>=0){let s=[...e.users];return s[l]={...s[l],...a,updatedAt:new Date},{users:s}}return e}),updateUserStatus:(s,a)=>e(e=>({users:e.users.map(e=>e.id===s?{...e,status:a,updatedAt:new Date}:e)})),updateUserRole:(s,a)=>e(e=>({users:e.users.map(e=>e.id===s?{...e,role:a,updatedAt:new Date}:e)})),deleteUser:s=>e(e=>({users:e.users.filter(e=>e.id!==s)})),getUser:e=>s().users.find(s=>s.id===e),setFilters:s=>e(e=>({filters:{...e.filters,...s}})),clearFilters:()=>e({filters:a})}));e.s(["useUserStore",0,l])},51364,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(47627),t=e.i(67881),r=e.i(94179),i=e.i(63415),d=e.i(41071),n=e.i(84614),o=e.i(98919),c=e.i(75254);let u=(0,c.default)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var m=e.i(69638),x=e.i(99440),h=e.i(20682),p=e.i(30374);let f={admin:"مدیر",user:"کاربر",moderator:"ناظر"},j={active:"فعال",inactive:"غیرفعال",suspended:"معلق"},g={admin:"destructive",user:"default",moderator:"secondary"},b={active:"success",inactive:"secondary",suspended:"warning"};function v({users:e,onRefresh:c}){let{updateUserStatus:v,updateUserRole:y,deleteUser:N}=(0,x.useUserStore)(),{toast:w}=(0,h.useToast)(),[C,T]=(0,a.useState)(!1),[D,S]=(0,a.useState)(null);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"rounded-lg border border-border/30 shadow-sm overflow-hidden",children:(0,s.jsxs)(l.Table,{children:[(0,s.jsx)(l.TableHeader,{className:"bg-muted/50",children:(0,s.jsxs)(l.TableRow,{children:[(0,s.jsx)(l.TableHead,{children:"نام"}),(0,s.jsx)(l.TableHead,{children:"ایمیل"}),(0,s.jsx)(l.TableHead,{children:"تلفن"}),(0,s.jsx)(l.TableHead,{children:"نقش"}),(0,s.jsx)(l.TableHead,{children:"وضعیت"}),(0,s.jsx)(l.TableHead,{children:"سفارشات"}),(0,s.jsx)(l.TableHead,{children:"خرید کل"}),(0,s.jsx)(l.TableHead,{className:"text-left",children:"عملیات"})]})}),(0,s.jsx)(l.TableBody,{children:0===e.length?(0,s.jsx)(l.TableRow,{children:(0,s.jsx)(l.TableCell,{colSpan:8,className:"text-center py-8",children:"کاربری یافت نشد"})}):e.map(e=>{let a;return(0,s.jsxs)(l.TableRow,{children:[(0,s.jsx)(l.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e.avatar?(0,s.jsx)("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,s.jsx)(n.User,{className:"h-5 w-5 text-primary"})}),(0,s.jsx)("span",{className:"font-medium",children:e.name})]})}),(0,s.jsx)(l.TableCell,{children:e.email}),(0,s.jsx)(l.TableCell,{children:e.phone||"-"}),(0,s.jsx)(l.TableCell,{children:(0,s.jsx)(r.Badge,{variant:g[e.role],children:f[e.role]})}),(0,s.jsx)(l.TableCell,{children:(0,s.jsx)(r.Badge,{variant:b[e.status],children:j[e.status]})}),(0,s.jsx)(l.TableCell,{children:e.ordersCount||0}),(0,s.jsxs)(l.TableCell,{children:[e.totalSpent?(a=e.totalSpent,new Intl.NumberFormat("fa-IR").format(a)):"0"," تومان"]}),(0,s.jsx)(l.TableCell,{children:(0,s.jsxs)(i.DropdownMenu,{children:[(0,s.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",children:(0,s.jsx)(d.MoreHorizontal,{className:"h-4 w-4"})})}),(0,s.jsxs)(i.DropdownMenuContent,{align:"end",children:[(0,s.jsx)(i.DropdownMenuLabel,{children:"عملیات"}),(0,s.jsx)(i.DropdownMenuSeparator,{}),(0,s.jsx)(i.DropdownMenuLabel,{children:"تغییر نقش"}),Object.entries(f).map(([a,l])=>(0,s.jsxs)(i.DropdownMenuItem,{onClick:()=>{y(e.id,a),w({title:"موفق",description:"نقش کاربر به‌روزرسانی شد"}),c?.()},disabled:e.role===a,children:[(0,s.jsx)(o.Shield,{className:"ml-2 h-4 w-4"}),l]},a)),(0,s.jsx)(i.DropdownMenuSeparator,{}),(0,s.jsx)(i.DropdownMenuLabel,{children:"تغییر وضعیت"}),Object.entries(j).map(([a,l])=>(0,s.jsxs)(i.DropdownMenuItem,{onClick:()=>{v(e.id,a),w({title:"موفق",description:"وضعیت کاربر به‌روزرسانی شد"}),c?.()},disabled:e.status===a,children:["active"===a?(0,s.jsx)(m.CheckCircle,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(u,{className:"ml-2 h-4 w-4"}),l]},a)),(0,s.jsx)(i.DropdownMenuSeparator,{}),(0,s.jsx)(i.DropdownMenuItem,{className:"text-destructive",onClick:()=>{S(e.id),T(!0)},children:"حذف کاربر"})]})]})})]},e.id)})})]})}),(0,s.jsx)(p.Dialog,{open:C,onOpenChange:T,children:(0,s.jsxs)(p.DialogContent,{children:[(0,s.jsxs)(p.DialogHeader,{children:[(0,s.jsx)(p.DialogTitle,{children:"حذف کاربر"}),(0,s.jsx)(p.DialogDescription,{children:"آیا از حذف این کاربر اطمینان دارید؟ این عمل قابل بازگشت نیست."})]}),(0,s.jsxs)(p.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>T(!1),children:"انصراف"}),(0,s.jsx)(t.Button,{variant:"destructive",onClick:()=>{D&&(N(D),w({title:"موفق",description:"کاربر با موفقیت حذف شد"}),T(!1),S(null),c?.())},children:"حذف"})]})]})})]})}var y=e.i(23750),N=e.i(70065),w=e.i(62870),C=e.i(55436);let T=(0,c.default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var D=e.i(40160),S=e.i(97548);function k(){let{users:e,setFilters:l,clearFilters:r,filters:i}=(0,x.useUserStore)(),[d,o]=(0,a.useState)(i.search||""),[c,u]=(0,a.useState)("all"),[m,h]=(0,a.useState)("all"),[p,f]=(0,a.useState)(!1),j=(0,a.useMemo)(()=>{let s=e;if(d){let e=d.toLowerCase();s=s.filter(s=>s.name.toLowerCase().includes(e)||s.email.toLowerCase().includes(e)||s.phone?.includes(e))}return"all"!==c&&(s=s.filter(e=>e.role===c)),"all"!==m&&(s=s.filter(e=>e.status===m)),s},[e,d,c,m]);return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(N.Card,{className:"shadow-sm",children:[(0,s.jsxs)(N.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(N.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(n.User,{className:"h-5 w-5 text-primary"}),"کاربران (",j.length,")"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(t.Button,{variant:p?"default":"outline",onClick:()=>f(!p),size:"sm",children:[(0,s.jsx)(S.Filter,{className:"ml-2 h-4 w-4"}),"فیلتر"]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(D.Download,{className:"ml-2 h-4 w-4"}),"خروجی CSV"]}),(0,s.jsxs)(t.Button,{size:"sm",children:[(0,s.jsx)(T,{className:"ml-2 h-4 w-4"}),"افزودن کاربر"]})]})]}),p&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-border/20",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"جستجو"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(C.Search,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(y.Input,{placeholder:"جستجو در کاربران...",value:d,onChange:e=>{var s;o(s=e.target.value),s?l({search:s}):r()},className:"pr-10"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"نقش"}),(0,s.jsxs)(w.Select,{value:c,onValueChange:e=>u(e),children:[(0,s.jsx)(w.SelectTrigger,{children:(0,s.jsx)(w.SelectValue,{placeholder:"همه نقش‌ها"})}),(0,s.jsxs)(w.SelectContent,{children:[(0,s.jsx)(w.SelectItem,{value:"all",children:"همه نقش‌ها"}),(0,s.jsx)(w.SelectItem,{value:"admin",children:"مدیر"}),(0,s.jsx)(w.SelectItem,{value:"moderator",children:"ناظر"}),(0,s.jsx)(w.SelectItem,{value:"user",children:"کاربر"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"وضعیت"}),(0,s.jsxs)(w.Select,{value:m,onValueChange:e=>h(e),children:[(0,s.jsx)(w.SelectTrigger,{children:(0,s.jsx)(w.SelectValue,{placeholder:"همه وضعیت‌ها"})}),(0,s.jsxs)(w.SelectContent,{children:[(0,s.jsx)(w.SelectItem,{value:"all",children:"همه وضعیت‌ها"}),(0,s.jsx)(w.SelectItem,{value:"active",children:"فعال"}),(0,s.jsx)(w.SelectItem,{value:"inactive",children:"غیرفعال"}),(0,s.jsx)(w.SelectItem,{value:"suspended",children:"معلق"})]})]})]})]}),(d||"all"!==c||"all"!==m)&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(t.Button,{variant:"ghost",size:"sm",onClick:()=>{o(""),u("all"),h("all"),r()},children:[(0,s.jsx)(S.Filter,{className:"ml-2 h-4 w-4"}),"پاک کردن فیلترها"]})})]})]}),(0,s.jsx)(N.CardContent,{children:(0,s.jsx)(v,{users:j})})]})})}e.s(["default",()=>k],51364)}]);