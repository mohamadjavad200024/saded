(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43432,e=>{"use strict";let t=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],43432)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},99682,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},70152,e=>{"use strict";function t(e,[t,s]){return Math.min(s,Math.max(t,e))}e.s(["clamp",()=>t])},17513,e=>{"use strict";var t=e.i(6344),s=e.i(73493);let r=(0,t.create)((e,t)=>({categories:[],setCategories:t=>e({categories:t}),addCategory:t=>e(e=>{let s=e.categories.findIndex(e=>e.id===t.id);if(s>=0){let r=[...e.categories];return r[s]=t,{categories:r}}return{categories:[...e.categories,t]}}),updateCategory:t=>e(e=>{let s=e.categories.findIndex(e=>e.id===t.id);if(s>=0){let r=[...e.categories];return r[s]=t,{categories:r}}return e}),deleteCategory:t=>e(e=>({categories:e.categories.filter(e=>e.id!==t)})),toggleCategory:t=>e(e=>({categories:e.categories.map(e=>e.id===t?{...e,isActive:!e.isActive}:e)})),getCategory:e=>t().categories.find(t=>t.id===e),getActiveCategories:()=>t().categories.filter(e=>e.isActive&&e.enabled),getEnabledCategories:()=>t().categories.filter(e=>e.enabled),loadCategoriesFromDB:async(e=!1)=>{try{let s=await fetch(e?"/api/categories?all=true":"/api/categories");if(!s.ok)throw Error("خطا در بارگذاری دسته‌بندی‌ها");let r=(await s.json()).data||[];t().setCategories(r)}catch(e){s.logger.error("Error loading categories from DB:",e)}}}));e.s(["useCategoryStore",0,r])},10708,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(74080);var r=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,r.createSlot)(`Primitive.${a}`),n=s.forwardRef((e,s)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?i:a,{...n,ref:s})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),i=s.forwardRef((e,s)=>(0,t.jsx)(a.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=e.i(25913),l=e.i(47163);let o=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(i,{ref:r,className:(0,l.cn)(o(),e),...s}));c.displayName=i.displayName,e.s(["Label",()=>c],10708)},97548,e=>{"use strict";let t=(0,e.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>t],97548)},73375,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},69035,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(74080);var r=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,r.createSlot)(`Primitive.${a}`),n=s.forwardRef((e,s)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?i:a,{...n,ref:s})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),i="horizontal",n=["horizontal","vertical"],l=s.forwardRef((e,s)=>{var r;let{decorative:l,orientation:o=i,...c}=e,d=(r=o,n.includes(r))?o:i;return(0,t.jsx)(a.div,{"data-orientation":d,...l?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:s})});l.displayName="Separator";var o=e.i(47163);let c=s.forwardRef(({className:e,orientation:s="horizontal",decorative:r=!0,...a},i)=>(0,t.jsx)(l,{ref:i,decorative:r,orientation:s,className:(0,o.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...a}));c.displayName=l.displayName,e.s(["Separator",()=>c],69035)},25959,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(20783),a=e.i(30030),i=e.i(81140),n=e.i(69340),l=e.i(99682),o=e.i(35804),c=e.i(96626),d=e.i(48425),u="Checkbox",[h,m]=(0,a.createContextScope)(u),[p,x]=h(u);function f(e){let{__scopeCheckbox:r,checked:a,children:i,defaultChecked:l,disabled:o,form:c,name:d,onCheckedChange:h,required:m,value:x="on",internal_do_not_use_render:f}=e,[g,v]=(0,n.useControllableState)({prop:a,defaultProp:l??!1,onChange:h,caller:u}),[y,b]=s.useState(null),[j,w]=s.useState(null),N=s.useRef(!1),k=!y||!!c||!!y.closest("form"),R={checked:g,disabled:o,setChecked:v,control:y,setControl:b,name:d,form:c,value:x,hasConsumerStoppedPropagationRef:N,required:m,defaultChecked:!S(l)&&l,isFormControl:k,bubbleInput:j,setBubbleInput:w};return(0,t.jsx)(p,{scope:r,...R,children:"function"==typeof f?f(R):i})}var g="CheckboxTrigger",v=s.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:n,...l},o)=>{let{control:c,value:u,disabled:h,checked:m,required:p,setControl:f,setChecked:v,hasConsumerStoppedPropagationRef:y,isFormControl:b,bubbleInput:j}=x(g,e),w=(0,r.useComposedRefs)(o,f),N=s.useRef(m);return s.useEffect(()=>{let e=c?.form;if(e){let t=()=>v(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,v]),(0,t.jsx)(d.Primitive.button,{type:"button",role:"checkbox","aria-checked":S(m)?"mixed":m,"aria-required":p,"data-state":k(m),"data-disabled":h?"":void 0,disabled:h,value:u,...l,ref:w,onKeyDown:(0,i.composeEventHandlers)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(n,e=>{v(e=>!!S(e)||!e),j&&b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});v.displayName=g;var y=s.forwardRef((e,s)=>{let{__scopeCheckbox:r,name:a,checked:i,defaultChecked:n,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...h}=e;return(0,t.jsx)(f,{__scopeCheckbox:r,checked:i,defaultChecked:n,disabled:o,required:l,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{...h,ref:s,__scopeCheckbox:r}),e&&(0,t.jsx)(N,{__scopeCheckbox:r})]})})});y.displayName=u;var b="CheckboxIndicator",j=s.forwardRef((e,s)=>{let{__scopeCheckbox:r,forceMount:a,...i}=e,n=x(b,r);return(0,t.jsx)(c.Presence,{present:a||S(n.checked)||!0===n.checked,children:(0,t.jsx)(d.Primitive.span,{"data-state":k(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:s,style:{pointerEvents:"none",...e.style}})})});j.displayName=b;var w="CheckboxBubbleInput",N=s.forwardRef(({__scopeCheckbox:e,...a},i)=>{let{control:n,hasConsumerStoppedPropagationRef:c,checked:u,defaultChecked:h,required:m,disabled:p,name:f,value:g,form:v,bubbleInput:y,setBubbleInput:b}=x(w,e),j=(0,r.useComposedRefs)(i,b),N=(0,l.usePrevious)(u),k=(0,o.useSize)(n);s.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!c.current;if(N!==u&&e){let s=new Event("click",{bubbles:t});y.indeterminate=S(u),e.call(y,!S(u)&&u),y.dispatchEvent(s)}},[y,N,u,c]);let R=s.useRef(!S(u)&&u);return(0,t.jsx)(d.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??R.current,required:m,disabled:p,name:f,value:g,form:v,...a,tabIndex:-1,ref:j,style:{...a.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function k(e){return S(e)?"indeterminate":e?"checked":"unchecked"}N.displayName=w;var R=e.i(43531),C=e.i(47163);let E=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(y,{ref:r,className:(0,C.cn)("peer h-4 w-4 shrink-0 rounded-sm border-[0.25px] border-primary/30 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,t.jsx)(j,{className:(0,C.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(R.Check,{className:"h-4 w-4"})})}));E.displayName=y.displayName,e.s(["Checkbox",()=>E],25959)},93226,e=>{"use strict";var t=e.i(6344),s=e.i(79473);let r=(0,t.create)()((0,s.persist)((e,t)=>({user:null,isAuthenticated:!1,register:async(t,s,r)=>{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,phone:s,password:r})}),i=await a.json();if(!i.success)throw Error(i.error||"خطا در ثبت‌نام");e({user:{id:i.data.user.id,name:i.data.user.name,phone:i.data.user.phone,createdAt:i.data.user.createdAt},isAuthenticated:!0})},login:async(t,s)=>{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,password:s})}),a=await r.json();return!!a.success&&(e({user:{id:a.data.user.id,name:a.data.user.name,phone:a.data.user.phone,role:a.data.user.role,createdAt:a.data.user.createdAt},isAuthenticated:!0}),!0)},logout:()=>{e({user:null,isAuthenticated:!1})},updateUser:s=>{let{user:r}=t();r&&e({user:{...r,...s}})},loadUser:async t=>{try{let s=await fetch(`/api/auth/me?userId=${t}`),r=await s.json();r.success&&r.data.user&&e({user:{id:r.data.user.id,name:r.data.user.name,phone:r.data.user.phone,role:r.data.user.role,createdAt:r.data.user.createdAt},isAuthenticated:!0})}catch(e){console.error("Error loading user:",e)}}}),{name:"saded_auth",storage:(0,s.createJSONStorage)(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));e.s(["useAuthStore",0,r])},39616,e=>{"use strict";let t=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},92161,92270,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);e.s(["Menu",()=>s],92161);let r=(0,t.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);e.s(["LogOut",()=>r],92270)},5125,95116,83086,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["Car",()=>s],5125);let r=(0,t.default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);e.s(["Wrench",()=>r],95116);let a=(0,t.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>a],83086)},49786,e=>{"use strict";var t=e.i(43476),s=e.i(22016),r=e.i(55436),a=e.i(1928),i=e.i(84614),n=e.i(92161),l=e.i(37727),o=e.i(92270),c=e.i(67881),d=e.i(23750),u=e.i(18566),h=e.i(47163),m=e.i(5125),p=e.i(95116),x=e.i(83086),f=e.i(39616);let g=[{name:"خانه",href:"/",icon:m.Car},{name:"محصولات",href:"/products",icon:p.Wrench},{name:"دسته‌بندی‌ها",href:"/categories",icon:x.Sparkles},{name:"خدمات",href:"/services",icon:f.Settings}];function v({mobile:e=!1,onNavigate:r}){let a=(0,u.usePathname)();return e?(0,t.jsx)("nav",{className:"flex flex-col space-y-2",children:g.map(e=>{let i=e.icon,n=a===e.href;return(0,t.jsxs)(s.default,{href:e.href,onClick:r,className:(0,h.cn)("flex items-center space-x-3 space-x-reverse px-4 py-3 rounded-lg text-base font-medium transition-colors",n?"bg-primary text-primary-foreground":"text-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(i,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:e.name})]},e.href)})}):(0,t.jsx)("nav",{className:"hidden lg:flex items-center space-x-1 space-x-reverse",children:g.map(e=>{let r=e.icon,i=a===e.href;return(0,t.jsxs)(s.default,{href:e.href,className:(0,h.cn)("flex items-center space-x-2 space-x-reverse px-3 xl:px-4 py-2 rounded-md text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(r,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden xl:inline",children:e.name})]},e.href)})})}var y=e.i(61180),b=e.i(93226),j=e.i(71645),w=e.i(75254);let N=(0,w.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),S=(0,w.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var k=e.i(63178);function R(){let{theme:e,setTheme:s,resolvedTheme:r}=(0,k.useTheme)(),[a,i]=j.useState(!1);if(j.useEffect(()=>{i(!0)},[]),!a)return(0,t.jsxs)(c.Button,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[(0,t.jsx)(S,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"تغییر تم"})]});let n="dark"===r||"dark"===e;return(0,t.jsxs)(c.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 relative",onClick:()=>{s("dark"===(r||("system"===e?"light":e))?"light":"dark")},type:"button",children:[(0,t.jsx)(S,{className:`h-5 w-5 absolute transition-all duration-300 ${n?"rotate-90 scale-0 opacity-0":"rotate-0 scale-100 opacity-100"}`}),(0,t.jsx)(N,{className:`h-5 w-5 absolute transition-all duration-300 ${n?"rotate-0 scale-100 opacity-100":"-rotate-90 scale-0 opacity-0"}`}),(0,t.jsx)("span",{className:"sr-only",children:"تغییر تم"})]})}var C=e.i(52917),E=e.i(63415);function P(){let[e,u]=(0,j.useState)(""),[h,m]=(0,j.useState)(!1),[p,x]=(0,j.useState)(!1),[f,g]=(0,j.useState)(!1),{getItemCount:w,initializeSession:N,loadFromDatabase:S,items:k}=(0,y.useCartStore)(),{user:P,isAuthenticated:M,logout:I}=(0,b.useAuthStore)(),T=k.reduce((e,t)=>e+t.quantity,0);return(0,j.useEffect)(()=>{g(!0),(async()=>{try{N(),await S()}catch(e){console.error("Error initializing cart in header:",e)}})()},[N,S]),(0,t.jsxs)("header",{className:"sticky top-0 z-50 w-full border-b-[0.25px] border-border/30 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[(0,t.jsxs)("div",{className:"container flex h-14 sm:h-16 items-center justify-between px-3 sm:px-4",children:[(0,t.jsx)(s.default,{href:"/",className:"flex items-center space-x-1.5 space-x-reverse min-w-0 flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-primary leading-tight",children:"ساد"}),(0,t.jsx)("span",{className:"hidden sm:block text-[10px] sm:text-xs text-muted-foreground leading-tight",children:"قطعات خودرو وارداتی"})]})}),(0,t.jsx)("div",{className:"hidden lg:block",children:(0,t.jsx)(v,{})}),(0,t.jsx)("div",{className:"hidden lg:flex flex-1 max-w-xl mx-8",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(r.Search,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(d.Input,{type:"search",placeholder:"جستجوی قطعه، برند یا شماره VIN...",value:e,onChange:e=>u(e.target.value),className:"pr-10 w-full h-9"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 space-x-reverse flex-shrink-0",children:[(0,t.jsxs)(c.Button,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9",onClick:()=>x(!p),children:[(0,t.jsx)(r.Search,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"جستجو"})]}),(0,t.jsx)(R,{}),M&&P?(0,t.jsxs)(E.DropdownMenu,{children:[(0,t.jsx)(E.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(c.Button,{variant:"ghost",size:"icon",className:"hidden md:flex h-9 w-9",children:[(0,t.jsx)(i.User,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"حساب کاربری"})]})}),(0,t.jsxs)(E.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,t.jsxs)("div",{className:"px-2 py-1.5",children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:P.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:P.phone})]}),(0,t.jsx)(E.DropdownMenuSeparator,{}),(0,t.jsx)(E.DropdownMenuItem,{asChild:!0,children:(0,t.jsxs)(s.default,{href:"/profile",className:"cursor-pointer",children:[(0,t.jsx)(i.User,{className:"ml-2 h-4 w-4"}),"پروفایل"]})}),(0,t.jsx)(E.DropdownMenuSeparator,{}),(0,t.jsxs)(E.DropdownMenuItem,{onClick:()=>{I()},className:"cursor-pointer text-destructive focus:text-destructive",children:[(0,t.jsx)(o.LogOut,{className:"ml-2 h-4 w-4"}),"خروج"]})]})]}):(0,t.jsx)(s.default,{href:"/auth",children:(0,t.jsxs)(c.Button,{variant:"ghost",size:"icon",className:"hidden md:flex h-9 w-9",children:[(0,t.jsx)(i.User,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"حساب کاربری"})]})}),(0,t.jsx)(s.default,{href:"/cart","aria-label":f?`سبد خرید با ${T} آیتم`:"سبد خرید",children:(0,t.jsxs)(c.Button,{variant:"ghost",size:"icon",className:"relative h-9 w-9","aria-label":f&&T>0?`سبد خرید (${T} آیتم)`:"سبد خرید",children:[(0,t.jsx)(a.ShoppingCart,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"سبد خرید"}),f&&T>0&&(0,t.jsx)("span",{className:"absolute -top-0.5 -left-0.5 h-4 w-4 sm:h-5 sm:w-5 rounded-full bg-secondary text-secondary-foreground text-[10px] sm:text-xs font-bold flex items-center justify-center","aria-label":`${T} آیتم در سبد خرید`,children:T>99?"99+":T})]})}),(0,t.jsxs)(C.Sheet,{open:h,onOpenChange:m,children:[(0,t.jsx)(C.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(c.Button,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9",children:[(0,t.jsx)(n.Menu,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"منو"})]})}),(0,t.jsxs)(C.SheetContent,{side:"right",className:"w-[280px] sm:w-[320px]",children:[(0,t.jsx)(C.SheetHeader,{children:(0,t.jsx)(C.SheetTitle,{children:"منو"})}),(0,t.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,t.jsx)(v,{mobile:!0,onNavigate:()=>m(!1)}),(0,t.jsxs)("div",{className:"pt-4 border-t-[0.25px] border-border/30 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"تم"}),(0,t.jsx)(R,{})]}),M&&P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"px-2 py-1.5 border-b border-border/30",children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:P.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:P.phone})]}),(0,t.jsx)(s.default,{href:"/profile",children:(0,t.jsxs)(c.Button,{variant:"ghost",className:"w-full justify-start",onClick:()=>m(!1),children:[(0,t.jsx)(i.User,{className:"h-4 w-4 ml-2"}),"پروفایل"]})}),(0,t.jsxs)(c.Button,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:()=>{I(),m(!1)},children:[(0,t.jsx)(o.LogOut,{className:"h-4 w-4 ml-2"}),"خروج"]})]}):(0,t.jsx)(s.default,{href:"/auth",children:(0,t.jsxs)(c.Button,{variant:"ghost",className:"w-full justify-start",onClick:()=>m(!1),children:[(0,t.jsx)(i.User,{className:"h-4 w-4 ml-2"}),"حساب کاربری"]})})]})]})]})]})]})]}),p&&(0,t.jsx)("div",{className:"lg:hidden border-t-[0.25px] border-border/30 px-3 py-2 bg-background animate-in slide-in-from-top",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Search,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(d.Input,{type:"search",placeholder:"جستجو...",value:e,onChange:e=>u(e.target.value),className:"pr-10 h-9",autoFocus:!0}),(0,t.jsx)(c.Button,{variant:"ghost",size:"icon",className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7",onClick:()=>x(!1),children:(0,t.jsx)(l.X,{className:"h-4 w-4"})})]})})]})}e.s(["Header",()=>P],49786)},4967,e=>{"use strict";function t(e=600,s=600){let r=encodeURIComponent(`${e}x${s}`);return`https://placehold.co/${e}x${s}/f3f4f6/9ca3af?text=${r}`}e.s(["getPlaceholderImage",()=>t])},66027,e=>{"use strict";let t;var s=e.i(75555),r=e.i(40143),a=e.i(86491),i=e.i(15823),n=e.i(93803),l=e.i(19273),o=e.i(80166),c=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#s=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#a=void 0;#i=void 0;#n;#l;#s;#t;#o;#c;#d;#u;#h;#m;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),d(this.#r,this.options)?this.#x():this.updateResult(),this.#f())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#v(),this.#r.removeObserver(this)}setOptions(e){let t=this.options,s=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#y(),this.#r.setOptions(this.options),t._defaulted&&!(0,l.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let r=this.hasListeners();r&&h(this.#r,s,this.options,t)&&this.#x(),this.updateResult(),r&&(this.#r!==s||(0,l.resolveEnabled)(this.options.enabled,this.#r)!==(0,l.resolveEnabled)(t.enabled,this.#r)||(0,l.resolveStaleTime)(this.options.staleTime,this.#r)!==(0,l.resolveStaleTime)(t.staleTime,this.#r))&&this.#b();let a=this.#j();r&&(this.#r!==s||(0,l.resolveEnabled)(this.options.enabled,this.#r)!==(0,l.resolveEnabled)(t.enabled,this.#r)||a!==this.#m)&&this.#w(a)}getOptimisticResult(e){var t,s;let r=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(r,e);return t=this,s=a,(0,l.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#i=a,this.#l=this.options,this.#n=this.#r.state),a}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),t?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#s.status||this.#s.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#x({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#x(e){this.#y();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#b(){this.#g();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#r);if(l.isServer||this.#i.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#i.dataUpdatedAt,e);this.#u=o.timeoutManager.setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#w(e){this.#v(),this.#m=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#r)&&(0,l.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=o.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||s.focusManager.isFocused())&&this.#x()},this.#m))}#f(){this.#b(),this.#w(this.#j())}#g(){this.#u&&(o.timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#v(){this.#h&&(o.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let s,r=this.#r,i=this.options,o=this.#i,c=this.#n,u=this.#l,p=e!==r?e.state:this.#a,{state:x}=e,f={...x},g=!1;if(t._optimisticResults){let s=this.hasListeners(),n=!s&&d(e,t),l=s&&h(e,r,t,i);(n||l)&&(f={...f,...(0,a.fetchState)(x.data,e.options)}),"isRestoring"===t._optimisticResults&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:b}=f;s=f.data;let j=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===b){let e;o?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=o.data,j=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,void 0!==e&&(b="success",s=(0,l.replaceData)(o?.data,e,t),g=!0)}if(t.select&&void 0!==s&&!j)if(o&&s===c?.data&&t.select===this.#o)s=this.#c;else try{this.#o=t.select,s=t.select(s),s=(0,l.replaceData)(o?.data,s,t),this.#c=s,this.#t=null}catch(e){this.#t=e}this.#t&&(v=this.#t,s=this.#c,y=Date.now(),b="error");let w="fetching"===f.fetchStatus,N="pending"===b,S="error"===b,k=N&&w,R=void 0!==s,C={status:b,fetchStatus:f.fetchStatus,isPending:N,isSuccess:"success"===b,isError:S,isInitialLoading:k,isLoading:k,data:s,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>p.dataUpdateCount||f.errorUpdateCount>p.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:S&&!R,isPaused:"paused"===f.fetchStatus,isPlaceholderData:g,isRefetchError:S&&R,isStale:m(e,t),refetch:this.refetch,promise:this.#s,isEnabled:!1!==(0,l.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===C.status?e.reject(C.error):void 0!==C.data&&e.resolve(C.data)},s=()=>{t(this.#s=C.promise=(0,n.pendingThenable)())},a=this.#s;switch(a.status){case"pending":e.queryHash===r.queryHash&&t(a);break;case"fulfilled":("error"===C.status||C.data!==a.value)&&s();break;case"rejected":("error"!==C.status||C.error!==a.reason)&&s()}}return C}updateResult(){let e=this.#i,t=this.createResult(this.#r,this.options);if(this.#n=this.#r.state,this.#l=this.options,void 0!==this.#n.data&&(this.#d=this.#r),(0,l.shallowEqualObjects)(t,e))return;this.#i=t;let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#p.size)return!0;let r=new Set(s??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(t=>this.#i[t]!==e[t]&&r.has(t))};this.#N({listeners:s()})}#y(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#a=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#f()}#N(e){r.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function d(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&u(e,t,t.refetchOnMount)}function u(e,t,s){if(!1!==(0,l.resolveEnabled)(t.enabled,e)&&"static"!==(0,l.resolveStaleTime)(t.staleTime,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&m(e,t)}return!1}function h(e,t,s,r){return(e!==t||!1===(0,l.resolveEnabled)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&m(e,s)}function m(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.i(47167);var p=e.i(71645),x=e.i(12598);e.i(43476);var f=p.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),g=p.createContext(!1);g.Provider;var v=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function y(e,t){return function(e,t,s){let a=p.useContext(g),i=p.useContext(f),n=(0,x.useQueryClient)(s),o=n.defaultQueryOptions(e);if(n.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=a?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...s)=>e(t(...s)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}(o.suspense||o.throwOnError||o.experimental_prefetchInRender)&&!i.isReset()&&(o.retryOnMount=!1),p.useEffect(()=>{i.clearReset()},[i]);let c=!n.getQueryCache().get(o.queryHash),[d]=p.useState(()=>new t(n,o)),u=d.getOptimisticResult(o),h=!a&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=h?d.subscribe(r.notifyManager.batchCalls(e)):l.noop;return d.updateResult(),t},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),p.useEffect(()=>{d.setOptions(o)},[o,d]),o?.suspense&&u.isPending)throw v(o,d,i);if((({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&void 0===e.data||(0,l.shouldThrowError)(s,[e.error,r])))({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!l.isServer&&u.isLoading&&u.isFetching&&!a){let e=c?v(o,d,i):n.getQueryCache().get(o.queryHash)?.promise;e?.catch(l.noop).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}(e,c,t)}e.s(["useQuery",()=>y],66027)},68983,e=>{"use strict";var t=e.i(66027);async function s(e,t=1,r=50){try{let s=new URL("/api/products",window.location.origin);if(e){let s=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:e,page:t,limit:r}),cache:"no-store"});if(!s.ok)throw Error(`Failed to fetch products: ${s.statusText}`);let a=await s.json();if(!a.success||!a.data)throw console.error("API Error:",a.error||"Failed to fetch products",a),Error(a.error||"Failed to fetch products");let i=a.data.map(e=>{let t,s;try{t=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),s=e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}catch(e){t=new Date,s=new Date}return{...e,images:Array.isArray(e.images)?e.images:[],tags:Array.isArray(e.tags)?e.tags:[],specifications:e.specifications||{},createdAt:t,updatedAt:s}});return{products:i,pagination:a.pagination||{page:1,limit:i.length,total:i.length,totalPages:1}}}{s.searchParams.set("page",t.toString()),s.searchParams.set("limit",r.toString());let e=await fetch(s.toString(),{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error(`Failed to fetch products: ${e.statusText}`);let a=await e.json();if(!a.success||!a.data)throw console.error("API Error:",a.error||"Failed to fetch products",a),Error(a.error||"Failed to fetch products");let i=a.data.map(e=>{let t,s;try{t=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),s=e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}catch(e){t=new Date,s=new Date}return{...e,images:Array.isArray(e.images)?e.images:[],tags:Array.isArray(e.tags)?e.tags:[],specifications:e.specifications||{},createdAt:t,updatedAt:s}});return{products:i,pagination:a.pagination||{page:1,limit:i.length,total:i.length,totalPages:1}}}}catch(e){return console.error("Error fetching products:",e),(e.message?.includes("Service Unavailable")||e.message?.includes("503"))&&console.warn("⚠️ Database service unavailable - returning empty products"),{products:[],pagination:{page:1,limit:0,total:0,totalPages:0}}}}function r(e,a=1,i=50){let n=(0,t.useQuery)({queryKey:["products",e,a,i],queryFn:()=>s(e,a,i),staleTime:12e4,gcTime:6e5,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,throwOnError:!1});return{data:n.data?.products||[],pagination:n.data?.pagination||{page:1,limit:0,total:0,totalPages:0},isLoading:n.isLoading,isError:n.isError,error:n.error}}e.s(["useProducts",()=>r])},63570,e=>{"use strict";var t=e.i(43476),s=e.i(49786),r=e.i(22016),a=e.i(75254);let i=(0,a.default)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),n=(0,a.default)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),l=(0,a.default)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);var o=e.i(63488),c=e.i(43432);function d(){return(0,t.jsx)("footer",{className:"border-t-[0.25px] border-border/30 bg-background",children:(0,t.jsxs)("div",{className:"container py-12",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4 col-span-2 md:col-span-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"درباره ساد"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"فروشگاه آنلاین قطعات خودرو وارداتی با بهترین کیفیت و قیمت. ما متعهد به ارائه بهترین خدمات به مشتریان خود هستیم."}),(0,t.jsxs)("div",{className:"flex space-x-2 space-x-reverse",children:[(0,t.jsx)(r.default,{href:"#",className:"p-2 rounded-full border-[0.25px] border-border/30 hover:bg-foreground hover:text-background transition-colors text-foreground",children:(0,t.jsx)(n,{className:"h-5 w-5"})}),(0,t.jsx)(r.default,{href:"#",className:"p-2 rounded-full border-[0.25px] border-border/30 hover:bg-foreground hover:text-background transition-colors text-foreground",children:(0,t.jsx)(i,{className:"h-5 w-5"})}),(0,t.jsx)(r.default,{href:"#",className:"p-2 rounded-full border-[0.25px] border-border/30 hover:bg-foreground hover:text-background transition-colors text-foreground",children:(0,t.jsx)(l,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"دسترسی سریع"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/products",className:"text-muted-foreground hover:text-foreground transition-colors",children:"محصولات"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"درباره ما"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/contact",className:"text-muted-foreground hover:text-foreground transition-colors",children:"تماس با ما"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/blog",className:"text-muted-foreground hover:text-foreground transition-colors",children:"وبلاگ"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"پشتیبانی"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/faq",className:"text-muted-foreground hover:text-foreground transition-colors",children:"سوالات متداول"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/shipping",className:"text-muted-foreground hover:text-foreground transition-colors",children:"ارسال و تحویل"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/returns",className:"text-muted-foreground hover:text-foreground transition-colors",children:"بازگشت کالا"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/warranty",className:"text-muted-foreground hover:text-foreground transition-colors",children:"گارانتی"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4 col-span-2 md:col-span-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"تماس با ما"}),(0,t.jsxs)("ul",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("li",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(c.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"021-12345678"})]}),(0,t.jsxs)("li",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(o.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"info@saded.ir"})]})]})]})]}),(0,t.jsx)("div",{className:"mt-8 pt-8 border-t-[0.25px] border-border/30 text-center text-sm text-muted-foreground",children:(0,t.jsxs)("p",{children:["© ",new Date().getFullYear()," ساد. تمامی حقوق محفوظ است."]})})]})})}var u=e.i(71645),h=e.i(70065),m=e.i(67881),p=e.i(23750),x=e.i(10708),f=e.i(70152),g=e.i(81140),v=e.i(20783),y=e.i(30030),b=e.i(69340),j=e.i(86318),w=e.i(99682),N=e.i(35804),S=e.i(48425),k=e.i(75830),R=["PageUp","PageDown"],C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},P="Slider",[M,I,T]=(0,k.createCollection)(P),[D,A]=(0,y.createContextScope)(P,[T]),[O,Q]=D(P),z=u.forwardRef((e,s)=>{let{name:r,min:a=0,max:i=100,step:n=1,orientation:l="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:h,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:x=!1,form:v,...y}=e,j=u.useRef(new Set),w=u.useRef(0),N="horizontal"===l,[S=[],k]=(0,b.useControllableState)({prop:h,defaultProp:d,onChange:e=>{let t=[...j.current];t[w.current]?.focus(),m(e)}}),E=u.useRef(S);function P(e,t,{commit:s}={commit:!1}){let r,l=(String(n).split(".")[1]||"").length,o=Math.round((Math.round((e-a)/n)*n+a)*(r=Math.pow(10,l)))/r,d=(0,f.clamp)(o,[a,i]);k((e=[])=>{let r=function(e=[],t,s){let r=[...e];return r[s]=t,r.sort((e,t)=>e-t)}(e,d,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,s)=>e[s+1]-t))>=t;return!0}(r,c*n))return e;{w.current=r.indexOf(d);let t=String(r)!==String(e);return t&&s&&p(r),t?r:e}})}return(0,t.jsx)(O,{scope:e.__scopeSlider,name:r,disabled:o,min:a,max:i,valueIndexToChangeRef:w,thumbs:j.current,values:S,orientation:l,form:v,children:(0,t.jsx)(M.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(M.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(N?U:H,{"aria-disabled":o,"data-disabled":o?"":void 0,...y,ref:s,onPointerDown:(0,g.composeEventHandlers)(y.onPointerDown,()=>{o||(E.current=S)}),min:a,max:i,inverted:x,onSlideStart:o?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let s=e.map(e=>Math.abs(e-t)),r=Math.min(...s);return s.indexOf(r)}(S,e);P(e,t)},onSlideMove:o?void 0:function(e){P(e,w.current)},onSlideEnd:o?void 0:function(){let e=E.current[w.current];S[w.current]!==e&&p(S)},onHomeKeyDown:()=>!o&&P(a,0,{commit:!0}),onEndKeyDown:()=>!o&&P(i,S.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!o){let s=R.includes(e.key)||e.shiftKey&&C.includes(e.key),r=w.current;P(S[r]+n*(s?10:1)*t,r,{commit:!0})}}})})})})});z.displayName=P;var[L,F]=D(P,{startEdge:"left",endEdge:"right",size:"width",direction:1}),U=u.forwardRef((e,s)=>{let{min:r,max:a,dir:i,inverted:n,onSlideStart:l,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...h}=e,[m,p]=u.useState(null),x=(0,v.useComposedRefs)(s,e=>p(e)),f=u.useRef(void 0),g=(0,j.useDirection)(i),y="ltr"===g,b=y&&!n||!y&&n;function w(e){let t=f.current||m.getBoundingClientRect(),s=G([0,t.width],b?[r,a]:[a,r]);return f.current=t,s(e-t.left)}return(0,t.jsx)(L,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,t.jsx)(_,{dir:g,"data-orientation":"horizontal",...h,ref:x,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=w(e.clientX);l?.(t)},onSlideMove:e=>{let t=w(e.clientX);o?.(t)},onSlideEnd:()=>{f.current=void 0,c?.()},onStepKeyDown:e=>{let t=E[b?"from-left":"from-right"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),H=u.forwardRef((e,s)=>{let{min:r,max:a,inverted:i,onSlideStart:n,onSlideMove:l,onSlideEnd:o,onStepKeyDown:c,...d}=e,h=u.useRef(null),m=(0,v.useComposedRefs)(s,h),p=u.useRef(void 0),x=!i;function f(e){let t=p.current||h.current.getBoundingClientRect(),s=G([0,t.height],x?[a,r]:[r,a]);return p.current=t,s(e-t.top)}return(0,t.jsx)(L,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:(0,t.jsx)(_,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=f(e.clientY);n?.(t)},onSlideMove:e=>{let t=f(e.clientY);l?.(t)},onSlideEnd:()=>{p.current=void 0,o?.()},onStepKeyDown:e=>{let t=E[x?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),_=u.forwardRef((e,s)=>{let{__scopeSlider:r,onSlideStart:a,onSlideMove:i,onSlideEnd:n,onHomeKeyDown:l,onEndKeyDown:o,onStepKeyDown:c,...d}=e,u=Q(P,r);return(0,t.jsx)(S.Primitive.span,{...d,ref:s,onKeyDown:(0,g.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):R.concat(C).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,g.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():a(e)}),onPointerMove:(0,g.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,g.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),n(e))})})}),$="SliderTrack",B=u.forwardRef((e,s)=>{let{__scopeSlider:r,...a}=e,i=Q($,r);return(0,t.jsx)(S.Primitive.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...a,ref:s})});B.displayName=$;var q="SliderRange",K=u.forwardRef((e,s)=>{let{__scopeSlider:r,...a}=e,i=Q(q,r),n=F(q,r),l=u.useRef(null),o=(0,v.useComposedRefs)(s,l),c=i.values.length,d=i.values.map(e=>Y(e,i.min,i.max)),h=c>1?Math.min(...d):0,m=100-Math.max(...d);return(0,t.jsx)(S.Primitive.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...a,ref:o,style:{...e.style,[n.startEdge]:h+"%",[n.endEdge]:m+"%"}})});K.displayName=q;var V="SliderThumb",W=u.forwardRef((e,s)=>{let r=I(e.__scopeSlider),[a,i]=u.useState(null),n=(0,v.useComposedRefs)(s,e=>i(e)),l=u.useMemo(()=>a?r().findIndex(e=>e.ref.current===a):-1,[r,a]);return(0,t.jsx)(X,{...e,ref:n,index:l})}),X=u.forwardRef((e,s)=>{var r,a,i,n,l;let o,c,{__scopeSlider:d,index:h,name:m,...p}=e,x=Q(V,d),f=F(V,d),[y,b]=u.useState(null),j=(0,v.useComposedRefs)(s,e=>b(e)),w=!y||x.form||!!y.closest("form"),k=(0,N.useSize)(y),R=x.values[h],C=void 0===R?0:Y(R,x.min,x.max),E=(r=h,(a=x.values.length)>2?`Value ${r+1} of ${a}`:2===a?["Minimum","Maximum"][r]:void 0),P=k?.[f.size],I=P?(i=P,n=C,l=f.direction,c=G([0,50],[0,o=i/2]),(o-c(n)*l)*l):0;return u.useEffect(()=>{if(y)return x.thumbs.add(y),()=>{x.thumbs.delete(y)}},[y,x.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${C}% + ${I}px)`},children:[(0,t.jsx)(M.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(S.Primitive.span,{role:"slider","aria-label":e["aria-label"]||E,"aria-valuemin":x.min,"aria-valuenow":R,"aria-valuemax":x.max,"aria-orientation":x.orientation,"data-orientation":x.orientation,"data-disabled":x.disabled?"":void 0,tabIndex:x.disabled?void 0:0,...p,ref:j,style:void 0===R?{display:"none"}:e.style,onFocus:(0,g.composeEventHandlers)(e.onFocus,()=>{x.valueIndexToChangeRef.current=h})})}),w&&(0,t.jsx)(J,{name:m??(x.name?x.name+(x.values.length>1?"[]":""):void 0),form:x.form,value:R},h)]})});W.displayName=V;var J=u.forwardRef(({__scopeSlider:e,value:s,...r},a)=>{let i=u.useRef(null),n=(0,v.useComposedRefs)(i,a),l=(0,w.usePrevious)(s);return u.useEffect(()=>{let e=i.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==s&&t){let r=new Event("input",{bubbles:!0});t.call(e,s),e.dispatchEvent(r)}},[l,s]),(0,t.jsx)(S.Primitive.input,{style:{display:"none"},...r,ref:n,defaultValue:s})});function Y(e,t,s){return(0,f.clamp)(100/(s-t)*(e-t),[0,100])}function G(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}J.displayName="RadioBubbleInput";var Z=e.i(47163);let ee=u.forwardRef(({className:e,...s},r)=>(0,t.jsxs)(z,{ref:r,className:(0,Z.cn)("relative flex w-full touch-none select-none items-center",e),...s,children:[(0,t.jsx)(B,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(K,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(W,{className:"block h-5 w-5 rounded-full border-[0.25px] border-primary/30 bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),(0,t.jsx)(W,{className:"block h-5 w-5 rounded-full border-[0.25px] border-primary/30 bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ee.displayName=z.displayName;var et=e.i(25959),es=e.i(69035),er=e.i(36361),ea=e.i(17513);function ei(){let{setFilters:e,clearFilters:s,filters:r}=(0,er.useProductStore)(),{getActiveCategories:a,loadCategoriesFromDB:i}=(0,ea.useCategoryStore)(),[n,l]=(0,u.useState)([0,5e7]),[o,c]=(0,u.useState)([]),[d,f]=(0,u.useState)([]),[g,v]=(0,u.useState)(""),[y,b]=(0,u.useState)(void 0),j=(0,u.useRef)(!1),{getEnabledProducts:w}=(0,er.useProductStore)(),N=w(),S=(0,ea.useCategoryStore)(e=>e.getEnabledCategories());(0,u.useEffect)(()=>{(async()=>{try{await i(!0)}catch(e){console.error("Error loading categories:",e)}})()},[i]);let k=(0,u.useMemo)(()=>{let e=new Set;return N.forEach(t=>{t.brand&&e.add(t.brand)}),Array.from(e).sort()},[N]),R=(0,u.useMemo)(()=>{let e=new Set;return N.forEach(t=>{t.category&&e.add(t.category)}),S.forEach(t=>{t.name&&e.add(t.name)}),Array.from(e).sort()},[N,S]);return(0,u.useEffect)(()=>{(void 0!==r.minPrice||void 0!==r.maxPrice)&&l([r.minPrice||0,r.maxPrice||5e7]),r.brands&&c(r.brands),r.categories&&f(r.categories),r.search&&v(r.search),void 0!==r.inStock&&b(r.inStock)},[]),(0,u.useEffect)(()=>{if(j.current)return;let t=setTimeout(()=>{let t={};n[0]>0&&(t.minPrice=n[0]),n[1]<5e7&&(t.maxPrice=n[1]),o.length>0&&(t.brands=o),d.length>0&&(t.categories=d),g.trim()&&(t.search=g.trim()),void 0!==y&&(t.inStock=y),e(t)},150);return()=>clearTimeout(t)},[n,o,d,g,y,e]),(0,t.jsx)("div",{className:"space-y-3 sm:space-y-4",children:(0,t.jsxs)(h.Card,{children:[(0,t.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between p-4 sm:p-6 pb-3 sm:pb-4",children:[(0,t.jsx)(h.CardTitle,{className:"text-base sm:text-lg",children:"فیلترها"}),(0,t.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>{l([0,5e7]),c([]),f([]),v(""),b(void 0),s()},className:"text-xs sm:text-sm h-8 sm:h-9",children:"پاک کردن"})]}),(0,t.jsxs)(h.CardContent,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 pt-0",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{className:"text-sm sm:text-base",children:"جستجو"}),(0,t.jsx)(p.Input,{placeholder:"جستجوی محصول...",value:g,onChange:e=>v(e.target.value),className:"text-sm"})]}),(0,t.jsx)(es.Separator,{}),(0,t.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,t.jsx)(x.Label,{className:"text-sm sm:text-base",children:"محدوده قیمت"}),(0,t.jsx)(ee,{value:n,onValueChange:l,max:5e7,min:0,step:1e5,className:"w-full"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[(0,t.jsxs)("span",{children:[n[0].toLocaleString("fa-IR")," تومان"]}),(0,t.jsxs)("span",{children:[n[1].toLocaleString("fa-IR")," تومان"]})]})]}),(0,t.jsx)(es.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,t.jsx)(x.Label,{className:"text-sm sm:text-base",children:"برند"}),(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:k.length>0?k.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(et.Checkbox,{id:e,checked:o.includes(e),onCheckedChange:()=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"h-4 w-4"}),(0,t.jsx)("label",{htmlFor:e,className:"text-xs sm:text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:e})]},e)):(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"برندی یافت نشد"})})]}),(0,t.jsx)(es.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,t.jsx)(x.Label,{className:"text-sm sm:text-base",children:"دسته‌بندی"}),(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:R.length>0?R.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(et.Checkbox,{id:e,checked:d.includes(e),onCheckedChange:()=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"h-4 w-4"}),(0,t.jsx)("label",{htmlFor:e,className:"text-xs sm:text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:e})]},e)):(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"دسته‌بندی‌ای یافت نشد"})})]}),(0,t.jsx)(es.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,t.jsx)(x.Label,{className:"text-sm sm:text-base",children:"وضعیت موجودی"}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,t.jsx)(et.Checkbox,{id:"in-stock",checked:!0===y,onCheckedChange:e=>b(!!e||void 0),className:"h-4 w-4"}),(0,t.jsx)("label",{htmlFor:"in-stock",className:"text-xs sm:text-sm font-medium leading-none cursor-pointer",children:"موجود در انبار"})]})})]})]})]})})}let en=(0,a.default)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),el=(0,a.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var eo=e.i(88844),ec=e.i(63059),ed=e.i(73375),eu=e.i(97548),eh=e.i(37727),em=e.i(57688),ep=e.i(68983),ex=e.i(4967),ef=e.i(52917);function eg(){return(0,t.jsx)(ei,{})}function ev(){let[e,s]=(0,u.useState)("grid"),[a,i]=(0,u.useState)(1),[n,l]=(0,u.useState)(!1),{getFilteredProducts:o,filters:c,getEnabledProducts:d}=(0,er.useProductStore)(),p=c&&(c.search||void 0!==c.minPrice||void 0!==c.maxPrice||c.brands&&c.brands.length>0||c.categories&&c.categories.length>0||void 0!==c.inStock),{data:x,pagination:f,isLoading:g}=(0,ep.useProducts)(p?c:void 0,a,50),v=(0,u.useMemo)(()=>1!==a||p?[]:d().slice(0,50),[a,p,d]);(0,u.useEffect)(()=>{if(x&&x.length>0){let e=er.useProductStore.getState();x.forEach(t=>{e.getProduct(t.id)||e.addProduct(t)})}},[x]);let y=(0,u.useMemo)(()=>x&&x.length>0?x.filter(e=>e.enabled):g||1!==a||p||!(v.length>0)?[]:v,[x,v,a,p,g]);(0,u.useEffect)(()=>{i(1)},[p?JSON.stringify(c):""]);let b=f?.totalPages||1,j=f?.total||y.length;return g&&0===y.length?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:Array.from({length:10}).map((e,s)=>(0,t.jsx)("div",{className:"animate-pulse",children:(0,t.jsxs)(h.Card,{className:"h-full flex flex-col",children:[(0,t.jsx)(h.CardHeader,{className:"p-0",children:(0,t.jsx)("div",{className:"relative h-48 w-full bg-muted rounded-t-lg"})}),(0,t.jsxs)(h.CardContent,{className:"p-4",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]})]})},s))}):0!==y.length||g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"lg:hidden fixed -left-[9999px] -top-[9999px] opacity-0 pointer-events-none",children:(0,t.jsx)(eg,{})}),(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2 sm:px-0",children:[(0,t.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:g?"در حال بارگذاری...":`نمایش ${y.length} از ${j} محصول`}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsxs)(ef.Sheet,{open:n,onOpenChange:l,children:[(0,t.jsx)(ef.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(m.Button,{variant:"outline",size:"sm",className:"lg:hidden flex items-center gap-2 h-8 w-auto sm:h-9 px-2 sm:px-3",children:[(0,t.jsx)(eu.Filter,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm",children:"فیلترها"})]})}),(0,t.jsxs)(ef.SheetContent,{side:"right",className:"w-[85vw] sm:w-[400px] overflow-y-auto",children:[(0,t.jsx)(ef.SheetHeader,{children:(0,t.jsxs)(ef.SheetTitle,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"فیلتر محصولات"}),(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(!1),children:(0,t.jsx)(eh.X,{className:"h-4 w-4"})})]})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(eg,{})})]})]}),(0,t.jsx)(m.Button,{variant:"grid"===e?"default":"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:()=>s("grid"),children:(0,t.jsx)(en,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),(0,t.jsx)(m.Button,{variant:"list"===e?"default":"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:()=>s("list"),children:(0,t.jsx)(el,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),"grid"===e?(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:y.map(e=>(0,t.jsx)(r.default,{href:`/products/${e.id}`,children:(0,t.jsxs)(h.Card,{className:"flex flex-col border-[0.1px] border-border/2 hover:border-border/4 hover:shadow-lg transition-all active:scale-95 relative overflow-hidden cursor-pointer h-full",children:[(0,t.jsx)(h.CardHeader,{className:"p-0 relative",children:(0,t.jsxs)("div",{className:"relative h-20 sm:h-24 md:h-28 w-full bg-muted rounded-t-lg overflow-hidden",children:[(0,t.jsx)(em.default,{src:e.images[0]||(0,ex.getPlaceholderImage)(300,300),alt:`${e.name}${e.brand?` - برند ${e.brand}`:""}${e.category?` - دسته‌بندی ${e.category}`:""}`,fill:!0,className:"object-cover",loading:"lazy",sizes:"(max-width: 640px) 33vw, (max-width: 768px) 25vw, (max-width: 1024px) 20vw, (max-width: 1280px) 16vw, 14vw"}),e.originalPrice&&e.originalPrice>e.price&&(0,t.jsxs)("div",{className:"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 bg-red-500 text-white text-[8px] sm:text-[9px] font-bold px-1 sm:px-1.5 py-0.5 rounded shadow-sm",children:[Math.round((e.originalPrice-e.price)/e.originalPrice*100),"%"]})]})}),(0,t.jsxs)(h.CardContent,{className:"flex-1 p-1.5 sm:p-2",children:[(0,t.jsx)("h3",{className:"font-medium mb-1 sm:mb-1.5 hover:text-primary transition-colors line-clamp-2 text-[10px] sm:text-xs leading-tight",children:e.name}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsxs)("span",{className:"text-[10px] sm:text-xs font-bold text-primary",children:[e.price.toLocaleString("fa-IR")," ",(0,t.jsx)("span",{className:"text-[8px] sm:text-[9px]",children:"تومان"})]}),e.originalPrice&&e.originalPrice>e.price&&(0,t.jsx)("span",{className:"text-[8px] sm:text-[9px] text-muted-foreground line-through",children:e.originalPrice.toLocaleString("fa-IR")})]})]})]})},e.id))}):(0,t.jsx)("div",{className:"space-y-3 sm:space-y-4",children:y.map(e=>(0,t.jsxs)(h.Card,{className:"flex flex-row hover:shadow-lg transition-all active:scale-[0.98]",children:[(0,t.jsx)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 md:w-48 md:h-48 bg-muted rounded-r-lg overflow-hidden flex-shrink-0",children:(0,t.jsx)(em.default,{src:e.images[0]||"/api/placeholder/300/300",alt:e.name,fill:!0,className:"object-cover",loading:"lazy",sizes:"(max-width: 768px) 96px, (max-width: 1024px) 128px, 192px"})}),(0,t.jsxs)("div",{className:"flex-1 p-3 sm:p-4 md:p-6 flex flex-col justify-between min-w-0",children:[(0,t.jsx)("div",{className:"min-w-0",children:(0,t.jsx)(r.default,{href:`/products/${e.id}`,children:(0,t.jsx)("h3",{className:"text-sm sm:text-base md:text-xl font-semibold mb-2 sm:mb-3 hover:text-primary transition-colors line-clamp-2",children:e.name})})}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsxs)("span",{className:"text-[10px] sm:text-xs font-bold text-primary",children:[e.price.toLocaleString("fa-IR")," ",(0,t.jsx)("span",{className:"text-[8px] sm:text-[9px]",children:"تومان"})]}),e.originalPrice&&e.originalPrice>e.price&&(0,t.jsx)("span",{className:"text-[8px] sm:text-[9px] text-muted-foreground line-through",children:e.originalPrice.toLocaleString("fa-IR")})]})]})]},e.id))}),b>1&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2 mt-6 sm:mt-8 px-2",children:[(0,t.jsxs)(m.Button,{variant:"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>i(e=>Math.max(1,e-1)),disabled:1===a||g,children:[(0,t.jsx)(ec.ChevronRight,{className:"h-4 w-4 ml-1"}),"قبلی"]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,b)},(e,s)=>{let r;return r=b<=5||a<=3?s+1:a>=b-2?b-4+s:a-2+s,(0,t.jsx)(m.Button,{variant:a===r?"default":"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm min-w-[2.5rem]",onClick:()=>i(r),disabled:g,children:r},r)})}),(0,t.jsxs)(m.Button,{variant:"outline",size:"sm",className:"h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>i(e=>Math.min(b,e+1)),disabled:a===b||g,children:["بعدی",(0,t.jsx)(ed.ChevronLeft,{className:"h-4 w-4 mr-1"})]})]})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20",children:[(0,t.jsx)(eo.Package,{className:"h-12 w-12 sm:h-16 sm:w-16 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"محصولی یافت نشد"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground text-center",children:p?"هیچ محصولی با فیلترهای انتخابی یافت نشد":"در حال حاضر محصولی برای نمایش وجود ندارد"})]})}function ey(){let{loadCategoriesFromDB:e}=(0,ea.useCategoryStore)();return(0,u.useEffect)(()=>{e()},[e]),(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(s.Header,{}),(0,t.jsxs)("main",{className:"flex-1 container py-4 sm:py-6 md:py-8 px-3 sm:px-4",children:[(0,t.jsx)("div",{className:"mb-4 sm:mb-6 md:mb-8 hidden lg:block",children:(0,t.jsx)("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"محصولات"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"بیش از 50,000 قطعه خودرو از برندهای معتبر"})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:[(0,t.jsx)("aside",{className:"hidden lg:block lg:col-span-1",children:(0,t.jsx)(ei,{})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)(ev,{})})]})]}),(0,t.jsx)(d,{})]})}e.s(["default",()=>ey],63570)}]);