(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},23750,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(47163);let a=r.forwardRef(({className:e,type:r,...a},i)=>(0,t.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border-[0.25px] border-input/30 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...a}));a.displayName="Input",e.s(["Input",()=>a])},43432,e=>{"use strict";let t=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],43432)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},60366,e=>{"use strict";var t=e.i(6344),r=e.i(73493);let s={},a=(0,t.create)((t,a)=>({orders:[],filters:s,isLoading:!1,setOrders:e=>t({orders:e}),addOrder:e=>t(t=>{let r=t.orders.findIndex(t=>t.id===e.id);if(r>=0){let s=[...t.orders];return s[r]=e,{orders:s}}return{orders:[...t.orders,e]}}),updateOrder:(e,r)=>t(t=>{let s=t.orders.findIndex(t=>t.id===e);if(s>=0){let e=[...t.orders];return e[s]={...e[s],...r},{orders:e}}return t}),updateOrderStatus:(e,r)=>t(t=>({orders:t.orders.map(t=>t.id===e?{...t,status:r,updatedAt:new Date}:t)})),updatePaymentStatus:(e,r)=>t(t=>({orders:t.orders.map(t=>t.id===e?{...t,paymentStatus:r,updatedAt:new Date}:t)})),deleteOrder:e=>t(t=>({orders:t.orders.filter(t=>t.id!==e)})),getOrder:e=>a().orders.find(t=>t.id===e),setFilters:e=>t(t=>({filters:{...t.filters,...e}})),clearFilters:()=>t({filters:s}),loadOrdersFromDB:async()=>{t({isLoading:!0});try{let s=new AbortController,a=setTimeout(()=>s.abort(),15e3),{fetchWithAuth:i}=await e.A(91079),l=await i("/api/orders",{signal:s.signal});if(clearTimeout(a),l.ok){let e;try{e=await l.json()}catch(e){r.logger.error("Error parsing orders response:",e),t({orders:[],isLoading:!1});return}if(e.success&&e.data)try{let s=e.data.map(e=>{let t=[],s={};try{t=Array.isArray(e.items)?e.items:"string"==typeof e.items?JSON.parse(e.items):[]}catch(s){r.logger.warn("Error parsing items for order:",e.id,s),t=[]}try{s="object"==typeof e.shippingAddress&&null!==e.shippingAddress?e.shippingAddress:"string"==typeof e.shippingAddress?JSON.parse(e.shippingAddress):{}}catch(t){r.logger.warn("Error parsing shippingAddress for order:",e.id,t),s={}}return{...e,items:t,shippingAddress:s,total:Number(e.total)||0,shippingCost:Number(e.shippingCost)||0,createdAt:e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),updatedAt:e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}});t({orders:s,isLoading:!1})}catch(e){r.logger.error("Error parsing orders data:",e),t({orders:[],isLoading:!1})}else t({orders:[],isLoading:!1})}else r.logger.error("Failed to load orders:",l.status),t({orders:[],isLoading:!1})}catch(e){e instanceof Error&&"AbortError"!==e.name&&r.logger.error("Error loading orders from DB:",e),t({orders:[],isLoading:!1})}}}));e.s(["useOrderStore",0,a])},70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(47163);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border-[0.25px] border-border/3 bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let i=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("h3",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let n=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("p",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...r}));n.displayName="CardDescription";let d=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>i,"CardTitle",()=>l])},36361,e=>{"use strict";var t=e.i(6344),r=e.i(73493);let s={},a=(0,t.create)((e,t)=>({products:[],filters:s,setProducts:t=>e({products:t}),addProduct:t=>e(e=>{let r=e.products.findIndex(e=>e.id===t.id);if(r>=0){let s=[...e.products];return s[r]=t,{products:s}}return{products:[...e.products,t]}}),updateProduct:t=>e(e=>{let r=e.products.findIndex(e=>e.id===t.id);if(r>=0){let s=[...e.products];return s[r]=t,{products:s}}return e}),removeProduct:t=>e(e=>({products:e.products.filter(e=>e.id!==t)})),getProduct:e=>t().products.find(t=>t.id===e),getEnabledProducts:()=>t().products.filter(e=>e.enabled),getFilteredProducts:()=>{let{products:e,filters:r}=t(),s=e.filter(e=>e.enabled);if(r.search){let e=r.search.toLowerCase();s=s.filter(t=>t.name.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)||t.brand?.toLowerCase().includes(e))}return void 0!==r.minPrice&&(s=s.filter(e=>e.price>=r.minPrice)),void 0!==r.maxPrice&&(s=s.filter(e=>e.price<=r.maxPrice)),r.brands&&r.brands.length>0&&(s=s.filter(e=>e.brand&&r.brands.includes(e.brand))),r.categories&&r.categories.length>0&&(s=s.filter(e=>e.category&&r.categories.includes(e.category))),void 0!==r.inStock&&(s=s.filter(e=>e.inStock===r.inStock)),s},setFilters:t=>e(e=>({filters:{...e.filters,...t}})),clearFilters:()=>e({filters:s}),createProduct:async e=>{let r=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||"خطا در ایجاد محصول");let s=(await r.json()).data;return t().addProduct(s),s},updateProductInDB:async(e,r)=>{let s=await fetch(`/api/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"خطا در به‌روزرسانی محصول");let a=(await s.json()).data;return t().updateProduct(a),a},deleteProductFromDB:async e=>{let r=await fetch(`/api/products/${e}`,{method:"DELETE"});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||"خطا در حذف محصول");t().removeProduct(e)},loadProductsFromDB:async(e=!1)=>{try{let r=await fetch(e?"/api/products?limit=1000&all=true":"/api/products?limit=1000");if(!r.ok){let e=await r.json().catch(()=>({})),t=e.error||e.message||"خطا در بارگذاری محصولات";throw Error(t)}let s=((await r.json()).data||[]).map(e=>({...e,createdAt:e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),updatedAt:e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}));t().setProducts(s)}catch(e){r.logger.error("Error loading products from DB:",e)}},deleteProduct:async e=>{await t().deleteProductFromDB(e)},deleteProducts:async e=>{await Promise.all(e.map(e=>t().deleteProductFromDB(e)))},toggleProduct:async e=>{let r=t().getProduct(e);r&&await t().updateProductInDB(e,{enabled:!r.enabled})},toggleProducts:async(e,r)=>{await Promise.all(e.map(e=>t().updateProductInDB(e,{enabled:r})))}}));e.s(["useProductStore",0,a])},10708,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var s=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,s.createSlot)(`Primitive.${a}`),l=r.forwardRef((e,r)=>{let{asChild:s,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?i:a,{...l,ref:r})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{}),i=r.forwardRef((e,r)=>(0,t.jsx)(a.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=e.i(25913),n=e.i(47163);let d=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i,{ref:s,className:(0,n.cn)(d(),e),...r}));o.displayName=i.displayName,e.s(["Label",()=>o],10708)},88143,(e,t,r)=>{"use strict";function s({widthInt:e,heightInt:t,blurWidth:r,blurHeight:s,blurDataURL:a,objectFit:i}){let l=r?40*r:e,n=s?40*s:t,d=l&&n?`viewBox='0 0 ${l} ${n}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${d}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${d?"none":"contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${a}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return s}})},87690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={VALID_LOADERS:function(){return i},imageConfigDefault:function(){return l}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=["default","imgix","cloudinary","akamai","custom"],l={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return d}}),e.r(33525);let s=e.r(88143),a=e.r(87690),i=["-moz-initial","fill","none","scale-down",void 0];function l(e){return void 0!==e.default}function n(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function d({src:e,sizes:t,unoptimized:r=!1,priority:d=!1,preload:o=!1,loading:c,className:u,quality:m,width:p,height:f,fill:h=!1,style:g,overrideSrc:x,onLoad:b,onLoadingComplete:y,placeholder:j="empty",blurDataURL:v,fetchPriority:w,decoding:N="async",layout:C,objectFit:P,objectPosition:_,lazyBoundary:S,lazyRoot:k,...E},O){var A;let R,M,D,{imgConf:I,showAltText:$,blurComplete:z,defaultLoader:L}=O,T=I||a.imageConfigDefault;if("allSizes"in T)R=T;else{let e=[...T.deviceSizes,...T.imageSizes].sort((e,t)=>e-t),t=T.deviceSizes.sort((e,t)=>e-t),r=T.qualities?.sort((e,t)=>e-t);R={...T,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===L)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let B=E.loader||L;delete E.loader,delete E.srcSet;let F="__next_img_default"in B;if(F){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=B;B=t=>{let{config:r,...s}=t;return e(s)}}if(C){"fill"===C&&(h=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(g={...g,...e});let r={responsive:"100vw",fill:"100vw"}[C];r&&!t&&(t=r)}let q="",U=n(p),H=n(f);if((A=e)&&"object"==typeof A&&(l(A)||void 0!==A.src)){let t=l(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(M=t.blurWidth,D=t.blurHeight,v=v||t.blurDataURL,q=t.src,!h)if(U||H){if(U&&!H){let e=U/t.width;H=Math.round(t.height*e)}else if(!U&&H){let e=H/t.height;U=Math.round(t.width*e)}}else U=t.width,H=t.height}let X=!d&&!o&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:q)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,X=!1),R.unoptimized&&(r=!0),F&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let G=n(m),W=Object.assign(h?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:P,objectPosition:_}:{},$?{}:{color:"transparent"},g),V=z||"empty"===j?null:"blur"===j?`url("data:image/svg+xml;charset=utf-8,${(0,s.getImageBlurSvg)({widthInt:U,heightInt:H,blurWidth:M,blurHeight:D,blurDataURL:v||"",objectFit:W.objectFit})}")`:`url("${j}")`,J=i.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,K=V?{backgroundSize:J,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:V}:{},Q=function({config:e,src:t,unoptimized:r,width:s,quality:a,sizes:i,loader:l}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:n,kind:d}=function({deviceSizes:e,allSizes:t},r,s){if(s){let r=/(^|\s)(1?\d?\d)vw/g,a=[];for(let e;e=r.exec(s);)a.push(parseInt(e[2]));if(a.length){let r=.01*Math.min(...a);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,s,i),o=n.length-1;return{sizes:i||"w"!==d?i:"100vw",srcSet:n.map((r,s)=>`${l({config:e,src:t,quality:a,width:r})} ${"w"===d?r:s+1}${d}`).join(", "),src:l({config:e,src:t,quality:a,width:n[o]})}}({config:R,src:e,unoptimized:r,width:U,quality:G,sizes:t,loader:B}),Y=X?"lazy":c;return{props:{...E,loading:Y,fetchPriority:w,width:U,height:H,decoding:N,className:u,style:{...W,...K},sizes:Q.sizes,srcSet:Q.srcSet,src:x||Q.src},meta:{unoptimized:r,preload:o||d,placeholder:j,fill:h}}}},98879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let s=e.r(71645),a="undefined"==typeof window,i=a?()=>{}:s.useLayoutEffect,l=a?()=>{}:s.useEffect;function n(e){let{headManager:t,reduceComponentsToState:r}=e;function n(){if(t&&t.mountedInstances){let e=s.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return a&&(t?.mountedInstances?.add(e.children),n()),i(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),i(()=>(t&&(t._pendingUpdate=n),()=>{t&&(t._pendingUpdate=n)})),l(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return h},defaultHead:function(){return u}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(55682),l=e.r(90809),n=e.r(43476),d=l._(e.r(71645)),o=i._(e.r(98879)),c=e.r(42732);function u(){return[(0,n.jsx)("meta",{charSet:"utf-8"},"charset"),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===d.default.Fragment?e.concat(d.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let p=["name","httpEquiv","charSet","itemProp"];function f(e){let t,r,s,a;return e.reduce(m,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,s=new Set,a={},e=>{let i=!0,l=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){l=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?i=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?i=!1:r.add(e.type);break;case"meta":for(let t=0,r=p.length;t<r;t++){let r=p[t];if(e.props.hasOwnProperty(r))if("charSet"===r)s.has(r)?i=!1:s.add(r);else{let t=e.props[r],s=a[r]||new Set;("name"!==r||!l)&&s.has(t)?i=!1:(s.add(t),a[r]=s)}}}return i})).reverse().map((e,t)=>{let r=e.key||t;return d.default.cloneElement(e,{key:r})})}let h=function({children:e}){let t=(0,d.useContext)(c.HeadManagerContext);return(0,n.jsx)(o.default,{reduceComponentsToState:f,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return i}});let s=e.r(55682)._(e.r(71645)),a=e.r(87690),i=s.default.createContext(a.imageConfigDefault)},65856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return s}});let s=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,r)=>{"use strict";function s(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return s}})},1948,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}});let s=e.r(70965);function a({config:e,src:t,width:r,quality:a}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let i=(0,s.findClosestQuality)(a,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${i}${t.startsWith("/_next/static/media/"),""}`}a.__next_img_default=!0;let i=a},85437,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return j}});let s=e.r(55682),a=e.r(90809),i=e.r(43476),l=a._(e.r(71645)),n=s._(e.r(74080)),d=s._(e.r(25633)),o=e.r(8927),c=e.r(87690),u=e.r(18556);e.r(33525);let m=e.r(65856),p=s._(e.r(1948)),f=e.r(18581),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!1};function g(e,t,r,s,a,i,l){let n=e?.src;e&&e["data-loaded-src"]!==n&&(e["data-loaded-src"]=n,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&a(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let s=!1,a=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>s,isPropagationStopped:()=>a,persist:()=>{},preventDefault:()=>{s=!0,t.preventDefault()},stopPropagation:()=>{a=!0,t.stopPropagation()}})}s?.current&&s.current(e)}}))}function x(e){return l.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let b=(0,l.forwardRef)(({src:e,srcSet:t,sizes:r,height:s,width:a,decoding:n,className:d,style:o,fetchPriority:c,placeholder:u,loading:m,unoptimized:p,fill:h,onLoadRef:b,onLoadingCompleteRef:y,setBlurComplete:j,setShowAltText:v,sizesInput:w,onLoad:N,onError:C,...P},_)=>{let S=(0,l.useCallback)(e=>{e&&(C&&(e.src=e.src),e.complete&&g(e,u,b,y,j,p,w))},[e,u,b,y,j,C,p,w]),k=(0,f.useMergedRef)(_,S);return(0,i.jsx)("img",{...P,...x(c),loading:m,width:a,height:s,decoding:n,"data-nimg":h?"fill":"1",className:d,style:o,sizes:r,srcSet:t,src:e,ref:k,onLoad:e=>{g(e.currentTarget,u,b,y,j,p,w)},onError:e=>{v(!0),"empty"!==u&&j(!0),C&&C(e)}})});function y({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...x(t.fetchPriority)};return e&&n.default.preload?(n.default.preload(t.src,r),null):(0,i.jsx)(d.default,{children:(0,i.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let j=(0,l.forwardRef)((e,t)=>{let r=(0,l.useContext)(m.RouterContext),s=(0,l.useContext)(u.ImageConfigContext),a=(0,l.useMemo)(()=>{let e=h||s||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),a=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:a,localPatterns:"undefined"==typeof window?s?.localPatterns:e.localPatterns}},[s]),{onLoad:n,onLoadingComplete:d}=e,f=(0,l.useRef)(n);(0,l.useEffect)(()=>{f.current=n},[n]);let g=(0,l.useRef)(d);(0,l.useEffect)(()=>{g.current=d},[d]);let[x,j]=(0,l.useState)(!1),[v,w]=(0,l.useState)(!1),{props:N,meta:C}=(0,o.getImgProps)(e,{defaultLoader:p.default,imgConf:a,blurComplete:x,showAltText:v});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b,{...N,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:f,onLoadingCompleteRef:g,setBlurComplete:j,setShowAltText:w,sizesInput:e.sizes,ref:t}),C.preload?(0,i.jsx)(y,{isAppRouter:!r,imgAttributes:N}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return c},getImageProps:function(){return o}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(55682),l=e.r(8927),n=e.r(85437),d=i._(e.r(1948));function o(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=n.Image},57688,(e,t,r)=>{t.exports=e.r(94909)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},15788,e=>{"use strict";let t=(0,e.i(75254).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],15788)},72664,e=>{"use strict";let t=(0,e.i(75254).default)("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["Box",()=>t],72664)},84213,(e,t,r)=>{let s=Error("Could not parse module '[project]/components/chat/quick-buy-chat.tsx'\n\nUnexpected token. Did you mean `{'>'}` or `&gt;`?");throw s.code="MODULE_UNPARSABLE",s},71876,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(70065),i=e.i(67881),l=e.i(23750),n=e.i(10708),d=e.i(60366),o=e.i(36361),c=e.i(55436),u=e.i(88844),m=e.i(46897),p=e.i(43432),f=e.i(63488),h=e.i(87316),g=e.i(15788),x=e.i(95468),b=e.i(3116),y=e.i(73884),j=e.i(1928),v=e.i(72664),w=e.i(69638),N=e.i(94983),C=e.i(57688),P=e.i(94179);e.i(74080);var _=e.i(91918),S=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let a=(0,_.createSlot)(`Primitive.${s}`),i=r.forwardRef((e,r)=>{let{asChild:i,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?a:s,{...l,ref:r})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{}),k="Progress",[E,O]=function(e,s=[]){let a=[],i=()=>{let t=a.map(e=>r.createContext(e));return function(s){let a=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return i.scopeName=e,[function(s,i){let l=r.createContext(i);l.displayName=s+"Context";let n=a.length;a=[...a,i];let d=s=>{let{scope:a,children:i,...d}=s,o=a?.[e]?.[n]||l,c=r.useMemo(()=>d,Object.values(d));return(0,t.jsx)(o.Provider,{value:c,children:i})};return d.displayName=s+"Provider",[d,function(t,a){let d=a?.[e]?.[n]||l,o=r.useContext(d);if(o)return o;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=s.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}(i,...s)]}(k),[A,R]=E(k),M=r.forwardRef((e,r)=>{var s,a;let{__scopeProgress:i,value:l=null,max:n,getValueLabel:d=$,...o}=e;(n||0===n)&&!T(n)&&console.error((s=`${n}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let c=T(n)?n:100;null===l||B(l,c)||console.error((a=`${l}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=B(l,c)?l:null,m=L(u)?d(u,c):void 0;return(0,t.jsx)(A,{scope:i,value:u,max:c,children:(0,t.jsx)(S.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":L(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":z(u,c),"data-value":u??void 0,"data-max":c,...o,ref:r})})});M.displayName=k;var D="ProgressIndicator",I=r.forwardRef((e,r)=>{let{__scopeProgress:s,...a}=e,i=R(D,s);return(0,t.jsx)(S.div,{"data-state":z(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:r})});function $(e,t){return`${Math.round(e/t*100)}%`}function z(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function L(e){return"number"==typeof e}function T(e){return L(e)&&!isNaN(e)&&e>0}function B(e,t){return L(e)&&!isNaN(e)&&e<=t&&e>=0}I.displayName=D;var F=e.i(47163);let q=r.forwardRef(({className:e,value:r,...s},a)=>(0,t.jsx)(M,{ref:a,className:(0,F.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,t.jsx)(I,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));q.displayName=M.displayName;var U=e.i(84213);let H={pending:{label:"در انتظار",color:"bg-yellow-100 text-yellow-800",icon:b.Clock},processing:{label:"در حال پردازش",color:"bg-blue-100 text-blue-800",icon:u.Package},shipped:{label:"ارسال شده",color:"bg-purple-100 text-purple-800",icon:g.Truck},delivered:{label:"تحویل داده شده",color:"bg-green-100 text-green-800",icon:x.CheckCircle2},cancelled:{label:"لغو شده",color:"bg-red-100 text-red-800",icon:y.XCircle}},X={pending:{label:"در انتظار پرداخت",color:"bg-yellow-100 text-yellow-800"},paid:{label:"پرداخت شده",color:"bg-green-100 text-green-800"},failed:{label:"پرداخت ناموفق",color:"bg-red-100 text-red-800"},refunded:{label:"بازگشت وجه",color:"bg-gray-100 text-gray-800"}};function G(){let e,_,S,k,E,O,A=(0,s.useSearchParams)().get("orderNumber")||"",[R,M]=(0,r.useState)(A),[D,I]=(0,r.useState)(null),[$,z]=(0,r.useState)(!1),[L,T]=(0,r.useState)(!1),[B,F]=(0,r.useState)(!1),{orders:G,updateOrder:W}=(0,d.useOrderStore)(),{getProduct:V,loadProductsFromDB:J}=(0,o.useProductStore)(),K=()=>{(z(!1),I(null),T(!0),R.trim())?Q(R):T(!1)},Q=async e=>{try{let t=G.find(t=>t.orderNumber.toLowerCase()===e.toLowerCase().trim()||t.id===e.trim());if(t){I(t),z(!1);return}let r=await fetch(`/api/orders?orderNumber=${encodeURIComponent(e)}`);if(r.ok){let e=await r.json();if(e.success&&e.data&&e.data.length>0){let t=e.data[0];I(t),z(!1),W(t.id,t)}else z(!0)}else z(!0)}catch(e){console.error("Error fetching order:",e),z(!0)}};return(0,r.useEffect)(()=>{J(!0).catch(e=>{console.error("Error loading products for order tracking:",e)})},[J]),(0,r.useEffect)(()=>{A&&A.trim()&&(T(!0),Q(A))},[A]),(0,r.useEffect)(()=>{if(!D?.id)return;let e=setInterval(async()=>{try{let e=await fetch(`/api/orders/${D.id}`);if(e.ok){let t=await e.json();t.success&&t.data&&(I(t.data),W(t.data.id,t.data))}}catch(e){console.error("Error polling order status:",e)}},1e4);return()=>clearInterval(e)},[D?.id,W]),D&&H[D.status]?.icon||b.Clock,(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:py-8 md:py-12",children:[(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"پیگیری سفارش"}),(0,t.jsxs)(i.Button,{onClick:()=>F(!0),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,t.jsx)(N.MessageCircle,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"چت با ادمین"}),(0,t.jsx)("span",{className:"sm:hidden",children:"چت"})]})]}),(0,t.jsxs)(a.Card,{className:"mb-6",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"جستجوی سفارش"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(n.Label,{htmlFor:"orderNumber",children:"شماره سفارش"}),(0,t.jsx)(l.Input,{id:"orderNumber",placeholder:"مثال: ORD-1234567890-001",value:R,onChange:e=>M(e.target.value),onKeyDown:e=>{"Enter"===e.key&&K()}})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)(i.Button,{onClick:K,size:"lg",children:[(0,t.jsx)(c.Search,{className:"ml-2 h-4 w-4"}),"جستجو"]})})]})})]}),$&&L&&(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(y.XCircle,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-2",children:"سفارش یافت نشد"}),(0,t.jsx)("p",{className:"text-muted-foreground text-center mb-6",children:"شماره سفارش وارد شده معتبر نیست. لطفاً شماره سفارش را بررسی کنید."})]})})}),D&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(a.Card,{className:"border-2",children:[(0,t.jsx)(a.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Package,{className:"h-5 w-5 text-primary"}),"پیگیری سفارش"]})}),(0,t.jsxs)(a.CardContent,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute right-8 top-0 bottom-0 w-0.5 bg-border",children:(0,t.jsx)("div",{className:"absolute top-0 right-0 w-full bg-primary transition-all duration-500 ease-in-out",style:{height:`${-1===(_=(e=["pending","processing","shipped","delivered"]).indexOf(D.status))?0:(_+1)/e.length*100}%`}})}),(0,t.jsx)("div",{className:"space-y-8 relative z-10",children:[{status:"pending",label:"در انتظار",icon:j.ShoppingCart,description:"سفارش شما ثبت شد"},{status:"processing",label:"در حال پردازش",icon:v.Box,description:"در حال آماده‌سازی"},{status:"shipped",label:"ارسال شده",icon:g.Truck,description:"در مسیر تحویل"},{status:"delivered",label:"تحویل شده",icon:x.CheckCircle2,description:"تحویل با موفقیت انجام شد"}].map((e,r)=>{let s=["pending","processing","shipped","delivered"],a=s.indexOf(D.status),i=s.indexOf(e.status),l=a>=i&&"cancelled"!==D.status,n=a===i&&"cancelled"!==D.status,d=e.icon;return(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"relative z-10",children:(0,t.jsx)("div",{className:`w-16 h-16 rounded-full flex items-center justify-center transition-all duration-300 ${l?"bg-primary text-primary-foreground shadow-lg shadow-primary/50":n?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"}`,children:l?(0,t.jsx)(w.CheckCircle,{className:"h-8 w-8"}):(0,t.jsx)(d,{className:"h-8 w-8"})})}),(0,t.jsxs)("div",{className:"flex-1 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("h3",{className:`font-semibold text-lg ${l||n?"text-foreground":"text-muted-foreground"}`,children:e.label}),n&&(0,t.jsx)(P.Badge,{variant:"default",className:"animate-pulse",children:"در حال انجام"}),l&&!n&&(0,t.jsxs)(P.Badge,{variant:"success",className:"gap-1",children:[(0,t.jsx)(w.CheckCircle,{className:"h-3 w-3"}),"تکمیل شد"]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),n&&D.updatedAt&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["آخرین به‌روزرسانی:"," ",new Date(D.updatedAt).toLocaleDateString("fa-IR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]},e.status)})})]}),(0,t.jsxs)("div",{className:"mt-8 pt-6 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"پیشرفت کلی"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:-1===(k=(S=["pending","processing","shipped","delivered"]).indexOf(D.status))?"0%":`${Math.round((k+1)/S.length*100)}%`})]}),(0,t.jsx)(q,{value:-1===(O=(E=["pending","processing","shipped","delivered"]).indexOf(D.status))?0:(O+1)/E.length*100,className:"h-3"})]}),(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(u.Package,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"شماره سفارش"}),(0,t.jsx)("p",{className:"font-semibold font-mono",children:D.orderNumber})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(h.Calendar,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"تاریخ ثبت"}),(0,t.jsx)("p",{className:"font-semibold",children:new Date(D.createdAt).toLocaleDateString("fa-IR",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"محصولات سفارش"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:Array.isArray(D.items)?D.items.map(e=>{let r=V(e.productId||e.id),s=e.image&&""!==e.image.trim()?e.image:"";!s&&r&&r.images&&r.images.length>0&&(s=r.images[0]);let a=s&&""!==s.trim();return(0,t.jsxs)("div",{className:"flex gap-4 pb-4 border-b last:border-0",children:[a?(0,t.jsx)("div",{className:"relative w-20 h-20 bg-muted rounded-lg overflow-hidden flex-shrink-0 border",children:(0,t.jsx)(C.default,{src:s,alt:e.name,fill:!0,className:"object-cover",unoptimized:s.startsWith("blob:")||s.startsWith("data:")})}):(0,t.jsx)("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center flex-shrink-0 border",children:(0,t.jsx)(u.Package,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold mb-1",children:e.name}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{children:["تعداد: ",e.quantity]}),(0,t.jsxs)("span",{className:"font-semibold text-foreground",children:[(e.price*e.quantity).toLocaleString("fa-IR")," تومان"]})]})]})]},e.id)}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(u.Package,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"محصولات سفارش در دسترس نیست"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"اطلاعات مشتری"})}),(0,t.jsxs)(a.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(u.Package,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"نام"}),(0,t.jsx)("p",{className:"font-semibold",children:D.customerName})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(p.Phone,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"شماره تماس"}),(0,t.jsx)("p",{className:"font-semibold",children:D.customerPhone})]})]}),D.customerEmail&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(f.Mail,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"ایمیل"}),(0,t.jsx)("p",{className:"font-semibold",children:D.customerEmail})]})]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"آدرس ارسال"})}),(0,t.jsxs)(a.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(m.MapPin,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"آدرس"}),(0,t.jsxs)("p",{className:"font-semibold",children:[D.shippingAddress.city,"، ",D.shippingAddress.address]}),D.shippingAddress.postalCode&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["کد پستی: ",D.shippingAddress.postalCode]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(g.Truck,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"روش ارسال"}),(0,t.jsx)("p",{className:"font-semibold",children:"air"===D.shippingMethod?"هوایی":"دریایی"})]})]})]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"خلاصه سفارش"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"جمع کل:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[D.total.toLocaleString("fa-IR")," تومان"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"هزینه ارسال:"}),(0,t.jsx)("span",{className:"font-semibold",children:0===D.shippingCost?(0,t.jsx)("span",{className:"text-green-600",children:"رایگان"}):`${D.shippingCost.toLocaleString("fa-IR")} تومان`})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-3 border-t",children:[(0,t.jsx)("span",{className:"font-bold",children:"مبلغ نهایی:"}),(0,t.jsxs)("span",{className:"font-bold text-lg text-primary",children:[(D.total+D.shippingCost).toLocaleString("fa-IR")," تومان"]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-3 border-t",children:[(0,t.jsx)("span",{children:"وضعیت پرداخت:"}),(0,t.jsx)(P.Badge,{className:X[D.paymentStatus]?.color,children:X[D.paymentStatus]?.label})]})]})})]})]})]}),(0,t.jsx)(U.QuickBuyChat,{isOpen:B,onOpenChange:F})]})}function W(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:"در حال بارگذاری..."}),children:(0,t.jsx)(G,{})})}e.s(["default",()=>W],71876)},91079,e=>{e.v(t=>Promise.all(["static/chunks/0212ee3e90afbd18.js"].map(t=>e.l(t))).then(()=>t(40171)))}]);