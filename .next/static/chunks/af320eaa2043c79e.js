(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71757,40392,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);e.s(["Plane",()=>s],71757);let r=(0,t.default)("Ship",[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]]);e.s(["Ship",()=>r],40392)},70065,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(47163);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border-[0.25px] border-border/3 bg-card text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let i=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let n=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));l.displayName="CardDescription";let o=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},36361,e=>{"use strict";var t=e.i(6344),s=e.i(73493);let r={},a=(0,t.create)((e,t)=>({products:[],filters:r,setProducts:t=>e({products:t}),addProduct:t=>e(e=>{let s=e.products.findIndex(e=>e.id===t.id);if(s>=0){let r=[...e.products];return r[s]=t,{products:r}}return{products:[...e.products,t]}}),updateProduct:t=>e(e=>{let s=e.products.findIndex(e=>e.id===t.id);if(s>=0){let r=[...e.products];return r[s]=t,{products:r}}return e}),removeProduct:t=>e(e=>({products:e.products.filter(e=>e.id!==t)})),getProduct:e=>t().products.find(t=>t.id===e),getEnabledProducts:()=>t().products.filter(e=>e.enabled),getFilteredProducts:()=>{let{products:e,filters:s}=t(),r=e.filter(e=>e.enabled);if(s.search){let e=s.search.toLowerCase();r=r.filter(t=>t.name.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)||t.brand?.toLowerCase().includes(e))}return void 0!==s.minPrice&&(r=r.filter(e=>e.price>=s.minPrice)),void 0!==s.maxPrice&&(r=r.filter(e=>e.price<=s.maxPrice)),s.brands&&s.brands.length>0&&(r=r.filter(e=>e.brand&&s.brands.includes(e.brand))),s.categories&&s.categories.length>0&&(r=r.filter(e=>e.category&&s.categories.includes(e.category))),void 0!==s.inStock&&(r=r.filter(e=>e.inStock===s.inStock)),r},setFilters:t=>e(e=>({filters:{...e.filters,...t}})),clearFilters:()=>e({filters:r}),createProduct:async e=>{let s=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"خطا در ایجاد محصول");let r=(await s.json()).data;return t().addProduct(r),r},updateProductInDB:async(e,s)=>{let r=await fetch(`/api/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||"خطا در به‌روزرسانی محصول");let a=(await r.json()).data;return t().updateProduct(a),a},deleteProductFromDB:async e=>{let s=await fetch(`/api/products/${e}`,{method:"DELETE"});if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"خطا در حذف محصول");t().removeProduct(e)},loadProductsFromDB:async(e=!1)=>{try{let s=await fetch(e?"/api/products?limit=1000&all=true":"/api/products?limit=1000");if(!s.ok){let e=await s.json().catch(()=>({})),t=e.error||e.message||"خطا در بارگذاری محصولات";throw Error(t)}let r=((await s.json()).data||[]).map(e=>({...e,createdAt:e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),updatedAt:e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt)}));t().setProducts(r)}catch(e){s.logger.error("Error loading products from DB:",e)}},deleteProduct:async e=>{await t().deleteProductFromDB(e)},deleteProducts:async e=>{await Promise.all(e.map(e=>t().deleteProductFromDB(e)))},toggleProduct:async e=>{let s=t().getProduct(e);s&&await t().updateProductInDB(e,{enabled:!s.enabled})},toggleProducts:async(e,s)=>{await Promise.all(e.map(e=>t().updateProductInDB(e,{enabled:s})))}}));e.s(["useProductStore",0,a])},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},88143,(e,t,s)=>{"use strict";function r({widthInt:e,heightInt:t,blurWidth:s,blurHeight:r,blurDataURL:a,objectFit:i}){let n=s?40*s:e,l=r?40*r:t,o=n&&l?`viewBox='0 0 ${n} ${l}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${o}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${o?"none":"contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${a}'/%3E%3C/svg%3E`}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},87690,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={VALID_LOADERS:function(){return i},imageConfigDefault:function(){return n}};for(var a in r)Object.defineProperty(s,a,{enumerable:!0,get:r[a]});let i=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"getImgProps",{enumerable:!0,get:function(){return o}}),e.r(33525);let r=e.r(88143),a=e.r(87690),i=["-moz-initial","fill","none","scale-down",void 0];function n(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o({src:e,sizes:t,unoptimized:s=!1,priority:o=!1,preload:d=!1,loading:c,className:m,quality:u,width:p,height:f,fill:x=!1,style:h,overrideSrc:g,onLoad:y,onLoadingComplete:b,placeholder:j="empty",blurDataURL:v,fetchPriority:w,decoding:N="async",layout:S,objectFit:k,objectPosition:C,lazyBoundary:P,lazyRoot:_,...E},M){var O;let R,$,z,{imgConf:I,showAltText:T,blurComplete:D,defaultLoader:A}=M,B=I||a.imageConfigDefault;if("allSizes"in B)R=B;else{let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),s=B.qualities?.sort((e,t)=>e-t);R={...B,allSizes:e,deviceSizes:t,qualities:s}}if(void 0===A)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let L=E.loader||A;delete E.loader,delete E.srcSet;let q="__next_img_default"in L;if(q){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=L;L=t=>{let{config:s,...r}=t;return e(r)}}if(S){"fill"===S&&(x=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[S];e&&(h={...h,...e});let s={responsive:"100vw",fill:"100vw"}[S];s&&!t&&(t=s)}let F="",H=l(p),V=l(f);if((O=e)&&"object"==typeof O&&(n(O)||void 0!==O.src)){let t=n(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if($=t.blurWidth,z=t.blurHeight,v=v||t.blurDataURL,F=t.src,!x)if(H||V){if(H&&!V){let e=H/t.width;V=Math.round(t.height*e)}else if(!H&&V){let e=V/t.height;H=Math.round(t.width*e)}}else H=t.width,V=t.height}let U=!o&&!d&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:F)||e.startsWith("data:")||e.startsWith("blob:"))&&(s=!0,U=!1),R.unoptimized&&(s=!0),q&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(s=!0);let G=l(u),W=Object.assign(x?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:k,objectPosition:C}:{},T?{}:{color:"transparent"},h),X=D||"empty"===j?null:"blur"===j?`url("data:image/svg+xml;charset=utf-8,${(0,r.getImageBlurSvg)({widthInt:H,heightInt:V,blurWidth:$,blurHeight:z,blurDataURL:v||"",objectFit:W.objectFit})}")`:`url("${j}")`,J=i.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,K=X?{backgroundSize:J,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},Q=function({config:e,src:t,unoptimized:s,width:r,quality:a,sizes:i,loader:n}){if(s)return{src:t,srcSet:void 0,sizes:void 0};let{widths:l,kind:o}=function({deviceSizes:e,allSizes:t},s,r){if(r){let s=/(^|\s)(1?\d?\d)vw/g,a=[];for(let e;e=s.exec(r);)a.push(parseInt(e[2]));if(a.length){let s=.01*Math.min(...a);return{widths:t.filter(t=>t>=e[0]*s),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof s?{widths:e,kind:"w"}:{widths:[...new Set([s,2*s].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,r,i),d=l.length-1;return{sizes:i||"w"!==o?i:"100vw",srcSet:l.map((s,r)=>`${n({config:e,src:t,quality:a,width:s})} ${"w"===o?s:r+1}${o}`).join(", "),src:n({config:e,src:t,quality:a,width:l[d]})}}({config:R,src:e,unoptimized:s,width:H,quality:G,sizes:t,loader:L}),Y=U?"lazy":c;return{props:{...E,loading:Y,fetchPriority:w,width:H,height:V,decoding:N,className:m,style:{...W,...K},sizes:Q.sizes,srcSet:Q.srcSet,src:g||Q.src},meta:{unoptimized:s,preload:d||o,placeholder:j,fill:x}}}},98879,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return l}});let r=e.r(71645),a="undefined"==typeof window,i=a?()=>{}:r.useLayoutEffect,n=a?()=>{}:r.useEffect;function l(e){let{headManager:t,reduceComponentsToState:s}=e;function l(){if(t&&t.mountedInstances){let e=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(s(e))}}return a&&(t?.mountedInstances?.add(e.children),l()),i(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),i(()=>(t&&(t._pendingUpdate=l),()=>{t&&(t._pendingUpdate=l)})),n(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={default:function(){return x},defaultHead:function(){return m}};for(var a in r)Object.defineProperty(s,a,{enumerable:!0,get:r[a]});let i=e.r(55682),n=e.r(90809),l=e.r(43476),o=n._(e.r(71645)),d=i._(e.r(98879)),c=e.r(42732);function m(){return[(0,l.jsx)("meta",{charSet:"utf-8"},"charset"),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function u(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let p=["name","httpEquiv","charSet","itemProp"];function f(e){let t,s,r,a;return e.reduce(u,[]).reverse().concat(m().reverse()).filter((t=new Set,s=new Set,r=new Set,a={},e=>{let i=!0,n=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){n=!0;let s=e.key.slice(e.key.indexOf("$")+1);t.has(s)?i=!1:t.add(s)}switch(e.type){case"title":case"base":s.has(e.type)?i=!1:s.add(e.type);break;case"meta":for(let t=0,s=p.length;t<s;t++){let s=p[t];if(e.props.hasOwnProperty(s))if("charSet"===s)r.has(s)?i=!1:r.add(s);else{let t=e.props[s],r=a[s]||new Set;("name"!==s||!n)&&r.has(t)?i=!1:(r.add(t),a[s]=r)}}}return i})).reverse().map((e,t)=>{let s=e.key||t;return o.default.cloneElement(e,{key:s})})}let x=function({children:e}){let t=(0,o.useContext)(c.HeadManagerContext);return(0,l.jsx)(d.default,{reduceComponentsToState:f,headManager:t,children:e})};("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},18556,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"ImageConfigContext",{enumerable:!0,get:function(){return i}});let r=e.r(55682)._(e.r(71645)),a=e.r(87690),i=r.default.createContext(a.imageConfigDefault)},65856,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"RouterContext",{enumerable:!0,get:function(){return r}});let r=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,s)=>{"use strict";function r(e,t){let s=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-s)<Math.abs(e-s)?t:e,0):s}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"findClosestQuality",{enumerable:!0,get:function(){return r}})},1948,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return i}});let r=e.r(70965);function a({config:e,src:t,width:s,quality:a}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let i=(0,r.findClosestQuality)(a,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${s}&q=${i}${t.startsWith("/_next/static/media/"),""}`}a.__next_img_default=!0;let i=a},85437,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Image",{enumerable:!0,get:function(){return j}});let r=e.r(55682),a=e.r(90809),i=e.r(43476),n=a._(e.r(71645)),l=r._(e.r(74080)),o=r._(e.r(25633)),d=e.r(8927),c=e.r(87690),m=e.r(18556);e.r(33525);let u=e.r(65856),p=r._(e.r(1948)),f=e.r(18581),x={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!1};function h(e,t,s,r,a,i,n){let l=e?.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&a(!0),s?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,a=!1;s.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>a,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{a=!0,t.stopPropagation()}})}r?.current&&r.current(e)}}))}function g(e){return n.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let y=(0,n.forwardRef)(({src:e,srcSet:t,sizes:s,height:r,width:a,decoding:l,className:o,style:d,fetchPriority:c,placeholder:m,loading:u,unoptimized:p,fill:x,onLoadRef:y,onLoadingCompleteRef:b,setBlurComplete:j,setShowAltText:v,sizesInput:w,onLoad:N,onError:S,...k},C)=>{let P=(0,n.useCallback)(e=>{e&&(S&&(e.src=e.src),e.complete&&h(e,m,y,b,j,p,w))},[e,m,y,b,j,S,p,w]),_=(0,f.useMergedRef)(C,P);return(0,i.jsx)("img",{...k,...g(c),loading:u,width:a,height:r,decoding:l,"data-nimg":x?"fill":"1",className:o,style:d,sizes:s,srcSet:t,src:e,ref:_,onLoad:e=>{h(e.currentTarget,m,y,b,j,p,w)},onError:e=>{v(!0),"empty"!==m&&j(!0),S&&S(e)}})});function b({isAppRouter:e,imgAttributes:t}){let s={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...g(t.fetchPriority)};return e&&l.default.preload?(l.default.preload(t.src,s),null):(0,i.jsx)(o.default,{children:(0,i.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...s},"__nimg-"+t.src+t.srcSet+t.sizes)})}let j=(0,n.forwardRef)((e,t)=>{let s=(0,n.useContext)(u.RouterContext),r=(0,n.useContext)(m.ImageConfigContext),a=(0,n.useMemo)(()=>{let e=x||r||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),s=e.deviceSizes.sort((e,t)=>e-t),a=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:s,qualities:a,localPatterns:"undefined"==typeof window?r?.localPatterns:e.localPatterns}},[r]),{onLoad:l,onLoadingComplete:o}=e,f=(0,n.useRef)(l);(0,n.useEffect)(()=>{f.current=l},[l]);let h=(0,n.useRef)(o);(0,n.useEffect)(()=>{h.current=o},[o]);let[g,j]=(0,n.useState)(!1),[v,w]=(0,n.useState)(!1),{props:N,meta:S}=(0,d.getImgProps)(e,{defaultLoader:p.default,imgConf:a,blurComplete:g,showAltText:v});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y,{...N,unoptimized:S.unoptimized,placeholder:S.placeholder,fill:S.fill,onLoadRef:f,onLoadingCompleteRef:h,setBlurComplete:j,setShowAltText:w,sizesInput:e.sizes,ref:t}),S.preload?(0,i.jsx)(b,{isAppRouter:!s,imgAttributes:N}):null]})});("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},94909,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={default:function(){return c},getImageProps:function(){return d}};for(var a in r)Object.defineProperty(s,a,{enumerable:!0,get:r[a]});let i=e.r(55682),n=e.r(8927),l=e.r(85437),o=i._(e.r(1948));function d(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let c=l.Image},57688,(e,t,s)=>{t.exports=e.r(94909)},15788,e=>{"use strict";let t=(0,e.i(75254).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],15788)},27341,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(81140),a=e.i(30030),i=e.i(42727),n=e.i(96626),l=e.i(48425),o=e.i(86318),d=e.i(69340),c=e.i(10772),m="Tabs",[u,p]=(0,a.createContextScope)(m,[i.createRovingFocusGroupScope]),f=(0,i.createRovingFocusGroupScope)(),[x,h]=u(m),g=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,onValueChange:i,defaultValue:n,orientation:u="horizontal",dir:p,activationMode:f="automatic",...h}=e,g=(0,o.useDirection)(p),[y,b]=(0,d.useControllableState)({prop:a,onChange:i,defaultProp:n??"",caller:m});return(0,t.jsx)(x,{scope:r,baseId:(0,c.useId)(),value:y,onValueChange:b,orientation:u,dir:g,activationMode:f,children:(0,t.jsx)(l.Primitive.div,{dir:g,"data-orientation":u,...h,ref:s})})});g.displayName=m;var y="TabsList",b=s.forwardRef((e,s)=>{let{__scopeTabs:r,loop:a=!0,...n}=e,o=h(y,r),d=f(r);return(0,t.jsx)(i.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:a,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});b.displayName=y;var j="TabsTrigger",v=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:n,disabled:o=!1,...d}=e,c=h(j,a),m=f(a),u=S(c.baseId,n),p=k(c.baseId,n),x=n===c.value;return(0,t.jsx)(i.Item,{asChild:!0,...m,focusable:!o,active:x,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...d,ref:s,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||o||!e||c.onValueChange(n)})})})});v.displayName=j;var w="TabsContent",N=s.forwardRef((e,r)=>{let{__scopeTabs:a,value:i,forceMount:o,children:d,...c}=e,m=h(w,a),u=S(m.baseId,i),p=k(m.baseId,i),f=i===m.value,x=s.useRef(f);return s.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:o||f,children:({present:s})=>(0,t.jsx)(l.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:p,tabIndex:0,...c,ref:r,style:{...e.style,animationDuration:x.current?"0s":void 0},children:s&&d})})});function S(e,t){return`${e}-trigger-${t}`}function k(e,t){return`${e}-content-${t}`}N.displayName=w;var C=e.i(47163);let P=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(b,{ref:r,className:(0,C.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));P.displayName=b.displayName;let _=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(v,{ref:r,className:(0,C.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));_.displayName=v.displayName;let E=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(N,{ref:r,className:(0,C.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));E.displayName=N.displayName,e.s(["Tabs",()=>g,"TabsContent",()=>E,"TabsList",()=>P,"TabsTrigger",()=>_],27341)},39616,e=>{"use strict";let t=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},92161,e=>{"use strict";let t=(0,e.i(75254).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);e.s(["Menu",()=>t],92161)},5125,95116,83086,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["Car",()=>s],5125);let r=(0,t.default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);e.s(["Wrench",()=>r],95116);let a=(0,t.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>a],83086)},49786,e=>{"use strict";var t=e.i(43476),s=e.i(22016),r=e.i(55436),a=e.i(1928),i=e.i(84614),n=e.i(92161),l=e.i(37727),o=e.i(67881),d=e.i(23750),c=e.i(18566),m=e.i(47163),u=e.i(5125),p=e.i(95116),f=e.i(83086),x=e.i(39616);let h=[{name:"خانه",href:"/",icon:u.Car},{name:"محصولات",href:"/products",icon:p.Wrench},{name:"دسته‌بندی‌ها",href:"/categories",icon:f.Sparkles},{name:"خدمات",href:"/services",icon:x.Settings}];function g({mobile:e=!1,onNavigate:r}){let a=(0,c.usePathname)();return e?(0,t.jsx)("nav",{className:"flex flex-col space-y-2",children:h.map(e=>{let i=e.icon,n=a===e.href;return(0,t.jsxs)(s.default,{href:e.href,onClick:r,className:(0,m.cn)("flex items-center space-x-3 space-x-reverse px-4 py-3 rounded-lg text-base font-medium transition-colors",n?"bg-primary text-primary-foreground":"text-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(i,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:e.name})]},e.href)})}):(0,t.jsx)("nav",{className:"hidden lg:flex items-center space-x-1 space-x-reverse",children:h.map(e=>{let r=e.icon,i=a===e.href;return(0,t.jsxs)(s.default,{href:e.href,className:(0,m.cn)("flex items-center space-x-2 space-x-reverse px-3 xl:px-4 py-2 rounded-md text-sm font-medium transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,t.jsx)(r,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden xl:inline",children:e.name})]},e.href)})})}var y=e.i(61180),b=e.i(71645),j=e.i(75254);let v=(0,j.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),w=(0,j.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var N=e.i(63178);function S(){let{theme:e,setTheme:s,resolvedTheme:r}=(0,N.useTheme)(),[a,i]=b.useState(!1);if(b.useEffect(()=>{i(!0)},[]),!a)return(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[(0,t.jsx)(w,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"تغییر تم"})]});let n="dark"===r||"dark"===e;return(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 relative",onClick:()=>{s("dark"===(r||("system"===e?"light":e))?"light":"dark")},type:"button",children:[(0,t.jsx)(w,{className:`h-5 w-5 absolute transition-all duration-300 ${n?"rotate-90 scale-0 opacity-0":"rotate-0 scale-100 opacity-100"}`}),(0,t.jsx)(v,{className:`h-5 w-5 absolute transition-all duration-300 ${n?"rotate-0 scale-100 opacity-100":"-rotate-90 scale-0 opacity-0"}`}),(0,t.jsx)("span",{className:"sr-only",children:"تغییر تم"})]})}var k=e.i(52917);function C(){let[e,c]=(0,b.useState)(""),[m,u]=(0,b.useState)(!1),[p,f]=(0,b.useState)(!1),[x,h]=(0,b.useState)(!1),{getItemCount:j,initializeSession:v,loadFromDatabase:w,items:N}=(0,y.useCartStore)(),C=N.reduce((e,t)=>e+t.quantity,0);return(0,b.useEffect)(()=>{h(!0),(async()=>{try{v(),await w()}catch(e){console.error("Error initializing cart in header:",e)}})()},[v,w]),(0,t.jsxs)("header",{className:"sticky top-0 z-50 w-full border-b-[0.25px] border-border/30 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[(0,t.jsxs)("div",{className:"container flex h-14 sm:h-16 items-center justify-between px-3 sm:px-4",children:[(0,t.jsx)(s.default,{href:"/",className:"flex items-center space-x-1.5 space-x-reverse min-w-0 flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-primary leading-tight",children:"ساد"}),(0,t.jsx)("span",{className:"hidden sm:block text-[10px] sm:text-xs text-muted-foreground leading-tight",children:"قطعات خودرو وارداتی"})]})}),(0,t.jsx)("div",{className:"hidden lg:block",children:(0,t.jsx)(g,{})}),(0,t.jsx)("div",{className:"hidden lg:flex flex-1 max-w-xl mx-8",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(r.Search,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(d.Input,{type:"search",placeholder:"جستجوی قطعه، برند یا شماره VIN...",value:e,onChange:e=>c(e.target.value),className:"pr-10 w-full h-9"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 space-x-reverse flex-shrink-0",children:[(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9",onClick:()=>f(!p),children:[(0,t.jsx)(r.Search,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"جستجو"})]}),(0,t.jsx)(S,{}),(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"hidden md:flex h-9 w-9",children:[(0,t.jsx)(i.User,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"حساب کاربری"})]}),(0,t.jsx)(s.default,{href:"/cart","aria-label":x?`سبد خرید با ${C} آیتم`:"سبد خرید",children:(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"relative h-9 w-9","aria-label":x&&C>0?`سبد خرید (${C} آیتم)`:"سبد خرید",children:[(0,t.jsx)(a.ShoppingCart,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"سبد خرید"}),x&&C>0&&(0,t.jsx)("span",{className:"absolute -top-0.5 -left-0.5 h-4 w-4 sm:h-5 sm:w-5 rounded-full bg-secondary text-secondary-foreground text-[10px] sm:text-xs font-bold flex items-center justify-center","aria-label":`${C} آیتم در سبد خرید`,children:C>99?"99+":C})]})}),(0,t.jsxs)(k.Sheet,{open:m,onOpenChange:u,children:[(0,t.jsx)(k.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9",children:[(0,t.jsx)(n.Menu,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"منو"})]})}),(0,t.jsxs)(k.SheetContent,{side:"right",className:"w-[280px] sm:w-[320px]",children:[(0,t.jsx)(k.SheetHeader,{children:(0,t.jsx)(k.SheetTitle,{children:"منو"})}),(0,t.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,t.jsx)(g,{mobile:!0,onNavigate:()=>u(!1)}),(0,t.jsxs)("div",{className:"pt-4 border-t-[0.25px] border-border/30 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"تم"}),(0,t.jsx)(S,{})]}),(0,t.jsx)(s.default,{href:"/profile",children:(0,t.jsxs)(o.Button,{variant:"ghost",className:"w-full justify-start",onClick:()=>u(!1),children:[(0,t.jsx)(i.User,{className:"h-4 w-4 ml-2"}),"حساب کاربری"]})})]})]})]})]})]})]}),p&&(0,t.jsx)("div",{className:"lg:hidden border-t-[0.25px] border-border/30 px-3 py-2 bg-background animate-in slide-in-from-top",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Search,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(d.Input,{type:"search",placeholder:"جستجو...",value:e,onChange:e=>c(e.target.value),className:"pr-10 h-9",autoFocus:!0}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7",onClick:()=>f(!1),children:(0,t.jsx)(l.X,{className:"h-4 w-4"})})]})})]})}e.s(["Header",()=>C],49786)},4967,e=>{"use strict";function t(e=600,s=600){let r=encodeURIComponent(`${e}x${s}`);return`https://placehold.co/${e}x${s}/f3f4f6/9ca3af?text=${r}`}e.s(["getPlaceholderImage",()=>t])},98919,e=>{"use strict";let t=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},70273,e=>{"use strict";let t=(0,e.i(75254).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},17842,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(70065),a=e.i(67881),i=e.i(27341),n=e.i(1928),l=e.i(75254);let o=(0,l.default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),d=(0,l.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var c=e.i(70273),m=e.i(43531),u=e.i(15788),p=e.i(98919),f=e.i(71757),x=e.i(40392),h=e.i(63209),g=e.i(57688),y=e.i(22016),b=e.i(61180),j=e.i(36361),v=e.i(4967);function w({productId:e}){let[l,w]=(0,s.useState)(0),[N,S]=(0,s.useState)(1),[k,C]=(0,s.useState)(null),[P,_]=(0,s.useState)(null),[E,M]=(0,s.useState)(!0),[O,R]=(0,s.useState)(!1),$=(0,b.useCartStore)(e=>e.addItem),z=(0,j.useProductStore)(e=>e.getProduct),I=(0,j.useProductStore)(e=>e.addProduct);(0,s.useEffect)(()=>{R(!0);let t=z(e);if(t){_(t),M(!1);return}(async()=>{try{M(!0);let t=await fetch(`/api/products/${e}`);if(t.ok){let e=await t.json();if(e.success&&e.data){let t=e.data;I(t),_(t)}else _(null)}else _(null)}catch(e){console.error("Error fetching product:",e),_(null)}finally{M(!1)}})()},[e,z,I]);let T=(0,b.useCartStore)(e=>e.setShippingMethod);if(!O||E)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20 px-4",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"h-12 w-12 sm:h-16 sm:w-16 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"در حال بارگذاری..."})]});if(!P)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20 px-4",children:[(0,t.jsx)(h.AlertCircle,{className:"h-12 w-12 sm:h-16 sm:w-16 text-muted-foreground mb-4"}),(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"محصول یافت نشد"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground text-center mb-6",children:"متأسفانه محصول مورد نظر شما یافت نشد"}),(0,t.jsx)(y.default,{href:"/products",children:(0,t.jsx)(a.Button,{variant:"default",children:"بازگشت به لیست محصولات"})})]});let D=window.location.origin,A=`${D}/products/${P.id}`,B=P.images?.[0]||(0,v.getPlaceholderImage)(600,600);P.price;let L=P.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock",q={"@context":"https://schema.org","@type":"Product",name:P.name,description:P.description||`${P.name} - قطعه خودرو ${P.brand||""}`,image:P.images.length>0?P.images:[B],brand:{"@type":"Brand",name:P.brand||"نامشخص"},category:P.category,sku:P.id,offers:{"@type":"Offer",url:A,priceCurrency:"IRR",price:P.price.toString(),priceValidUntil:new Date(Date.now()+31536e6).toISOString().split("T")[0],availability:L,itemCondition:"https://schema.org/NewCondition",seller:{"@type":"Organization",name:"ساد"}}};return P.rating&&(q.aggregateRating={"@type":"AggregateRating",ratingValue:P.rating.toString(),reviewCount:(P.reviews||0).toString()}),(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6 md:space-y-8 px-2 sm:px-0",children:[(0,t.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(q)}}),(0,t.jsxs)("nav",{className:"text-[10px] sm:text-xs text-muted-foreground overflow-x-auto mb-2",children:[(0,t.jsx)("span",{children:"خانه"})," / ",(0,t.jsx)("span",{children:"محصولات"})," / ",(0,t.jsx)("span",{children:P.category})," /"," ",(0,t.jsx)("span",{className:"text-foreground truncate",children:P.name})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:P.category})}),(P.airShippingEnabled||P.seaShippingEnabled)&&(0,t.jsxs)("div",{className:"hidden lg:block space-y-2 sm:space-y-3 lg:max-w-lg lg:mr-auto",children:[(0,t.jsx)("label",{className:"text-xs sm:text-sm font-medium block",children:"روش ارسال:"}),(0,t.jsxs)("div",{className:`grid gap-2 sm:gap-3 ${P.airShippingEnabled&&P.seaShippingEnabled?"grid-cols-2":"grid-cols-1"}`,children:[P.airShippingEnabled&&(0,t.jsxs)("button",{onClick:()=>C("air"),className:`flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-lg border-[0.25px] transition-all ${"air"===k?"border-primary/30 bg-primary/5":"border-border/30 hover:border-primary/20"}`,children:[(0,t.jsx)(f.Plane,{className:`h-5 w-5 sm:h-6 sm:w-6 ${"air"===k?"text-primary":"text-muted-foreground"}`}),(0,t.jsx)("span",{className:`text-xs sm:text-sm font-medium ${"air"===k?"text-primary":"text-foreground"}`,children:"ارسال هوایی"})]}),P.seaShippingEnabled&&(0,t.jsxs)("button",{onClick:()=>C("sea"),className:`flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-lg border-[0.25px] transition-all ${"sea"===k?"border-primary/30 bg-primary/5":"border-border/30 hover:border-primary/20"}`,children:[(0,t.jsx)(x.Ship,{className:`h-5 w-5 sm:h-6 sm:w-6 ${"sea"===k?"text-primary":"text-muted-foreground"}`}),(0,t.jsx)("span",{className:`text-xs sm:text-sm font-medium ${"sea"===k?"text-primary":"text-foreground"}`,children:"ارسال دریایی"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:[(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3 lg:-mt-32",children:[(0,t.jsx)("div",{className:"relative aspect-square w-full bg-muted rounded-lg overflow-hidden",children:(0,t.jsx)(g.default,{src:P.images[l]||(0,v.getPlaceholderImage)(600,600),alt:P.name,fill:!0,className:"object-cover",priority:!0})}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2",children:(P.images.length>0?P.images:[(0,v.getPlaceholderImage)(600,600)]).map((e,s)=>(0,t.jsx)("button",{onClick:()=>w(s),className:`relative aspect-square rounded-lg overflow-hidden border-[0.25px] transition-all ${l===s?"border-primary/30":"border-transparent hover:border-muted-foreground/30"}`,children:(0,t.jsx)(g.default,{src:e,alt:`${P.name} - تصویر ${s+1} از ${P.images.length}`,fill:!0,className:"object-cover",loading:s<2?"eager":"lazy",sizes:"(max-width: 640px) 25vw, 20vw"})},s))}),(P.airShippingEnabled||P.seaShippingEnabled)&&(0,t.jsxs)("div",{className:"block lg:hidden space-y-2 sm:space-y-3 pt-2 sm:pt-3",children:[(0,t.jsx)("label",{className:"text-xs sm:text-sm font-medium block",children:"روش ارسال:"}),(0,t.jsxs)("div",{className:`grid gap-2 sm:gap-3 ${P.airShippingEnabled&&P.seaShippingEnabled?"grid-cols-2":"grid-cols-1"}`,children:[P.airShippingEnabled&&(0,t.jsxs)("button",{onClick:()=>C("air"),className:`flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-lg border-[0.25px] transition-all ${"air"===k?"border-primary/30 bg-primary/5":"border-border/30 hover:border-primary/20"}`,children:[(0,t.jsx)(f.Plane,{className:`h-5 w-5 sm:h-6 sm:w-6 ${"air"===k?"text-primary":"text-muted-foreground"}`}),(0,t.jsx)("span",{className:`text-xs sm:text-sm font-medium ${"air"===k?"text-primary":"text-foreground"}`,children:"ارسال هوایی"})]}),P.seaShippingEnabled&&(0,t.jsxs)("button",{onClick:()=>C("sea"),className:`flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-lg border-[0.25px] transition-all ${"sea"===k?"border-primary/30 bg-primary/5":"border-border/30 hover:border-primary/20"}`,children:[(0,t.jsx)(x.Ship,{className:`h-5 w-5 sm:h-6 sm:w-6 ${"sea"===k?"text-primary":"text-muted-foreground"}`}),(0,t.jsx)("span",{className:`text-xs sm:text-sm font-medium ${"sea"===k?"text-primary":"text-foreground"}`,children:"ارسال دریایی"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-5 md:space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2 flex-wrap",children:[(0,t.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:P.brand}),(0,t.jsx)("span",{className:"text-muted-foreground hidden sm:inline text-xs",children:"•"}),(0,t.jsx)("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:P.category})]}),(0,t.jsx)("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-3 sm:mb-4 leading-tight",children:P.name}),(0,t.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 mb-0",children:P.rating&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.Star,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-accent text-accent"}),(0,t.jsx)("span",{className:"text-sm sm:text-base font-semibold mr-1",children:P.rating})]}),P.reviews&&(0,t.jsxs)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["(",P.reviews," نظر)"]})]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[(0,t.jsxs)("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary",children:[P.price.toLocaleString("fa-IR")," تومان"]}),P.originalPrice&&P.originalPrice>P.price&&(0,t.jsx)("span",{className:"text-sm sm:text-base text-muted-foreground line-through",children:P.originalPrice.toLocaleString("fa-IR")})]}),P.originalPrice&&P.originalPrice>P.price&&(0,t.jsxs)("div",{className:"text-[10px] sm:text-xs text-secondary font-semibold",children:[Math.round((P.originalPrice-P.price)/P.originalPrice*100),"% تخفیف"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-1.5",children:P.inStock?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Check,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-xs sm:text-sm text-green-600 font-semibold",children:["موجود در انبار",P.stockCount?` (${P.stockCount} عدد)`:""]})]}):(0,t.jsx)("span",{className:"text-xs sm:text-sm text-secondary font-semibold",children:"ناموجود"})}),(0,t.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,t.jsx)("label",{className:"text-xs sm:text-sm font-medium",children:"تعداد:"}),(0,t.jsxs)("div",{className:"flex items-center border-[0.25px] border-border/30 rounded-md",children:[(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:()=>S(Math.max(1,N-1)),children:(0,t.jsx)("span",{className:"text-sm",children:"-"})}),(0,t.jsx)("span",{className:"w-8 sm:w-10 text-center text-xs sm:text-sm",children:N}),(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:()=>S(N+1),children:(0,t.jsx)("span",{className:"text-sm",children:"+"})})]})]}),(0,t.jsxs)("div",{className:"flex gap-1.5 sm:gap-2",children:[(0,t.jsxs)(a.Button,{size:"default",className:"flex-1 h-9 sm:h-10 text-xs sm:text-sm",disabled:!P.inStock,onClick:()=>{$({id:P.id,name:P.name,price:P.price,image:P.images[0]||(0,v.getPlaceholderImage)(300,300),quantity:N}),k&&("air"===k&&P.airShippingEnabled||"sea"===k&&P.seaShippingEnabled)?T(k):P.airShippingEnabled?T("air"):P.seaShippingEnabled&&T("sea")},children:[(0,t.jsx)(n.ShoppingCart,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 ml-1.5 sm:ml-2"}),(0,t.jsx)("span",{children:"افزودن به سبد"})]}),(0,t.jsx)(a.Button,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",children:(0,t.jsx)(d,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),(0,t.jsx)(a.Button,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",children:(0,t.jsx)(o,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 pt-4 sm:pt-5 border-t-[0.25px] border-border/30",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(u.Truck,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-[10px] sm:text-xs leading-relaxed",children:"ارسال رایگان بالای 500 هزار تومان"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(p.Shield,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-[10px] sm:text-xs leading-relaxed",children:"گارانتی اصالت کالا"})]})]})]})]}),(0,t.jsxs)(i.Tabs,{defaultValue:"description",className:"w-full",children:[(0,t.jsxs)(i.TabsList,{className:"w-full grid grid-cols-3 h-auto",children:[(0,t.jsx)(i.TabsTrigger,{value:"description",className:"text-[10px] sm:text-xs py-1.5 sm:py-2",children:"توضیحات"}),(0,t.jsx)(i.TabsTrigger,{value:"specifications",className:"text-[10px] sm:text-xs py-1.5 sm:py-2",children:"مشخصات"}),(0,t.jsxs)(i.TabsTrigger,{value:"reviews",className:"text-[10px] sm:text-xs py-1.5 sm:py-2",children:["نظرات ",P.reviews?`(${P.reviews})`:""]})]}),(0,t.jsx)(i.TabsContent,{value:"description",className:"mt-4 sm:mt-6",children:(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"p-4 sm:p-5",children:(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:P.description||"توضیحات محصول در دسترس نیست"})})})}),(0,t.jsx)(i.TabsContent,{value:"specifications",className:"mt-4 sm:mt-6",children:(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"p-4 sm:p-5",children:P.specifications&&Object.keys(P.specifications).length>0?(0,t.jsx)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Object.entries(P.specifications).map(([e,s])=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between py-2 border-b-[0.25px] border-border/30 gap-1 sm:gap-0",children:[(0,t.jsxs)("dt",{className:"font-medium text-xs sm:text-sm",children:[e,":"]}),(0,t.jsx)("dd",{className:"text-xs sm:text-sm text-muted-foreground",children:"string"==typeof s||"number"==typeof s||"boolean"==typeof s?String(s):JSON.stringify(s)})]},e))}):(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"مشخصات محصول در دسترس نیست"})})})}),(0,t.jsx)(i.TabsContent,{value:"reviews",className:"mt-4 sm:mt-6",children:(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"p-4 sm:p-5",children:(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["نظرات کاربران ",P.reviews?`(${P.reviews})`:""," به زودی..."]})})})})]})]})}e.s(["ProductDetail",()=>w],17842)}]);