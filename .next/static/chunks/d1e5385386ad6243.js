(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,14294,e=>{"use strict";var r=e.i(92316),t=e.i(96040);e.i(68799);var a=e.i(83088),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,a.createSlot)(`Primitive.${s}`),l=t.forwardRef((e,t)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(a?i:s,{...l,ref:t})});return l.displayName=`Primitive.${s}`,{...e,[s]:l}},{});e.s(["Primitive",()=>s],14294);var i=t.forwardRef((e,t)=>(0,r.jsx)(s.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var l=e.i(94237),d=e.i(47163);let n=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i,{ref:a,className:(0,d.cn)(n(),e),...t}));o.displayName=i.displayName,e.s(["Label",()=>o],10708)},17513,e=>{"use strict";var r=e.i(82408),t=e.i(73493);let a=(0,r.create)((e,r)=>({categories:[],setCategories:r=>e({categories:r}),addCategory:r=>e(e=>{let t=e.categories.findIndex(e=>e.id===r.id);if(t>=0){let a=[...e.categories];return a[t]=r,{categories:a}}return{categories:[...e.categories,r]}}),updateCategory:r=>e(e=>{let t=e.categories.findIndex(e=>e.id===r.id);if(t>=0){let a=[...e.categories];return a[t]=r,{categories:a}}return e}),deleteCategory:r=>e(e=>({categories:e.categories.filter(e=>e.id!==r)})),toggleCategory:r=>e(e=>({categories:e.categories.map(e=>e.id===r?{...e,isActive:!e.isActive}:e)})),getCategory:e=>r().categories.find(r=>r.id===e),getActiveCategories:()=>r().categories.filter(e=>e.isActive&&e.enabled),getEnabledCategories:()=>r().categories.filter(e=>e.enabled),loadCategoriesFromDB:async(e=!1)=>{try{let t=await fetch(e?"/api/categories?all=true":"/api/categories");if(!t.ok)throw Error("خطا در بارگذاری دسته‌بندی‌ها");let a=(await t.json()).data||[];r().setCategories(a)}catch(e){t.logger.error("Error loading categories from DB:",e)}}}));e.s(["useCategoryStore",0,a])},70065,e=>{"use strict";var r=e.i(92316),t=e.i(96040),a=e.i(47163);let s=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border-[0.25px] border-border/3 bg-card text-card-foreground shadow-sm",e),...t}));s.displayName="Card";let i=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let l=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let n=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...t}));n.displayName="CardContent",t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>d,"CardHeader",()=>i,"CardTitle",()=>l])},5685,e=>{"use strict";var r=e.i(96040);function t(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},19036,e=>{"use strict";var r=e.i(92316),t=e.i(96040),a=e.i(91967),s=e.i(60856),i=e.i(50439),l=e.i(68494),d=e.i(5685),n=e.i(40844),o=e.i(81026),c="Switch",[m,u]=(0,i.createContextScope)(c),[p,h]=m(c),x=t.forwardRef((e,i)=>{let{__scopeSwitch:d,name:n,checked:m,defaultChecked:u,required:h,disabled:x,value:f="on",onCheckedChange:g,form:v,...y}=e,[N,C]=t.useState(null),w=(0,s.useComposedRefs)(i,e=>C(e)),T=t.useRef(!1),S=!N||v||!!N.closest("form"),[k,R]=(0,l.useControllableState)({prop:m,defaultProp:u??!1,onChange:g,caller:c});return(0,r.jsxs)(p,{scope:d,checked:k,disabled:x,children:[(0,r.jsx)(o.Primitive.button,{type:"button",role:"switch","aria-checked":k,"aria-required":h,"data-state":b(k),"data-disabled":x?"":void 0,disabled:x,value:f,...y,ref:w,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{R(e=>!e),S&&(T.current=e.isPropagationStopped(),T.current||e.stopPropagation())})}),S&&(0,r.jsx)(j,{control:N,bubbles:!T.current,name:n,value:f,checked:k,required:h,disabled:x,form:v,style:{transform:"translateX(-100%)"}})]})});x.displayName=c;var f="SwitchThumb",g=t.forwardRef((e,t)=>{let{__scopeSwitch:a,...s}=e,i=h(f,a);return(0,r.jsx)(o.Primitive.span,{"data-state":b(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});g.displayName=f;var j=t.forwardRef(({__scopeSwitch:e,control:a,checked:i,bubbles:l=!0,...o},c)=>{let m=t.useRef(null),u=(0,s.useComposedRefs)(m,c),p=(0,d.usePrevious)(i),h=(0,n.useSize)(a);return t.useEffect(()=>{let e=m.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==i&&r){let t=new Event("click",{bubbles:l});r.call(e,i),e.dispatchEvent(t)}},[p,i,l]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...o,tabIndex:-1,ref:u,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}j.displayName="SwitchBubbleInput";var v=e.i(47163);let y=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)(x,{className:(0,v.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:a,children:(0,r.jsx)(g,{className:(0,v.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));y.displayName=x.displayName,e.s(["Switch",()=>y],19036)},47627,e=>{"use strict";var r=e.i(92316),t=e.i(96040),a=e.i(47163);let s=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})}));s.displayName="Table";let i=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("thead",{ref:s,className:(0,a.cn)("[&_tr]:border-b border-border/30",e),...t}));i.displayName="TableHeader";let l=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tbody",{ref:s,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t}));l.displayName="TableBody",t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tfoot",{ref:s,className:(0,a.cn)("border-t border-border/30 bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tr",{ref:s,className:(0,a.cn)("border-b border-border/30 transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let n=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("th",{ref:s,className:(0,a.cn)("h-12 px-4 text-right align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));n.displayName="TableHead";let o=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("td",{ref:s,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));o.displayName="TableCell",t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("caption",{ref:s,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>s,"TableBody",()=>l,"TableCell",()=>o,"TableHead",()=>n,"TableHeader",()=>i,"TableRow",()=>d])},9077,e=>{"use strict";let r=(0,e.i(57929).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],9077)},10748,e=>{"use strict";let r=(0,e.i(57929).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);e.s(["Edit",()=>r],10748)},10524,e=>{"use strict";var r=e.i(92316),t=e.i(72836),a=e.i(84722),s=e.i(480),i=e.i(67881),l=e.i(23750),d=e.i(10708),n=e.i(84762),o=e.i(19036),c=e.i(70065),m=e.i(24327),u=e.i(17513),p=e.i(20682),h=e.i(97923),x=e.i(96040),f=e.i(19956),g=e.i(86104),j=e.i(20377),b=e.i(62767),v=e.i(94179),y=e.i(62870),N=e.i(30374),C=e.i(47627),w=e.i(36361),T=e.i(9077),S=e.i(67910),k=e.i(10748);function R({supplier:e,onUpdate:t}){let{products:a}=(0,w.useProductStore)(),{getActiveCategories:s}=(0,u.useCategoryStore)(),{toast:n}=(0,p.useToast)(),[o,c]=(0,x.useState)(!1),[m,h]=(0,x.useState)(null),[f,g]=(0,x.useState)(""),[j,b]=(0,x.useState)(0),[R,I]=(0,x.useState)(void 0),[P,H]=(0,x.useState)("all"),B=s(),F=e.products||[],D=(0,x.useMemo)(()=>{let r=a.filter(r=>r.category&&e.categories.includes(r.category));if("all"!==P&&(r=r.filter(e=>e.category===P)),!m){let e=F.map(e=>e.productId);r=r.filter(r=>!e.includes(r.id))}return r},[a,e.categories,P,F,m]),L=(0,x.useMemo)(()=>{let e={};return F.forEach(r=>{e[r.category]||(e[r.category]=[]),e[r.category].push(r)}),e},[F]);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"مدیریت محصولات"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"محصولات و تعداد موجودی که این تامین‌کننده می‌تواند تامین کند"})]}),(0,r.jsxs)(i.Button,{onClick:()=>c(!0),size:"sm",children:[(0,r.jsx)(T.Plus,{className:"ml-2 h-4 w-4"}),"افزودن محصول"]})]}),0===F.length?(0,r.jsx)("div",{className:"text-center py-8 border border-dashed rounded-lg",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"هیچ محصولی اضافه نشده است"})}):(0,r.jsx)("div",{className:"space-y-4",children:Object.entries(L).map(([e,a])=>(0,r.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-muted/50 px-4 py-2 border-b",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(v.Badge,{variant:"secondary",children:e}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a.length," محصول - مجموع:"," ",new Intl.NumberFormat("fa-IR").format(a.reduce((e,r)=>e+r.quantity,0))," ","عدد"]})]})}),(0,r.jsxs)(C.Table,{children:[(0,r.jsx)(C.TableHeader,{children:(0,r.jsxs)(C.TableRow,{children:[(0,r.jsx)(C.TableHead,{children:"محصول"}),(0,r.jsx)(C.TableHead,{children:"تعداد"}),(0,r.jsx)(C.TableHead,{children:"قیمت واحد"}),(0,r.jsx)(C.TableHead,{className:"text-left",children:"عملیات"})]})}),(0,r.jsx)(C.TableBody,{children:a.map(e=>(0,r.jsxs)(C.TableRow,{children:[(0,r.jsx)(C.TableCell,{className:"font-medium",children:e.productName}),(0,r.jsxs)(C.TableCell,{children:[new Intl.NumberFormat("fa-IR").format(e.quantity)," عدد"]}),(0,r.jsx)(C.TableCell,{children:e.unitPrice?`${new Intl.NumberFormat("fa-IR").format(e.unitPrice)} تومان`:"-"}),(0,r.jsx)(C.TableCell,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>{h(e),g(e.productId),b(e.quantity),I(e.unitPrice),c(!0)},children:(0,r.jsx)(k.Edit,{className:"h-4 w-4"})}),(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>{var r;return r=e.productId,void(t(F.filter(e=>e.productId!==r)),n({title:"موفق",description:"محصول حذف شد"}))},children:(0,r.jsx)(S.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.productId))})]})]},e))}),(0,r.jsx)(N.Dialog,{open:o,onOpenChange:c,children:(0,r.jsxs)(N.DialogContent,{className:"max-w-md",children:[(0,r.jsxs)(N.DialogHeader,{children:[(0,r.jsx)(N.DialogTitle,{children:m?"ویرایش محصول":"افزودن محصول"}),(0,r.jsx)(N.DialogDescription,{children:"محصول و تعداد موجودی را انتخاب کنید"})]}),(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{children:"فیلتر دسته‌بندی"}),(0,r.jsxs)(y.Select,{value:P,onValueChange:H,children:[(0,r.jsx)(y.SelectTrigger,{children:(0,r.jsx)(y.SelectValue,{placeholder:"همه دسته‌بندی‌ها"})}),(0,r.jsxs)(y.SelectContent,{children:[(0,r.jsx)(y.SelectItem,{value:"all",children:"همه دسته‌بندی‌ها"}),B.map(e=>(0,r.jsx)(y.SelectItem,{value:e.name,children:e.name},e.id))]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{children:"محصول *"}),(0,r.jsxs)(y.Select,{value:f,onValueChange:g,children:[(0,r.jsx)(y.SelectTrigger,{children:(0,r.jsx)(y.SelectValue,{placeholder:"انتخاب محصول"})}),(0,r.jsx)(y.SelectContent,{children:D.map(e=>(0,r.jsxs)(y.SelectItem,{value:e.id,children:[e.name," (",e.category,")"]},e.id))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{children:"تعداد *"}),(0,r.jsx)(l.Input,{type:"number",min:"1",value:j||"",onChange:e=>b(parseInt(e.target.value)||0),placeholder:"تعداد موجودی"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{children:"قیمت واحد (اختیاری)"}),(0,r.jsx)(l.Input,{type:"number",min:"0",value:R||"",onChange:e=>I(e.target.value?parseFloat(e.target.value):void 0),placeholder:"قیمت واحد از تامین‌کننده"})]})]}),(0,r.jsxs)(N.DialogFooter,{children:[(0,r.jsx)(i.Button,{variant:"outline",onClick:()=>{g(""),b(0),I(void 0),h(null),c(!1)},children:"انصراف"}),(0,r.jsx)(i.Button,{onClick:()=>{if(!f||j<=0)return void n({title:"خطا",description:"لطفاً محصول و تعداد را وارد کنید",variant:"destructive"});let e=a.find(e=>e.id===f);if(!e)return;let r={productId:e.id,productName:e.name,category:e.category||"",quantity:j,unitPrice:R||void 0};m?(t(F.map(e=>e.productId===m.productId?r:e)),n({title:"موفق",description:"محصول به‌روزرسانی شد"})):(t([...F,r]),n({title:"موفق",description:"محصول اضافه شد"})),g(""),b(0),I(void 0),h(null),c(!1)},children:m?"ذخیره تغییرات":"افزودن"})]})]})})]})}let I=s.object({name:s.string().min(1,"نام تامین‌کننده الزامی است"),phone:s.string().min(1,"شماره تماس الزامی است"),email:s.string().email("ایمیل معتبر نیست").optional().or(s.literal("")),categories:s.array(s.string()).min(1,"حداقل یک دسته‌بندی الزامی است"),notes:s.string().optional(),isActive:s.boolean(),lowStockThreshold:s.number().min(0).optional()});function P({supplier:e,onSuccess:s}){let y=(0,h.useRouter)(),{addSupplier:N,updateSupplier:C}=(0,m.useSupplierStore)(),{getActiveCategories:w,loadCategoriesFromDB:T}=(0,u.useCategoryStore)(),{toast:S}=(0,p.useToast)(),k=w(),[P,H]=(0,x.useState)(e?.categories||[]);(0,x.useEffect)(()=>{(async()=>{try{await T()}catch(e){console.error("Error loading categories:",e)}})()},[T]);let[B,F]=(0,x.useState)(e?.products||[]),{register:D,handleSubmit:L,formState:{errors:E,isSubmitting:A},setValue:M,watch:z}=(0,t.useForm)({resolver:(0,a.zodResolver)(I),defaultValues:e?{name:e.name,phone:e.phone,email:e.email||"",categories:e.categories,notes:e.notes||"",isActive:e.isActive,lowStockThreshold:e.lowStockThreshold||10}:{name:"",phone:"",email:"",categories:[],notes:"",isActive:!0,lowStockThreshold:10}}),O=z("isActive"),q=e=>{let r=P.includes(e)?P.filter(r=>r!==e):[...P,e];H(r),M("categories",r)},V=async r=>{try{if(0===P.length)return void S({title:"خطا",description:"حداقل یک دسته‌بندی باید انتخاب شود",variant:"destructive"});let t={...r,categories:P,products:B,email:r.email||void 0,notes:r.notes||void 0};e?(C(e.id,t),S({title:"موفق",description:"تامین‌کننده با موفقیت به‌روزرسانی شد"})):(N(t),S({title:"موفق",description:"تامین‌کننده با موفقیت اضافه شد"})),s?.(),y.push("/admin/suppliers")}catch(e){S({title:"خطا",description:"خطایی رخ داد. لطفاً دوباره تلاش کنید.",variant:"destructive"})}};return(0,r.jsxs)("form",{onSubmit:L(V),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(c.Card,{className:"shadow-sm",children:[(0,r.jsx)(c.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,r.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(j.Phone,{className:"h-5 w-5 text-primary"}),"اطلاعات تماس"]})}),(0,r.jsxs)(c.CardContent,{className:"space-y-4 pt-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{htmlFor:"name",children:"نام تامین‌کننده *"}),(0,r.jsx)(l.Input,{id:"name",...D("name"),placeholder:"نام تامین‌کننده"}),E.name&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:E.name.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{htmlFor:"phone",children:"شماره تماس *"}),(0,r.jsx)(l.Input,{id:"phone",...D("phone"),placeholder:"09123456789",type:"tel"}),E.phone&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:E.phone.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{htmlFor:"email",children:"ایمیل"}),(0,r.jsx)(l.Input,{id:"email",...D("email"),placeholder:"example@email.com",type:"email"}),E.email&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:E.email.message})]})]})]}),(0,r.jsxs)(c.Card,{className:"shadow-sm",children:[(0,r.jsx)(c.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,r.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(b.Package,{className:"h-5 w-5 text-primary"}),"دسته‌بندی‌ها و تنظیمات"]})}),(0,r.jsxs)(c.CardContent,{className:"space-y-4 pt-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{children:"دسته‌بندی محصولات *"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 p-3 border border-border/30 rounded-lg min-h-[120px]",children:k.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>q(e.name),className:`
                      p-2 rounded text-sm text-right transition-colors
                      ${P.includes(e.name)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}
                    `,children:e.name},e.id))}),P.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:P.map(e=>(0,r.jsxs)(v.Badge,{variant:"default",className:"gap-1",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>q(e),className:"ml-1 hover:opacity-70",children:(0,r.jsx)(f.X,{className:"h-3 w-3"})})]},e))}),E.categories&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:E.categories.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{htmlFor:"lowStockThreshold",children:"حد آستانه موجودی کم (عدد)"}),(0,r.jsx)(l.Input,{id:"lowStockThreshold",type:"number",...D("lowStockThreshold",{valueAsNumber:!0}),placeholder:"10"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"وقتی موجودی محصولات به این عدد یا کمتر برسد، هشدار نمایش داده می‌شود"})]})]})]})]}),(0,r.jsxs)(c.Card,{className:"shadow-sm",children:[(0,r.jsx)(c.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,r.jsx)(c.CardTitle,{children:"یادداشت‌ها"})}),(0,r.jsx)(c.CardContent,{className:"pt-6",children:(0,r.jsx)(n.Textarea,{...D("notes"),placeholder:"یادداشت‌های اضافی درباره این تامین‌کننده...",rows:4})})]}),(0,r.jsxs)(c.Card,{className:"shadow-sm",children:[(0,r.jsx)(c.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,r.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(b.Package,{className:"h-5 w-5 text-primary"}),"مدیریت محصولات"]})}),(0,r.jsx)(c.CardContent,{className:"pt-6",children:(0,r.jsx)(R,{supplier:{...e,categories:P,products:B},onUpdate:F})})]}),(0,r.jsxs)(c.Card,{className:"shadow-sm",children:[(0,r.jsx)(c.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-transparent border-b",children:(0,r.jsx)(c.CardTitle,{children:"وضعیت"})}),(0,r.jsx)(c.CardContent,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(d.Label,{children:"فعال"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"تامین‌کننده فعال است و می‌تواند محصولات را تامین کند"})]}),(0,r.jsx)(o.Switch,{checked:O,onCheckedChange:e=>M("isActive",e)})]})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t border-border/30",children:[(0,r.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>y.back(),size:"lg",children:"انصراف"}),(0,r.jsx)(i.Button,{type:"submit",disabled:A,size:"lg",className:"min-w-[140px]",children:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Loader2,{className:"ml-2 h-4 w-4 animate-spin"}),"در حال ذخیره..."]}):e?"ذخیره تغییرات":"افزودن تامین‌کننده"})]})]})}e.s(["SupplierForm",()=>P],10524)},64707,e=>{"use strict";var r=e.i(92316),t=e.i(10524),a=e.i(70065);function s(){return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"افزودن تامین‌کننده جدید"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"اطلاعات تامین‌کننده جدید را وارد کنید"})]}),(0,r.jsxs)(a.Card,{children:[(0,r.jsx)(a.CardHeader,{children:(0,r.jsx)(a.CardTitle,{children:"فرم تامین‌کننده"})}),(0,r.jsx)(a.CardContent,{children:(0,r.jsx)(t.SupplierForm,{})})]})]})}e.s(["default",()=>s])}]);