# ๐ ุฑุงูููุง ฺฉุงูู ุงุณุชูุฑุงุฑ ูพุฑูฺู ุฏุฑ ูุงุณุช

## ๐ ููุฑุณุช ูุทุงูุจ

1. [ูพุดโูุงุฒูุง](#ูพุด-ูุงุฒูุง)
2. [ูุฑุญูู 1: Clone ฺฉุฑุฏู ูพุฑูฺู](#ูุฑุญูู-1-clone-ฺฉุฑุฏู-ูพุฑูฺู)
3. [ูุฑุญูู 2: ูุตุจ Dependencies](#ูุฑุญูู-2-ูุตุจ-dependencies)
4. [ูุฑุญูู 3: ุชูุธู ูุงู .env](#ูุฑุญูู-3-ุชูุธู-ูุงู-env)
5. [ูุฑุญูู 4: ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ MySQL](#ูุฑุญูู-4-ุฑุงู-ุงูุฏุงุฒ-ุฏุชุงุจุณ-mysql)
6. [ูุฑุญูู 5: Build ูพุฑูฺู](#ูุฑุญูู-5-build-ูพุฑูฺู)
7. [ูุฑุญูู 6: ุฑุงูโุงูุฏุงุฒ ุจุง PM2](#ูุฑุญูู-6-ุฑุงู-ุงูุฏุงุฒ-ุจุง-pm2)
8. [ูุฑุญูู 7: ุจุฑุฑุณ ู ุชุณุช](#ูุฑุญูู-7-ุจุฑุฑุณ-ู-ุชุณุช)
9. [ุฑูุน ูุดฺฉูุงุช](#ุฑูุน-ูุดฺฉูุงุช)

---

## ๐ง ูพุดโูุงุฒูุง

### ุจุฑุฑุณ ุฏุณุชุฑุณโูุง

1. **ุฏุณุชุฑุณ ุจู cPanel** โ
2. **ุฏุณุชุฑุณ ุจู Terminal (SSH)** โ
3. **ุฏุณุชุฑุณ ุจู MySQL Databases** โ

### ุจุฑุฑุณ ูุตุจโูุง

ุฏุฑ ุชุฑููุงู ูุงุณุช ุงู ุฏุณุชูุฑุงุช ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```bash
# ุจุฑุฑุณ Node.js
node --version
# ุจุงุฏ v18 ุง ุจุงูุงุชุฑ ุจุงุดุฏ

# ุจุฑุฑุณ npm
npm --version
# ุจุงุฏ 8 ุง ุจุงูุงุชุฑ ุจุงุดุฏ

# ุจุฑุฑุณ Git
git --version

# ุจุฑุฑุณ PM2 (ุงฺฏุฑ ูุตุจ ูุณุชุ ุจุนุฏุงู ูุตุจ ูโฺฉูู)
pm2 --version
```

---

## ๐ฅ ูุฑุญูู 1: Clone ฺฉุฑุฏู ูพุฑูฺู

### ุฏุฑ ุชุฑููุงู ูุงุณุช:

```bash
# ุฑูุชู ุจู ุฏุงุฑฺฉุชูุฑ public_html
cd ~/public_html

# Clone ฺฉุฑุฏู ูพุฑูฺู
git clone https://github.com/mohamadjavad200024/saded.git

# ุฑูุชู ุจู ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู
cd saded

# ุจุฑุฑุณ ูุงูโูุง
ls -la
```

**ูฺฉุชู:** ุงฺฏุฑ ูุจูุงู ูพุฑูฺู clone ุดุฏู ุงุณุช:
```bash
cd ~/public_html/saded
git fetch origin
git reset --hard origin/main
```

---

## ๐ฆ ูุฑุญูู 2: ูุตุจ Dependencies

```bash
# ุงุทููุงู ุงุฒ ูุณุฑ ุฏุฑุณุช
pwd
# ุจุงุฏ ุจุงุดุฏ: /home/shop1111/public_html/saded

# ูุตุจ dependencies (ุงู ฺฉุงุฑ ููฺฉู ุงุณุช ฺูุฏ ุฏููู ุทูู ุจฺฉุดุฏ)
npm install
```

**ุงฺฏุฑ ุฎุทุง ฺฏุฑูุชุฏ:**
```bash
# ูพุฏุง ฺฉุฑุฏู npm
which npm

# ุงุณุชูุงุฏู ุงุฒ npm ุจุง ูุณุฑ ฺฉุงูู
~/nodevenv/repositories/saded/20/bin/npm install
```

**ูพุณ ุงุฒ ูุตุจ ูููู:**
```bash
# ุจุฑุฑุณ ูุตุจ
ls node_modules
```

---

## โ๏ธ ูุฑุญูู 3: ุชูุธู ูุงู .env

### ุฏุฑ cPanel:

1. ุงุฒ **cPanel โ MySQL Databases** ุจุฑูุฏ
2. ุงุทูุงุนุงุช ุฏุชุงุจุณ ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ:
   - Database Name
   - Database User
   - Database Password
   - Host (ูุนูููุงู localhost)

### ุฏุฑ ุชุฑููุงู:

```bash
# ุงุฌุงุฏ ูุงู .env
nano .env
```

### ูุญุชูุง ูุงู .env:

```env
# ============================================
# Database Configuration (MySQL)
# ============================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=shop1111_saded02
DB_USER=shop1111_saded002
DB_PASSWORD=your_password_here

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
NEXT_PUBLIC_URL=https://yourdomain.com

# ============================================
# Zarinpal Payment Gateway (ุงุฎุชุงุฑ)
# ============================================
# ZARINPAL_MERCHANT_ID=your-merchant-id

# ============================================
# NextAuth Configuration (ุงุฎุชุงุฑ)
# ============================================
# NEXTAUTH_URL=https://yourdomain.com
# NEXTAUTH_SECRET=your-secret-key-here

# ============================================
# JWT Secret (ุงุฎุชุงุฑ)
# ============================================
# JWT_SECRET=your-jwt-secret-key
```

**ูฺฉุงุช:**
- `DB_NAME`, `DB_USER`, `DB_PASSWORD` ุฑุง ุงุฒ cPanel ฺฉูพ ฺฉูุฏ
- `NEXT_PUBLIC_URL` ุฑุง ุจุง ุฏุงููู ุฎูุฏ ุฌุงฺฏุฒู ฺฉูุฏ
- ุจุฑุง ุฐุฎุฑู ุฏุฑ nano: `Ctrl + O` ุณูพุณ `Enter` ุณูพุณ `Ctrl + X`

---

## ๐๏ธ ูุฑุญูู 4: ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ MySQL

### ุฏุฑ cPanel:

1. ุงุฒ **cPanel โ MySQL Databases** ุจุฑูุฏ
2. ุงฺฏุฑ ุฏุชุงุจุณ ูุฌูุฏ ูุฏุงุฑุฏ:
   - ฺฉ ุฏุชุงุจุณ ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ
   - ฺฉ ฺฉุงุฑุจุฑ MySQL ุงุฌุงุฏ ฺฉูุฏ
   - ฺฉุงุฑุจุฑ ุฑุง ุจู ุฏุชุงุจุณ ุงุถุงูู ฺฉูุฏ
   - ุชูุงู ุฏุณุชุฑุณโูุง ุฑุง ุจู ฺฉุงุฑุจุฑ ุจุฏูุฏ

### ุฏุฑ ุชุฑููุงู:

```bash
# ุฑุงูโุงูุฏุงุฒ ุฌุฏุงูู ุฏุชุงุจุณ
npm run setup-mysql
```

**ุงฺฏุฑ ุฎุทุง ฺฏุฑูุชุฏ:**
```bash
# ุชุณุช ุงุชุตุงู ุจู ุฏุชุงุจุณ
node scripts/test-db-connection.js
```

**ูพุณ ุงุฒ ููููุช:**
```bash
# ุจุฑุฑุณ ุฌุฏุงูู ุงุฌุงุฏ ุดุฏู
mysql -u shop1111_saded002 -p shop1111_saded02 -e "SHOW TABLES;"
```

---

## ๐จ ูุฑุญูู 5: Build ูพุฑูฺู

```bash
# Build ุจุฑุง production
npm run build
```

**ุงู ฺฉุงุฑ ููฺฉู ุงุณุช ฺูุฏ ุฏููู ุทูู ุจฺฉุดุฏ.**

**ูพุณ ุงุฒ Build ูููู:**
```bash
# ุจุฑุฑุณ ูุงูโูุง build ุดุฏู
ls -la .next
```

---

## ๐ ูุฑุญูู 6: ุฑุงูโุงูุฏุงุฒ ุจุง PM2

### ูุตุจ PM2 (ุงฺฏุฑ ูุตุจ ูุณุช):

```bash
# ูุตุจ PM2 ุจู ุตูุฑุช global
npm install -g pm2

# ุง
~/nodevenv/repositories/saded/20/bin/npm install -g pm2
```

### ุฑุงูโุงูุฏุงุฒ ูพุฑูฺู:

```bash
# ุจุฑุฑุณ ูุงู ecosystem.config.js
cat ecosystem.config.js

# ุฑุงูโุงูุฏุงุฒ ุจุง PM2
pm2 start ecosystem.config.js

# ุฐุฎุฑู ุชูุธูุงุช PM2
pm2 save

# ุชูุธู PM2 ุจุฑุง ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ
pm2 startup
# ุฏุณุชูุฑ ุฎุฑูุฌ ุฑุง ฺฉูพ ู ุงุฌุฑุง ฺฉูุฏ
```

### ุฏุณุชูุฑุงุช ููุฏ PM2:

```bash
# ูุดุงูุฏู ูุถุนุช
pm2 status

# ูุดุงูุฏู ูุงฺฏโูุง
pm2 logs saded

# ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ
pm2 restart saded

# ุชููู
pm2 stop saded

# ุญุฐู ุงุฒ PM2
pm2 delete saded

# ูุดุงูุฏู ุงุทูุงุนุงุช ุฌุฒุฆ
pm2 info saded
```

---

## โ ูุฑุญูู 7: ุจุฑุฑุณ ู ุชุณุช

### ุชุณุช ุงุชุตุงู ุฏุชุงุจุณ:

```bash
# ุชุณุช ุงุชุตุงู
node scripts/test-db-connection.js

# ุง
npm run health-check
```

### ุชุณุช API:

```bash
# ุจุฑุฑุณ health check
curl http://localhost:3000/api/health/db

# ุจุฑุฑุณ ูุณุช ูุญุตููุงุช
curl http://localhost:3000/api/products

# ุจุฑุฑุณ ูุณุช ุฏุณุชูโุจูุฏโูุง
curl http://localhost:3000/api/categories
```

### ุจุฑุฑุณ ุฏุฑ ูุฑูุฑฺฏุฑ:

1. ุจู ุขุฏุฑุณ ุฏุงููู ุฎูุฏ ุจุฑูุฏ
2. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุณุงุช ููุฏ ูโุดูุฏ
3. ุจุฑุฑุณ ฺฉูุฏ ฺฉู API ูุง ฺฉุงุฑ ูโฺฉููุฏ

---

## ๐ ุฑูุน ูุดฺฉูุงุช

### ูุดฺฉู 1: npm ูพุฏุง ููโุดูุฏ

```bash
# ูพุฏุง ฺฉุฑุฏู npm
which npm

# ุงุณุชูุงุฏู ุงุฒ ูุณุฑ ฺฉุงูู
/path/to/npm install
```

### ูุดฺฉู 2: ุฎุทุง ุงุชุตุงู ุจู ุฏุชุงุจุณ

```bash
# ุจุฑุฑุณ ุงุทูุงุนุงุช ุฏุชุงุจุณ ุฏุฑ .env
cat .env | grep DB_

# ุชุณุช ุงุชุตุงู ุฏุณุช
mysql -u shop1111_saded002 -p shop1111_saded02
```

### ูุดฺฉู 3: PM2 ูพุฏุง ููโุดูุฏ

```bash
# ูุตุจ PM2
npm install -g pm2

# ุง ุงุณุชูุงุฏู ุงุฒ npx
npx pm2 start ecosystem.config.js
```

### ูุดฺฉู 4: ูพูุฑุช ุฏุฑ ุฏุณุชุฑุณ ูุณุช

```bash
# ุจุฑุฑุณ ูพูุฑุช ุฏุฑ ecosystem.config.js
cat ecosystem.config.js | grep PORT

# ุชุบุฑ ูพูุฑุช ุฏุฑ .env
# PORT=3001
```

### ูุดฺฉู 5: Build ุฎุทุง ูโุฏูุฏ

```bash
# ุจุฑุฑุณ ุฎุทุงูุง build
npm run build 2>&1 | tee build-error.log

# ุจุฑุฑุณ ูุงฺฏโูุง
cat build-error.log
```

---

## ๐ ฺฺฉโูุณุช ููุง

- [ ] ูพุฑูฺู clone ุดุฏ
- [ ] Dependencies ูุตุจ ุดุฏูุฏ
- [ ] ูุงู .env ุงุฌุงุฏ ู ุชูุธู ุดุฏ
- [ ] ุฏุชุงุจุณ MySQL ุฑุงูโุงูุฏุงุฒ ุดุฏ
- [ ] ุฌุฏุงูู ุฏุชุงุจุณ ุงุฌุงุฏ ุดุฏูุฏ
- [ ] ูพุฑูฺู build ุดุฏ
- [ ] PM2 ูุตุจ ุดุฏ
- [ ] ูพุฑูฺู ุจุง PM2 ุฑุงูโุงูุฏุงุฒ ุดุฏ
- [ ] PM2 save ู startup ุงูุฌุงู ุดุฏ
- [ ] ุชุณุช ุงุชุตุงู ุฏุชุงุจุณ ูููู ุจูุฏ
- [ ] API ูุง ฺฉุงุฑ ูโฺฉููุฏ
- [ ] ุณุงุช ุฏุฑ ูุฑูุฑฺฏุฑ ููุฏ ูโุดูุฏ

---

## ๐ ุชุจุฑฺฉ!

ูพุฑูฺู ุดูุง ุจุง ููููุช ุฏุฑ ูุงุณุช ุงุณุชูุฑุงุฑ ุงูุช!

### ุฏุณุชูุฑุงุช ููุฏ ุจุฑุง ูฺฏูุฏุงุฑ:

```bash
# ูุดุงูุฏู ูุถุนุช
pm2 status

# ูุดุงูุฏู ูุงฺฏโูุง
pm2 logs saded

# ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ูพุณ ุงุฒ ุชุบุฑุงุช
pm2 restart saded

# ุจูโุฑูุฒุฑุณุงู ุงุฒ Git
cd ~/public_html/saded
git pull origin main
npm install
npm run build
pm2 restart saded
```

**ูููู ุจุงุดุฏ! ๐**

