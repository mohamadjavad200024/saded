# ุฑุงูููุง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ PostgreSQL

## ๐ฏ ูุฒุงุง PostgreSQL ูุณุจุช ุจู SQLite

- โ **ุจุฏูู ูุงุฒ ุจู build ฺฉุฑุฏู** - ููุท ูุตุจ ูโุดูุฏ ู ฺฉุงุฑ ูโฺฉูุฏ
- โ **ุณุฑุน ู ุณุงุฏู** - ุจุฏูู ุฏุฑุฏุณุฑูุง native binding
- โ **ูุฏุฑุชููุฏ** - ููุงุณุจ ุจุฑุง ูพุฑูฺูโูุง ุจุฒุฑฺฏ
- โ **ูุงุจู ูฺฏูุฏุงุฑ** - ุฑุงูโุงูุฏุงุฒ ู ูฺฏูุฏุงุฑ ุขุณุงู

## ๐ ุฑูุด ุณุฑุน (ุชูุตู ูโุดูุฏ)

ููุท ฺฉ ุฏุณุชูุฑ ุงุฌุฑุง ฺฉูุฏ:

```bash
pnpm setup-postgres
```

ุงู ุงุณฺฉุฑูพุช ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ:
- โ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู PostgreSQL ูุตุจ ุงุณุช ุง ูู
- โ ุฏุชุงุจุณ 'saded' ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ
- โ ุฌุฏุงูู ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ
- โ ุฏุงุฏูโูุง JSON ุฑุง ุจู PostgreSQL ููุชูู ูโฺฉูุฏ

## ๐ ูพุดโูุงุฒูุง

### ูุตุจ PostgreSQL

1. **ุฏุงูููุฏ PostgreSQL:**
   - Windows: https://www.postgresql.org/download/windows/
   - Mac: `brew install postgresql@16`
   - Linux: `sudo apt-get install postgresql` (Ubuntu/Debian)

2. **ูุตุจ:**
   - Windows: Installer ุฑุง ุงุฌุฑุง ฺฉูุฏ
   - ููฺฏุงู ูุตุจุ ุฑูุฒ ุฑุง **"saded"** ุชูุธู ฺฉูุฏ (ุง ูุฑ ุฑูุฒ ุฏฺฏุฑ ฺฉู ูโุฎูุงูุฏ)
   - Port ุฑุง 5432 ูฺฏู ุฏุงุฑุฏ (ูพุดโูุฑุถ)

3. **ุจุฑุฑุณ ูุตุจ:**
   ```bash
   psql --version
   ```

## โ๏ธ ุชูุธูุงุช ุฏุชุงุจุณ

ูพุณ ุงุฒ ูุตุจ PostgreSQLุ ุฏุชุงุจุณ ุจุง ูุดุฎุตุงุช ุฒุฑ ุงุฌุงุฏ ูโุดูุฏ:

- **ูุงู ุฏุชุงุจุณ:** `saded`
- **ฺฉุงุฑุจุฑ:** `postgres`
- **ุฑูุฒ:** `saded` (ุง ุฑูุฒ ฺฉู ููฺฏุงู ูุตุจ ุชูุธู ฺฉุฑุฏุฏ)
- **Host:** `localhost`
- **Port:** `5432`

### ุชุบุฑ ุฑูุฒ (ุงฺฏุฑ ูุงุฒ ุจุงุดุฏ)

ุงฺฏุฑ ุฑูุฒ ุฑุง "saded" ุชูุธู ูฺฉุฑุฏูโุงุฏ:

```bash
psql -U postgres
```

ุณูพุณ ุฏุฑ PostgreSQL:

```sql
ALTER USER postgres PASSWORD 'saded';
```

ุง ูโุชูุงูุฏ ุฏุฑ ูุงู `.env` ุฑูุฒ ุฑุง ุชุบุฑ ุฏูุฏ:

```env
DB_PASSWORD=your_password_here
```

## โ ุจุฑุฑุณ ููููุช

ุจุนุฏ ุงุฒ ุงุฌุฑุง `pnpm setup-postgres`ุ ุงฺฏุฑ ูพุงู ุฒุฑ ุฑุง ุฏุฏุฏุ ููู ฺุฒ ุฏุฑุณุช ุงุณุช:

```
๐ PostgreSQL setup completed successfully!
โ All data is now in PostgreSQL!
```

## ๐ ุจุฑุฑุณ ุฏุณุช

ุจุฑุง ุจุฑุฑุณ ุงุชุตุงู ุจู ุฏุชุงุจุณ:

```bash
psql -U postgres -d saded
```

ุณูพุณ ูโุชูุงูุฏ ุฌุฏุงูู ุฑุง ุจุจูุฏ:

```sql
\dt
SELECT COUNT(*) FROM products;
```

## ๐ Migration ุฏุณุช

ุงฺฏุฑ ูโุฎูุงูุฏ migration ุฑุง ุจู ุตูุฑุช ุฏุณุช ุงุฌุฑุง ฺฉูุฏ:

```bash
pnpm migrate-postgres
```

## ๐ง ุชูุธูุงุช Environment Variables

ูโุชูุงูุฏ ุชูุธูุงุช ุฑุง ุฏุฑ ูุงู `.env` ุชุบุฑ ุฏูุฏ:

```env
DB_HOST=localhost
DB_PORT=5432
DB_NAME=saded
DB_USER=postgres
DB_PASSWORD=saded
```

## ๐ ุญู ูุดฺฉูุงุช

### ุฎุทุง: "PostgreSQL not found"
- PostgreSQL ุฑุง ูุตุจ ฺฉูุฏ (ุฑุงูููุง ุจุงูุง)
- ูุทูุฆู ุดูุฏ ฺฉู PostgreSQL service ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช

### ุฎุทุง: "Cannot connect to PostgreSQL"
- ูุทูุฆู ุดูุฏ PostgreSQL service ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช:
  - Windows: Services โ PostgreSQL
  - Mac/Linux: `brew services start postgresql` ุง `sudo systemctl start postgresql`
- ุฑูุฒ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- ูุทูุฆู ุดูุฏ user "postgres" ูุฌูุฏ ุฏุงุฑุฏ

### ุฎุทุง: "Database already exists"
- ุงู ุฎุทุง ูุณุช! ุฏุชุงุจุณ ูุจูุงู ุงุฌุงุฏ ุดุฏู ุงุณุช
- ุงุณฺฉุฑูพุช ุจู ฺฉุงุฑ ุฎูุฏ ุงุฏุงูู ูโุฏูุฏ

### ุฎุทุง: "Migration failed"
- ูุทูุฆู ุดูุฏ ฺฉู PostgreSQL ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช
- ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุงูโูุง JSON ุฏุฑ ูพูุดู `data/` ูุฌูุฏ ุฏุงุฑูุฏ
- ูุงฺฏโูุง ุฎุทุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ

## ๐ ุงุทูุงุนุงุช ุจุดุชุฑ

ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู PostgreSQL:
- ูุณุชูุฏุงุช ุฑุณู: https://www.postgresql.org/docs/
- ุขููุฒุดโูุง ูุงุฑุณ: https://postgresql.ir/

## ๐ ููุงุณู ุจุง SQLite

| ูฺฺฏ | PostgreSQL | SQLite |
|-------|-----------|--------|
| ูุตุจ | ุณุงุฏู (ููุท ูุตุจ) | ูุงุฒ ุจู build ฺฉุฑุฏู |
| ุณุฑุนุช ุฑุงูโุงูุฏุงุฒ | ุณุฑุน | ฺฉูุฏ (ูุงุฒ ุจู Visual Studio) |
| ููุงุณุจ ุจุฑุง | ูพุฑูฺูโูุง ุจุฒุฑฺฏ | ูพุฑูฺูโูุง ฺฉูฺฺฉ |
| ูุงุฒ ุจู build | โ | โ |
| ุฏุฑุฏุณุฑ | ฺฉู | ุฒุงุฏ |

**ูุชุฌู:** ุจุฑุง ุงู ูพุฑูฺูุ PostgreSQL ุงูุชุฎุงุจ ุจูุชุฑ ุงุณุช! ๐

